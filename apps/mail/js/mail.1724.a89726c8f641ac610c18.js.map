{"version":3,"file":"mail.1724.a89726c8f641ac610c18.js","mappings":"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CACV,MACA,KAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,aAAc,CACb,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,KACA,MAED,UAAW,CACV,KACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,KACA,MAED,UAAW,CACV,KACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,KACA,MAED,UAAW,CACV,KACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,KACA,MAED,UAAW,CACV,MACA,MAED,aAAc,CACb,MACA,MAED,UAAW,CACV,KACA,MAED,OAAQ,CACP,MACA,KAED,UAAW,CACV,MACA,KAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,KAED,UAAW,CACV,MACA,KAED,OAAQ,CACP,MACA,MAED,YAAa,CACZ,MACA,MAED,eAAgB,CACf,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,KAED,UAAW,CACV,MACA,KAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,KACA,MAED,UAAW,CACV,KACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,OAAQ,CACP,MACA,MAED,UAAW,CACV,MACA,MAED,aAAc,CACb,MACA,MAED,UAAW,CACV,MACA,OAGF,SAASoC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEvC,EAAKqC,GAC9B,OAAOG,QAAQC,UAAUjO,MAAK,KAC7B,IAAI0N,EAAI,IAAIF,MAAM,uBAAyBK,EAAM,KAEjD,MADAH,EAAEQ,KAAO,mBACHR,CAAC,IAIT,IAAIS,EAAM3C,EAAIqC,GAAM1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","sources":["webpack://nextcloud-mail/./src/ckeditor/signature/InsertSignatureCommand.js","webpack://nextcloud-mail/./src/service/ContactIntegrationService.js","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?3e98","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?fefb","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?2549","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?d691","webpack://nextcloud-mail/./src/components/InternalAddress.vue?aeb4","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?6c5c","webpack://nextcloud-mail/./src/util/acl.js","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?09e1","webpack://nextcloud-mail/./src/directives/drag-and-drop/util/dragEventBus.js","webpack://nextcloud-mail/./src/service/TrustedSenderService.js","webpack://nextcloud-mail/./src/components/Navigation.vue?825f","webpack://nextcloud-mail/./src/components/MailboxPicker.vue","webpack://nextcloud-mail/src/components/MailboxPicker.vue","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?930e","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?bee3","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?0d5a","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?c195","webpack://nextcloud-mail/./src/components/textBlocks/ListItem.vue","webpack://nextcloud-mail/src/components/textBlocks/ListItem.vue","webpack://nextcloud-mail/./src/components/textBlocks/ListItem.vue?7074","webpack://nextcloud-mail/./src/components/textBlocks/ListItem.vue?eaa1","webpack://nextcloud-mail/./src/components/textBlocks/ListItem.vue?72b3","webpack://nextcloud-mail/./src/i18n/MailboxTranslator.js","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?740c","webpack://nextcloud-mail/./node_modules/@ckeditor/ckeditor5-build-decoupled-document/build/translations/ lazy ^\\.\\/.*$ namespace object","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?8426","webpack://nextcloud-mail/./src/components/TextEditor.vue","webpack://nextcloud-mail/./src/ckeditor/signature/SignaturePlugin.js","webpack://nextcloud-mail/./src/ckeditor/quote/QuotePlugin.js","webpack://nextcloud-mail/./src/ckeditor/mail/MailPlugin.js","webpack://nextcloud-mail/./src/ckeditor/smartpicker/InsertItemCommand.js","webpack://nextcloud-mail/./src/ckeditor/smartpicker/PickerPlugin.js","webpack://nextcloud-mail/src/components/TextEditor.vue","webpack://nextcloud-mail/./src/components/TextEditor.vue?5917","webpack://nextcloud-mail/./src/components/TextEditor.vue?9e16","webpack://nextcloud-mail/./src/components/TextEditor.vue?e8c2","webpack://nextcloud-mail/./src/components/TextEditor.vue?143c","webpack://nextcloud-mail/./src/components/Navigation.vue","webpack://nextcloud-mail/src/components/NavigationAccount.vue","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?a614","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?791a","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?d234","webpack://nextcloud-mail/./src/components/NavigationAccount.vue","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?a03c","webpack://nextcloud-mail/src/components/NavigationAccountExpandCollapse.vue","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?9910","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?1e6b","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue","webpack://nextcloud-mail/src/components/MoveMailboxModal.vue","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue?f43e","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue?b8e6","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue","webpack://nextcloud-mail/./src/directives/drag-and-drop/droppable-mailbox/droppable-mailbox.js","webpack://nextcloud-mail/./src/directives/drag-and-drop/droppable-mailbox/index.js","webpack://nextcloud-mail/src/components/NavigationMailbox.vue","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?371c","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?f438","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?8269","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue","webpack://nextcloud-mail/src/components/NavigationOutbox.vue","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?215d","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?4d16","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?b84b","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue","webpack://nextcloud-mail/./src/util/pkcs12.js","webpack://nextcloud-mail/src/components/smime/SmimeCertificateModal.vue","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?5da8","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?7a78","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue?7a50","webpack://nextcloud-mail/./src/components/smime/SmimeCertificateModal.vue","webpack://nextcloud-mail/./src/components/TrustedSenders.vue","webpack://nextcloud-mail/src/components/TrustedSenders.vue","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?02eb","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?9ff2","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?cccc","webpack://nextcloud-mail/./src/components/InternalAddress.vue","webpack://nextcloud-mail/src/components/InternalAddress.vue","webpack://nextcloud-mail/./src/components/InternalAddress.vue?2b5f","webpack://nextcloud-mail/./src/components/InternalAddress.vue?0848","webpack://nextcloud-mail/./src/components/InternalAddress.vue?abbc","webpack://nextcloud-mail/src/components/textBlocks/List.vue","webpack://nextcloud-mail/./src/components/textBlocks/List.vue?6bc9","webpack://nextcloud-mail/./src/components/textBlocks/List.vue?d6a2","webpack://nextcloud-mail/./src/components/textBlocks/List.vue","webpack://nextcloud-mail/src/components/AppSettingsMenu.vue","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?b034","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?89b7","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?4f94","webpack://nextcloud-mail/./src/components/Navigation.vue?8190","webpack://nextcloud-mail/src/components/Navigation.vue","webpack://nextcloud-mail/./src/components/Navigation.vue?55dd","webpack://nextcloud-mail/./src/components/Navigation.vue?7f19","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue","webpack://nextcloud-mail/src/components/NewMessageButtonHeader.vue","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?5268","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?1a5a","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?0f94","webpack://nextcloud-mail/./src/components/TextEditor.vue?e84f","webpack://nextcloud-mail/./src/components/textBlocks/ListItem.vue?8610","webpack://nextcloud-mail/./src/components/TextEditor.vue?fe4a"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command.js'\n\nexport const TRIGGER_CHANGE_ALIAS = 'change_alias'\nexport const TRIGGER_EDITOR_READY = 'editor_ready'\n\nexport default class InsertSignatureCommand extends Command {\n\n\t/**\n\t * Remove a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t */\n\tremoveSignatureElement(editor, writer) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot(),\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element') && value.item.name === 'signature') {\n\t\t\t\twriter.remove(value.item)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Insert a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\tinsertSignatureElement(editor, writer, signature, signatureAboveQuote) {\n\t\t// Skip empty signature\n\t\tif (signature.length === 0) {\n\t\t\treturn\n\t\t}\n\n\t\t// Convert an HTML string to a view document fragment:\n\t\tconst viewFragment = editor.data.processor.toView(signature)\n\n\t\t// Convert the view document fragment to a model document fragment\n\t\t// in the context of $root. This conversion takes the schema into\n\t\t// account so if, for example, the view document fragment contained a bare text node,\n\t\t// this text node cannot be a child of $root, so it will be automatically\n\t\t// wrapped with a <paragraph>. You can define the context yourself (in the second parameter),\n\t\t// and e.g. convert the content like it would happen in a <paragraph>.\n\t\t// Note: The clipboard feature uses a custom context called $clipboardHolder\n\t\t// which has a loosened schema.\n\t\tconst modelFragment = editor.data.toModel(viewFragment)\n\n\t\tconst signatureElement = writer.createElement('signature')\n\t\twriter.append(writer.createText('-- '), signatureElement)\n\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\twriter.append(modelFragment, signatureElement)\n\t\tif (signatureAboveQuote) {\n\t\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\t}\n\n\t\tconst signaturePosition = this.findPosition(editor, writer, signatureAboveQuote)\n\t\teditor.model.insertContent(signatureElement, signaturePosition)\n\t}\n\n\t/**\n\t * Find a position to insert the signature element.\n\t *\n\t * If signatureAboveQuote and a quote element exist the position\n\t * above the quoted text otherwise the end of the document.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t * @return {module:engine/model/position~Position} position instance\n\t */\n\tfindPosition(editor, writer, signatureAboveQuote) {\n\t\tif (signatureAboveQuote) {\n\t\t\t// Create a range spanning over the entire root content:\n\t\t\tconst range = editor.model.createRangeIn(\n\t\t\t\teditor.model.document.getRoot(),\n\t\t\t)\n\n\t\t\t// Iterate over all items in this range:\n\t\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\t\tif (value.item.is('element') && value.item.name === 'quote') {\n\t\t\t\t\treturn writer.createPositionBefore(value.item)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn writer.createPositionAt(editor.model.document.getRoot(), 'end')\n\t}\n\n\t/**\n\t * Check if a signature element exist\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @return {boolean}\n\t */\n\thasSignatureElement(editor) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot(),\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element')) {\n\t\t\t\tif (value.item.name === 'quote') {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tif (value.item.name === 'signature') {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\t/**\n\t * @param {string} trigger TRIGGER_CHANGE_ALIAS or TRIGGER_EDITOR_READY\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\texecute(trigger, signature, signatureAboveQuote) {\n\t\tthis.editor.model.change(writer => {\n\t\t\t/**\n\t\t\t * TRIGGER_CHANGE_ALIAS:\n\t\t\t * Current signature is replaced.\n\t\t\t *\n\t\t\t * Use case: User selects a different alias.\n\t\t\t *\n\t\t\t * TRIGGER_EDITOR_READY:\n\t\t\t * Insert signature if non exist.\n\t\t\t *\n\t\t\t * Use case: Write new message, Modify signature, Save draft, Close Editor, Open editor\n\t\t\t */\n\n\t\t\tif (trigger === TRIGGER_CHANGE_ALIAS) {\n\t\t\t\tthis.removeSignatureElement(this.editor, writer)\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\n\t\t\tif (trigger === TRIGGER_EDITOR_READY && !this.hasSignatureElement(this.editor)) {\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\t\t})\n\t}\n\n\trefresh() {\n\t\tthis.isEnabled = true\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport const findMatches = (mail) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/match/{mail}', {\n\t\tmail,\n\t})\n\n\treturn Axios.get(url).then((resp) => resp.data)\n}\n\nexport const addToContact = (id, mailAddr) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/add')\n\n\treturn Axios.put(url, { uid: id, mail: mailAddr }).then((resp) => resp.data)\n}\n\nexport const newContact = (name, mailAddr) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/new')\n\n\treturn Axios.put(url, { contactName: name, mail: mailAddr }).then((resp) => resp.data)\n}\n\nexport const autoCompleteByName = (term) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/autoComplete/{term}', {\n\t\tterm,\n\t})\n\n\treturn Axios.get(url).then((resp) => resp.data)\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dialog__actions{flex-wrap:wrap}.dialog__actions>button{flex:1 auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationAccount.vue\"],\"names\":[],\"mappings\":\"AAGC,iBACC,cAAA,CAEA,wBACC,WAAA\",\"sourcesContent\":[\"\\n// Fix very long button labels overflowing the modal\\n.dialog {\\n\\t&__actions {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t> button {\\n\\t\\t\\tflex: 1 auto;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-2f1e2a14] .app-navigation-entry__title{color:var(--color-text-maxcontrast)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationAccountExpandCollapse.vue\"],\"names\":[],\"mappings\":\"AACA,+CACC,mCAAA\",\"sourcesContent\":[\"\\n:deep(.app-navigation-entry__title) {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-815846e4] .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:600px !important;max-height:500px !important}.modal-content[data-v-815846e4]{display:flex;box-sizing:border-box;width:100%;height:100%;flex-direction:column;padding:calc(var(--default-grid-baseline)*4)}.crumbs[data-v-815846e4]{display:inline-flex;padding-inline-end:0;flex-wrap:wrap}.crumbs .level[data-v-815846e4]{display:inline-flex;height:44px;min-width:0px;flex:0 0 auto;order:1;padding-inline-end:calc(var(--default-grid-baseline)*2);background-position:right center;background-size:auto 24px;margin-top:calc(var(--default-grid-baseline)*-2.5)}.crumbs a[data-v-815846e4]{position:relative;padding:calc(var(--default-grid-baseline)*3);opacity:.5;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:0 0 auto;min-width:0px;max-width:200px}.crumbs a[data-v-815846e4]:hover{opacity:.7}.crumbs a.icon-home[data-v-815846e4]{width:0px;background-position:left center}.mailbox-list[data-v-815846e4]{display:inline-block;width:100%;height:100%;overflow-y:auto;flex:1}.mailbox-list li[data-v-815846e4]{display:flex;cursor:pointer}.mailbox-list li[data-v-815846e4]:hover{background-color:var(--color-background-hover)}.mailbox-list li[data-v-815846e4]:not(:last-child){border-bottom:var(--border-width-input) solid var(--color-border)}.mailbox-list h2[data-v-815846e4]{width:100%;color:var(--color-text-maxcontrast);text-align:center;margin-top:80px;opacity:.4;background-size:64px;height:64px}.mailbox-list .mailbox-icon[data-v-815846e4]{width:24px;height:24px;padding:calc(var(--default-grid-baseline)*3);opacity:.9;background-size:24px}.mailbox-list .mailbox-title[data-v-815846e4]{padding:calc(var(--default-grid-baseline)*3) calc(var(--default-grid-baseline)*3) calc(var(--default-grid-baseline)*3) 0;flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.buttons[data-v-815846e4]{display:flex;justify-content:flex-end;padding-top:calc(var(--default-grid-baseline)*2)}.buttons .spinner[data-v-815846e4]{margin-inline-end:var(--default-grid-baseline)}.material-design-icon[data-v-815846e4]{opacity:.7;margin-inline-end:calc(var(--default-grid-baseline)*1.5)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MailboxPicker.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAGD,gCACC,YAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,4CAAA,CAGD,yBACC,mBAAA,CACA,oBAAA,CACA,cAAA,CAEA,gCACC,mBAAA,CACA,WAAA,CACA,aAAA,CACA,aAAA,CACA,OAAA,CACA,uDAAA,CACA,gCAAA,CACA,yBAAA,CACA,kDAAA,CAGD,2BACC,iBAAA,CACA,4CAAA,CACA,UAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,aAAA,CACA,aAAA,CACA,eAAA,CAEA,iCACC,UAAA,CAIF,qCACC,SAAA,CACA,+BAAA,CAIF,+BACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,MAAA,CAEA,kCACC,YAAA,CACA,cAAA,CAEA,wCACC,8CAAA,CAGD,mDACC,iEAAA,CAIF,kCACC,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,oBAAA,CACA,WAAA,CAGD,6CACC,UAAA,CACA,WAAA,CACA,4CAAA,CACA,UAAA,CACA,oBAAA,CAGD,8CACC,wHAAA,CACA,MAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAIF,0BACC,YAAA,CACA,wBAAA,CACA,gDAAA,CAEA,mCACC,8CAAA,CAIF,uCACC,UAAA,CACA,wDAAA\",\"sourcesContent\":[\"\\n:deep(.modal-container) {\\n\\twidth: calc(100vw - 120px) !important;\\n\\theight: calc(100vh - 120px) !important;\\n\\tmax-width: 600px !important;\\n\\tmax-height: 500px !important;\\n}\\n\\n.modal-content {\\n\\tdisplay: flex;\\n\\tbox-sizing: border-box;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tflex-direction: column;\\n\\tpadding: calc(var(--default-grid-baseline) * 4);\\n}\\n\\n.crumbs {\\n\\tdisplay: inline-flex;\\n\\tpadding-inline-end: 0;\\n\\tflex-wrap: wrap;\\n\\n\\t.level {\\n\\t\\tdisplay: inline-flex;\\n\\t\\theight: 44px;\\n\\t\\tmin-width: 0px;\\n\\t\\tflex: 0 0 auto;\\n\\t\\torder: 1;\\n\\t\\tpadding-inline-end: calc(var(--default-grid-baseline) * 2);\\n\\t\\tbackground-position: right center;\\n\\t\\tbackground-size: auto 24px;\\n\\t\\tmargin-top: calc(var(--default-grid-baseline) * -2.5);\\n\\t}\\n\\n\\ta {\\n\\t\\tposition: relative;\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 3);\\n\\t\\topacity: 0.5;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\tflex: 0 0 auto;\\n\\t\\tmin-width: 0px;\\n\\t\\tmax-width: 200px;\\n\\n\\t\\t&:hover {\\n\\t\\t\\topacity: 0.7;\\n\\t\\t}\\n\\t}\\n\\n\\ta.icon-home {\\n\\t\\twidth: 0px;\\n\\t\\tbackground-position: left center;\\n\\t}\\n}\\n\\n.mailbox-list {\\n\\tdisplay: inline-block;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\toverflow-y: auto;\\n\\tflex: 1;\\n\\n\\tli {\\n\\t\\tdisplay: flex;\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t}\\n\\n\\t\\t&:not(:last-child) {\\n\\t\\t\\tborder-bottom: var(--border-width-input) solid var(--color-border);\\n\\t\\t}\\n\\t}\\n\\n\\th2 {\\n\\t\\twidth: 100%;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\ttext-align: center;\\n\\t\\tmargin-top: 80px;\\n\\t\\topacity: 0.4;\\n\\t\\tbackground-size: 64px;\\n\\t\\theight: 64px;\\n\\t}\\n\\n\\t.mailbox-icon {\\n\\t\\twidth: 24px;\\n\\t\\theight: 24px;\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 3);\\n\\t\\topacity: 0.9;\\n\\t\\tbackground-size: 24px;\\n\\t}\\n\\n\\t.mailbox-title {\\n\\t\\tpadding: calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) 0;\\n\\t\\tflex: 1;\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n}\\n\\n.buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\tpadding-top: calc(var(--default-grid-baseline) * 2);\\n\\n\\t.spinner {\\n\\t\\tmargin-inline-end: var(--default-grid-baseline);\\n\\t}\\n}\\n\\n.material-design-icon {\\n\\topacity: .7;\\n\\tmargin-inline-end: calc(var(--default-grid-baseline) * 1.5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.button-vue[data-v-0cf1c097] {display:inline-block !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TrustedSenders.vue\"],\"names\":[],\"mappings\":\"AACA,8BACC,+BAAA\",\"sourcesContent\":[\"\\n.button-vue:deep() {\\n\\tdisplay: inline-block !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.address[data-v-39d85f9a]{display:flex;align-items:center}.address__type[data-v-39d85f9a]{color:var(--color-text-maxcontrast)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/InternalAddress.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,YAAA,CACA,kBAAA,CACA,gCACC,mCAAA\",\"sourcesContent\":[\"\\n.address {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\t&__type{\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.empty-content[data-v-e87bd15c]{height:100%;display:flex}.certificate-modal[data-v-e87bd15c]{padding:calc(var(--default-grid-baseline)*5)}.certificate-modal__list table[data-v-e87bd15c]{table-layout:fixed;width:100%}.certificate-modal__list table th[data-v-e87bd15c]{color:var(--color-text-maxcontrast)}.certificate-modal__list table th[data-v-e87bd15c],.certificate-modal__list table td[data-v-e87bd15c]{padding:calc(var(--default-grid-baseline)*.5);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:5 1 0px}.certificate-modal__list table th[data-v-e87bd15c]:last-child,.certificate-modal__list table td[data-v-e87bd15c]:last-child{flex:1 1 0px}.certificate-modal__list table span[data-v-e87bd15c]{text-overflow:ellipsis}.certificate-modal__list table tr[data-v-e87bd15c]{display:flex;flex-direction:row;align-items:center}.certificate-modal__list table tr[data-v-e87bd15c]:hover{background-color:unset}.certificate-modal__list__actions[data-v-e87bd15c]{margin:calc(var(--default-grid-baseline)*3);float:inline-end}.certificate-modal__import[data-v-e87bd15c]{display:flex;flex-direction:column;gap:calc(var(--default-grid-baseline)*2)}.certificate-modal__import input[type=file][data-v-e87bd15c]{display:flex;width:100%}.certificate-modal__import__type[data-v-e87bd15c]{display:flex;gap:0 calc(var(--default-grid-baseline)*5);flex-wrap:wrap}.certificate-modal__import__type>div[data-v-e87bd15c]{display:flex;gap:var(--default-grid-baseline);align-items:center}.certificate-modal__import__hints[data-v-e87bd15c]{color:var(--color-text-maxcontrast)}.certificate-modal__import__actions[data-v-e87bd15c]{display:flex;justify-content:space-between;gap:calc(var(--default-grid-baseline)*4)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/smime/SmimeCertificateModal.vue\"],\"names\":[],\"mappings\":\"AACA,gCACC,WAAA,CACA,YAAA,CAGD,oCACC,4CAAA,CAGC,gDACC,kBAAA,CACA,UAAA,CAEA,mDACC,mCAAA,CAGD,sGACC,6CAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,YAAA,CAGD,4HACC,YAAA,CAGD,qDACC,sBAAA,CAGD,mDACC,YAAA,CACA,kBAAA,CACA,kBAAA,CAID,yDACC,sBAAA,CAIF,mDACC,2CAAA,CACA,gBAAA,CAIF,4CACC,YAAA,CACA,qBAAA,CACA,wCAAA,CAEA,6DACC,YAAA,CACA,UAAA,CAGD,kDACC,YAAA,CACA,0CAAA,CACA,cAAA,CAEA,sDACC,YAAA,CACA,gCAAA,CACA,kBAAA,CAIF,mDACC,mCAAA,CAGD,qDACC,YAAA,CACA,6BAAA,CACA,wCAAA\",\"sourcesContent\":[\"\\n.empty-content{\\n\\theight: 100%;\\n\\tdisplay: flex;\\n}\\n\\n.certificate-modal {\\n\\tpadding: calc(var(--default-grid-baseline) * 5);\\n\\n\\t&__list {\\n\\t\\ttable {\\n\\t\\t\\ttable-layout: fixed;\\n\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\tth {\\n\\t\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\t}\\n\\n\\t\\t\\tth, td {\\n\\t\\t\\t\\tpadding: calc(var(--default-grid-baseline) * 0.5);\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tflex: 5 1 0px;\\n\\t\\t\\t}\\n\\n\\t\\t\\tth:last-child, td:last-child {\\n\\t\\t\\t\\tflex: 1 1 0px;\\n\\t\\t\\t}\\n\\n\\t\\t\\tspan {\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttr {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: row;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Disable default hover style\\n\\t\\t\\ttr:hover {\\n\\t\\t\\t\\tbackground-color: unset;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__actions {\\n\\t\\t\\tmargin: calc(var(--default-grid-baseline) * 3);\\n\\t\\t\\tfloat: inline-end;\\n\\t\\t}\\n\\t}\\n\\n\\t&__import {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tgap: calc(var(--default-grid-baseline) * 2);\\n\\n\\t\\tinput[type=file] {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\n\\t\\t&__type {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tgap: 0 calc(var(--default-grid-baseline) * 5);\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t> div {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tgap: var(--default-grid-baseline);\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__hints {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\n\\t\\t&__actions {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\tgap: calc(var(--default-grid-baseline) * 4);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/**\n * @param {object} mailbox object\n * @param {string} rights list of rights to check\n * @return {boolean}\n */\nexport function mailboxHasRights(mailbox, rights) {\n\tif (!mailbox.myAcls) {\n\t\treturn true\n\t}\n\n\tconst acls = [...mailbox.myAcls]\n\n\tfor (const right of [...rights]) {\n\t\tif (!acls.includes(right)) {\n\t\t\treturn false\n\t\t}\n\t}\n\n\treturn true\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.counter-bubble__counter[data-v-01a68128]{max-width:initial}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationMailbox.vue\"],\"names\":[],\"mappings\":\"AACA,0CACC,iBAAA\",\"sourcesContent\":[\"\\n.counter-bubble__counter {\\n\\tmax-width: initial;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport mitt from 'mitt'\nconst dragEventBus = mitt()\nexport default dragEventBus\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { generateUrl } from '@nextcloud/router'\nimport axios from '@nextcloud/axios'\n\nexport async function trustSender(email, type, trustFlag) {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders/{email}?type={type}', {\n\t\temail,\n\t\ttype,\n\t})\n\n\tif (trustFlag) {\n\t\tawait axios.put(url)\n\t} else {\n\t\tawait axios.delete(url)\n\t}\n}\nexport async function fetchTrustedSenders() {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders')\n\tconst response = await axios.get(url)\n\treturn response.data.data\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@keyframes rotation-40b484c6{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.mail-navigation__new-message-button[data-v-40b484c6]{padding:calc(var(--default-grid-baseline, 4px)*2)}.outbox[data-v-40b484c6]{padding:calc(var(--default-grid-baseline, 4px)*2);padding-bottom:0;width:auto}.outbox__border[data-v-40b484c6]{border-top:1px solid var(--color-background-darker)}.mail-settings[data-v-40b484c6]{padding:calc(var(--default-grid-baseline, 4px)*2);padding-top:0}.mail-settings__button[data-v-40b484c6]{display:flex;width:100% !important;justify-content:start !important}.v-popper__inner[data-v-40b484c6]{height:unset !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Navigation.vue\"],\"names\":[],\"mappings\":\"AACA,6BACA,KACC,sBAAA,CAED,GACE,yBAAA,CAAA,CAKD,sDACC,iDAAA,CAIF,yBACC,iDAAA,CACA,gBAAA,CAEA,UAAA,CACA,iCACC,mDAAA,CAIF,gCACC,iDAAA,CACA,aAAA,CAEA,wCACC,YAAA,CACA,qBAAA,CACA,gCAAA,CAIF,kCACC,uBAAA\",\"sourcesContent\":[\"\\n@keyframes rotation {\\nfrom {\\n\\ttransform: rotate(-0deg);\\n}\\nto {\\n\\t\\ttransform: rotate(-360deg);\\n\\t}\\n}\\n\\n.mail-navigation {\\n\\t&__new-message-button {\\n\\t\\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\\n\\t}\\n}\\n\\n.outbox {\\n\\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\\n\\tpadding-bottom: 0;\\n\\n\\twidth: auto;\\n\\t&__border {\\n\\t\\tborder-top: 1px solid var(--color-background-darker);\\n\\t}\\n}\\n\\n.mail-settings {\\n\\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\\n\\tpadding-top: 0;\\n\\n\\t&__button {\\n\\t\\tdisplay: flex;\\n\\t\\twidth: 100% !important;\\n\\t\\tjustify-content: start !important;\\n\\t}\\n}\\n\\n.v-popper__inner {\\n\\theight: unset !important;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{on:{\"close\":_vm.onClose}},[_c('div',{ref:\"content\",staticClass:\"modal-content\"},[_c('h2',{staticClass:\"oc-dialog-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Choose target folder'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('span',{staticClass:\"crumbs\"},[_c('div',{on:{\"click\":function($event){$event.preventDefault();return _vm.onClickHome.apply(null, arguments)}}},[_c('IconInbox',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_vm._l((_vm.mailboxCrumbs),function(box,index){return _c('div',{key:box.databaseId,staticClass:\"level\"},[_c('IconBreadcrumb',{attrs:{\"size\":20}}),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.onClickCrumb(index)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.getMailboxTitle(box))+\"\\n\\t\\t\\t\\t\")])],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"mailbox-list\"},[(_vm.filteredMailboxes.length > 0)?_c('ul',_vm._l((_vm.filteredMailboxes),function(box){return _c('li',{key:box.databaseId,on:{\"click\":function($event){$event.preventDefault();return _vm.onClickMailbox(box)}}},[(box.specialRole === 'inbox')?_c('IconInbox',{attrs:{\"size\":20}}):(box.specialRole === 'drafts')?_c('IconDraft',{attrs:{\"size\":20}}):(box.specialRole === 'sent')?_c('IconSent',{attrs:{\"size\":20}}):(box.specialRole === 'archive')?_c('IconArchive',{attrs:{\"size\":20}}):(box.specialRole === 'trash')?_c('IconTrash',{attrs:{\"size\":20}}):_c('IconFolder',{attrs:{\"size\":20}}),_vm._v(\" \"),_c('div',{staticClass:\"mailbox-title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.getMailboxTitle(box))+\"\\n\\t\\t\\t\\t\\t\")])],1)}),0):_c('IconFolder',{attrs:{\"size\":65}}),_vm._v(\" \"),_c('div',{staticClass:\"empty-icon empty\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'No more submailboxes in here')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[_c('ButtonVue',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading || (!_vm.allowRoot && !_vm.selectedMailboxId),\"aria-label\":_vm.loading ? _vm.labelSelectLoading : _vm.labelSelect},on:{\"click\":_vm.onSelect},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.loading ? _vm.labelSelectLoading : _vm.labelSelect)+\"\\n\\t\\t\\t\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<Modal @close=\"onClose\">\n\t\t<div ref=\"content\" class=\"modal-content\">\n\t\t\t<h2 class=\"oc-dialog-title\">\n\t\t\t\t{{ t('mail', 'Choose target folder') }}\n\t\t\t</h2>\n\t\t\t<span class=\"crumbs\">\n\t\t\t\t<div @click.prevent=\"onClickHome\">\n\t\t\t\t\t<IconInbox :size=\"20\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-for=\"(box, index) in mailboxCrumbs\"\n\t\t\t\t\t:key=\"box.databaseId\"\n\t\t\t\t\tclass=\"level\">\n\t\t\t\t\t<IconBreadcrumb :size=\"20\" />\n\t\t\t\t\t<a @click.prevent=\"onClickCrumb(index)\">\n\t\t\t\t\t\t{{ getMailboxTitle(box) }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<div class=\"mailbox-list\">\n\t\t\t\t<ul v-if=\"filteredMailboxes.length > 0\">\n\t\t\t\t\t<li v-for=\"box in filteredMailboxes \"\n\t\t\t\t\t\t:key=\"box.databaseId\"\n\t\t\t\t\t\t@click.prevent=\"onClickMailbox(box)\">\n\t\t\t\t\t\t<IconInbox v-if=\"box.specialRole === 'inbox'\" :size=\"20\" />\n\t\t\t\t\t\t<IconDraft v-else-if=\"box.specialRole === 'drafts'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconSent v-else-if=\"box.specialRole === 'sent'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconArchive v-else-if=\"box.specialRole === 'archive'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconTrash v-else-if=\"box.specialRole === 'trash'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconFolder v-else\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<div class=\"mailbox-title\">\n\t\t\t\t\t\t\t{{ getMailboxTitle(box) }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<IconFolder v-else :size=\"65\" />\n\t\t\t\t<div class=\"empty-icon empty\" />\n\t\t\t\t<h2>{{ t('mail', 'No more submailboxes in here') }}</h2>\n\t\t\t</div>\n\t\t\t<div class=\"buttons\">\n\t\t\t\t<ButtonVue type=\"primary\"\n\t\t\t\t\t:disabled=\"loading || (!allowRoot && !selectedMailboxId)\"\n\t\t\t\t\t:aria-label=\"loading ? labelSelectLoading : labelSelect\"\n\t\t\t\t\t@click=\"onSelect\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ loading ? labelSelectLoading : labelSelect }}\n\t\t\t\t</ButtonVue>\n\t\t\t</div>\n\t\t</div>\n\t</Modal>\n</template>\n<script>\nimport { NcModal as Modal, NcLoadingIcon as IconLoading, NcButton as ButtonVue } from '@nextcloud/vue'\nimport IconBreadcrumb from 'vue-material-design-icons/ChevronRight.vue'\nimport IconInbox from 'vue-material-design-icons/HomeOutline.vue'\nimport IconDraft from 'vue-material-design-icons/PencilOutline.vue'\nimport IconSent from 'vue-material-design-icons/SendOutline.vue'\nimport IconArchive from 'vue-material-design-icons/ArchiveArrowDownOutline.vue'\nimport IconTrash from 'vue-material-design-icons/TrashCanOutline.vue'\nimport IconFolder from 'vue-material-design-icons/FolderOutline.vue'\n\nimport { translate as t } from '@nextcloud/l10n'\nimport { translate as translateMailboxName } from '../i18n/MailboxTranslator.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'MailboxPicker',\n\tcomponents: {\n\t\tButtonVue,\n\t\tModal,\n\t\tIconInbox,\n\t\tIconDraft,\n\t\tIconSent,\n\t\tIconArchive,\n\t\tIconTrash,\n\t\tIconFolder,\n\t\tIconBreadcrumb,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tselected: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tlabelSelect: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Choose'),\n\t\t},\n\t\tlabelSelectLoading: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Choose'),\n\t\t},\n\t\tpickedMailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tallowRoot: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselectedMailboxId: undefined,\n\t\t\tmailboxCrumbs: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tmailboxes() {\n\t\t\tif (!this.selectedMailboxId) {\n\t\t\t\treturn this.mainStore.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\treturn this.mainStore.getSubMailboxes(this.selectedMailboxId)\n\t\t\t}\n\t\t},\n\t\tfilteredMailboxes() {\n\t\t\tif (this.pickedMailbox) {\n\t\t\t\treturn this.mailboxes.filter(mailbox => mailbox.databaseId !== this.pickedMailbox.databaseId && mailboxHasRights(mailbox, 'k'))\n\t\t\t}\n\t\t\treturn this.mailboxes.filter(mailbox => mailboxHasRights(mailbox, 'i'))\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxIcon(mailbox) {\n\t\t\treturn mailbox.specialRole ? 'icon-' + mailbox.specialRole : 'icon-folder'\n\t\t},\n\t\tgetMailboxTitle(mailbox) {\n\t\t\treturn translateMailboxName(mailbox)\n\t\t},\n\t\tonClickHome() {\n\t\t\tthis.selectedMailboxId = undefined\n\t\t\tthis.$emit('update:selected', undefined)\n\t\t\tthis.mailboxCrumbs = []\n\t\t},\n\t\tonClickCrumb(index) {\n\t\t\tthis.selectedMailboxId = this.mailboxCrumbs[index].databaseId\n\t\t\tthis.$emit('update:selected', this.selectedMailboxId)\n\t\t\tthis.mailboxCrumbs = this.mailboxCrumbs.slice(0, index + 1)\n\t\t},\n\t\tonClickMailbox(mailbox) {\n\t\t\tthis.selectedMailboxId = mailbox.databaseId\n\t\t\tthis.$emit('update:selected', this.selectedMailboxId)\n\t\t\tthis.mailboxCrumbs.push(mailbox)\n\t\t},\n\t\tonSelect() {\n\t\t\tthis.$emit('select', this.selectedMailboxId)\n\t\t},\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-container) {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 600px !important;\n\tmax-height: 500px !important;\n}\n\n.modal-content {\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\tflex-direction: column;\n\tpadding: calc(var(--default-grid-baseline) * 4);\n}\n\n.crumbs {\n\tdisplay: inline-flex;\n\tpadding-inline-end: 0;\n\tflex-wrap: wrap;\n\n\t.level {\n\t\tdisplay: inline-flex;\n\t\theight: 44px;\n\t\tmin-width: 0px;\n\t\tflex: 0 0 auto;\n\t\torder: 1;\n\t\tpadding-inline-end: calc(var(--default-grid-baseline) * 2);\n\t\tbackground-position: right center;\n\t\tbackground-size: auto 24px;\n\t\tmargin-top: calc(var(--default-grid-baseline) * -2.5);\n\t}\n\n\ta {\n\t\tposition: relative;\n\t\tpadding: calc(var(--default-grid-baseline) * 3);\n\t\topacity: 0.5;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\tflex: 0 0 auto;\n\t\tmin-width: 0px;\n\t\tmax-width: 200px;\n\n\t\t&:hover {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\n\ta.icon-home {\n\t\twidth: 0px;\n\t\tbackground-position: left center;\n\t}\n}\n\n.mailbox-list {\n\tdisplay: inline-block;\n\twidth: 100%;\n\theight: 100%;\n\toverflow-y: auto;\n\tflex: 1;\n\n\tli {\n\t\tdisplay: flex;\n\t\tcursor: pointer;\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: var(--border-width-input) solid var(--color-border);\n\t\t}\n\t}\n\n\th2 {\n\t\twidth: 100%;\n\t\tcolor: var(--color-text-maxcontrast);\n\t\ttext-align: center;\n\t\tmargin-top: 80px;\n\t\topacity: 0.4;\n\t\tbackground-size: 64px;\n\t\theight: 64px;\n\t}\n\n\t.mailbox-icon {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tpadding: calc(var(--default-grid-baseline) * 3);\n\t\topacity: 0.9;\n\t\tbackground-size: 24px;\n\t}\n\n\t.mailbox-title {\n\t\tpadding: calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) calc(var(--default-grid-baseline) * 3) 0;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n.buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding-top: calc(var(--default-grid-baseline) * 2);\n\n\t.spinner {\n\t\tmargin-inline-end: var(--default-grid-baseline);\n\t}\n}\n\n.material-design-icon {\n\topacity: .7;\n\tmargin-inline-end: calc(var(--default-grid-baseline) * 1.5);\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=style&index=0&id=815846e4&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=style&index=0&id=815846e4&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MailboxPicker.vue?vue&type=template&id=815846e4&scoped=true\"\nimport script from \"./MailboxPicker.vue?vue&type=script&lang=js\"\nexport * from \"./MailboxPicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./MailboxPicker.vue?vue&type=style&index=0&id=815846e4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"815846e4\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.navigation-outbox__unread-counter[data-v-57607280]{margin-inline-end:calc(var(--default-grid-baseline)*2)}.outbox-opacity-icon[data-v-57607280]{opacity:.7}.outbox-opacity-icon[data-v-57607280]:hover{opacity:1}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationOutbox.vue\"],\"names\":[],\"mappings\":\"AAEC,oDACC,sDAAA,CAIF,sCACC,UAAA,CACA,4CACC,SAAA\",\"sourcesContent\":[\"\\n.navigation-outbox {\\n\\t&__unread-counter {\\n\\t\\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\\n\\t}\\n}\\n\\n.outbox-opacity-icon {\\n\\topacity: .7;\\n\\t&:hover {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('NcListItem',{staticClass:\"text-block-list-item\",attrs:{\"active\":_vm.picked},on:{\"click\":_vm.handleListItemClick},scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.textBlock.title)+\"\\n\\t\\t\")]},proxy:true},{key:\"subname\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.textBlock.preview)+\"\\n\\t\\t\")]},proxy:true},(_vm.shares.length > 0)?{key:\"extra-actions\",fn:function(){return [_c('AccountMultiple',{attrs:{\"title\":_vm.t('mail', 'Shared'),\"size\":20}})]},proxy:true}:null,(!_vm.shared)?{key:\"actions\",fn:function(){return [_c('NcActionButton',{on:{\"click\":function($event){_vm.editModalOpen = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconPencil',{attrs:{\"size\":20}})]},proxy:true}],null,false,291764094)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail','Edit {title}', { title: _vm.textBlock.title }))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.isViewMode)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.deleteTextBlock()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail','Delete {title}', { title: _vm.textBlock.title }))+\"\\n\\t\\t\\t\")]):_vm._e()]},proxy:true}:null],null,true)}),_vm._v(\" \"),_c('NcDialog',{attrs:{\"open\":_vm.editModalOpen,\"name\":_vm.t('mail','Edit text block'),\"size\":\"normal\",\"is-form\":true},on:{\"update:open\":function($event){_vm.editModalOpen=$event}}},[(_vm.shared)?_c('p',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.localTextBlock.title)+\"\\n\\t\\t\")]):_c('NcInputField',{attrs:{\"value\":_vm.localTextBlock.title,\"label\":_vm.t('mail','Title of the text block')},on:{\"update:value\":function($event){return _vm.$set(_vm.localTextBlock, \"title\", $event)}}}),_vm._v(\" \"),_c('TextEditor',{attrs:{\"is-bordered\":!_vm.shared,\"html\":true,\"read-only\":_vm.shared,\"placeholder\":_vm.t('mail','Content of the text block'),\"bus\":_vm.bus},model:{value:(_vm.localTextBlock.content),callback:function ($$v) {_vm.$set(_vm.localTextBlock, \"content\", $$v)},expression:\"localTextBlock.content\"}}),_vm._v(\" \"),(!_vm.shared)?[_c('h3',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail','Shares'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcSelect',{staticClass:\"text-block-list-item__shares\",attrs:{\"placeholder\":_vm.t('mail','Search for users or groups'),\"label-outside\":true,\"loading\":_vm.loading,\"user-select\":true,\"options\":_vm.options,\"get-option-label\":option => option.displayName},on:{\"option:selecting\":_vm.shareTextBlock,\"search\":_vm.asyncFind},model:{value:(_vm.share),callback:function ($$v) {_vm.share=$$v},expression:\"share\"}}),_vm._v(\" \"),_vm._l((_vm.sortedShares),function(user){return _c('NcListItem',{key:user.shareWith,attrs:{\"name\":user.displayName,\"compact\":true},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(user.type === 'group')?_c('NcAvatar',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AccountMultiple',{attrs:{\"size\":20}})]},proxy:true}],null,true)}):_c('NcAvatar',{attrs:{\"user\":user.shareWith,\"display-name\":user.displayName}})]},proxy:true},{key:\"extra-actions\",fn:function(){return [_c('NcButton',{attrs:{\"type\":\"tertiary-no-background\"},on:{\"click\":function($event){return _vm.removeShare(user)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconClose',{attrs:{\"size\":20}})]},proxy:true}],null,true)})]},proxy:true}],null,true)})}),_vm._v(\" \"),_c('div',{staticClass:\"text-block-buttons\"},[_c('NcButton',{staticClass:\"text-block-buttons__button\",attrs:{\"type\":\"tertiary\",\"disabled\":_vm.saveLoading},on:{\"click\":_vm.closeTextBlockDialog},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconClose',{attrs:{\"size\":20}})]},proxy:true}],null,false,2888946197)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Cancel'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{staticClass:\"text-block-buttons__button\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.localTextBlock.title || !_vm.localTextBlock.content || _vm.saveLoading},on:{\"click\":_vm.saveTextBlock},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.saveLoading)?_c('NcLoadingIcon',{attrs:{\"size\":20}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}],null,false,1468414576)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Ok'))+\"\\n\\t\\t\\t\\t\")])],1)]:_vm._e()],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<NcListItem class=\"text-block-list-item\" :active=\"picked\" @click=\"handleListItemClick\">\n\t\t\t<template #name>\n\t\t\t\t{{ textBlock.title }}\n\t\t\t</template>\n\t\t\t<template #subname>\n\t\t\t\t{{ textBlock.preview }}\n\t\t\t</template>\n\t\t\t<template v-if=\"shares.length > 0\" #extra-actions>\n\t\t\t\t<AccountMultiple :title=\"t('mail', 'Shared')\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t</template>\n\t\t\t<template v-if=\"!shared\" #actions>\n\t\t\t\t<NcActionButton @click=\"editModalOpen = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconPencil :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail','Edit {title}', { title: textBlock.title }) }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"!isViewMode\" icon=\"icon-delete\" @click=\"deleteTextBlock()\">\n\t\t\t\t\t{{ t('mail','Delete {title}', { title: textBlock.title }) }}\n\t\t\t\t</NcActionButton>\n\t\t\t</template>\n\t\t</NcListItem>\n\t\t<NcDialog :open.sync=\"editModalOpen\"\n\t\t\t:name=\"t('mail','Edit text block')\"\n\t\t\tsize=\"normal\"\n\t\t\t:is-form=\"true\">\n\t\t\t<p v-if=\"shared\">\n\t\t\t\t{{ localTextBlock.title }}\n\t\t\t</p>\n\t\t\t<NcInputField v-else :value.sync=\"localTextBlock.title\" :label=\"t('mail','Title of the text block')\" />\n\t\t\t<TextEditor v-model=\"localTextBlock.content\"\n\t\t\t\t:is-bordered=\"!shared\"\n\t\t\t\t:html=\"true\"\n\t\t\t\t:read-only=\"shared\"\n\t\t\t\t:placeholder=\"t('mail','Content of the text block')\"\n\t\t\t\t:bus=\"bus\" />\n\t\t\t<template v-if=\"!shared\">\n\t\t\t\t<h3>\n\t\t\t\t\t{{ t('mail','Shares') }}\n\t\t\t\t</h3>\n\t\t\t\t<NcSelect v-model=\"share\"\n\t\t\t\t\tclass=\"text-block-list-item__shares\"\n\t\t\t\t\t:placeholder=\"t('mail','Search for users or groups')\"\n\t\t\t\t\t:label-outside=\"true\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t:user-select=\"true\"\n\t\t\t\t\t:options=\"options\"\n\t\t\t\t\t:get-option-label=\"option => option.displayName\"\n\t\t\t\t\t@option:selecting=\"shareTextBlock\"\n\t\t\t\t\t@search=\"asyncFind\" />\n\n\t\t\t\t<NcListItem v-for=\"user in sortedShares\"\n\t\t\t\t\t:key=\"user.shareWith\"\n\t\t\t\t\t:name=\"user.displayName\"\n\t\t\t\t\t:compact=\"true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 'group'\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<AccountMultiple :size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcAvatar>\n\t\t\t\t\t\t<NcAvatar v-else :user=\"user.shareWith\" :display-name=\"user.displayName\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #extra-actions>\n\t\t\t\t\t\t<NcButton type=\"tertiary-no-background\" @click=\"removeShare(user)\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<IconClose :size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t</template>\n\t\t\t\t</NcListItem>\n\t\t\t\t<div class=\"text-block-buttons\">\n\t\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t\tclass=\"text-block-buttons__button\"\n\t\t\t\t\t\t:disabled=\"saveLoading\"\n\t\t\t\t\t\t@click=\"closeTextBlockDialog\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconClose :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Cancel') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t\tclass=\"text-block-buttons__button\"\n\t\t\t\t\t\t:disabled=\"!localTextBlock.title || !localTextBlock.content || saveLoading\"\n\t\t\t\t\t\t@click=\"saveTextBlock\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<NcLoadingIcon v-if=\"saveLoading\" :size=\"20\" />\n\t\t\t\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Ok') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</NcDialog>\n\t</div>\n</template>\n\n<script>\nimport { NcActionButton, NcSelect, NcDialog, NcInputField, NcAvatar, NcListItem, NcButton, NcLoadingIcon } from '@nextcloud/vue'\nimport { mapStores } from 'pinia'\nimport mitt from 'mitt'\nimport useMainStore from '../../store/mainStore.js'\nimport { getShares, shareTextBlock, unshareTextBlock } from '../../service/TextBlockService.js'\nimport TextEditor from '../TextEditor.vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport AccountMultiple from 'vue-material-design-icons/AccountMultiple.vue'\nimport IconClose from 'vue-material-design-icons/Close.vue'\nimport IconCheck from 'vue-material-design-icons/Check.vue'\nimport IconPencil from 'vue-material-design-icons/Pencil.vue'\nimport debounce from 'lodash/fp/debounce.js'\nimport { ShareType } from '@nextcloud/sharing'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport logger from '../../logger.js'\n\nimport axios from '@nextcloud/axios'\n\nexport default {\n\tname: 'ListItem',\n\tcomponents: {\n\t\tNcActionButton,\n\t\tNcLoadingIcon,\n\t\tNcSelect,\n\t\tNcDialog,\n\t\tTextEditor,\n\t\tNcButton,\n\t\tNcAvatar,\n\t\tNcInputField,\n\t\tAccountMultiple,\n\t\tIconClose,\n\t\tIconPencil,\n\t\tIconCheck,\n\t\tNcListItem,\n\t},\n\tprops: {\n\t\ttextBlock: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tshared: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisViewMode: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tpicked: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshares: [],\n\t\t\tlocalTextBlock: JSON.parse(JSON.stringify(this.textBlock)),\n\t\t\teditModalOpen: false,\n\t\t\tloading: false,\n\t\t\tsaveLoading: false,\n\t\t\tshare: null,\n\t\t\tsuggestions: [],\n\t\t\tbus: mitt(),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\toptions() {\n\t\t\treturn this.suggestions.filter(suggestion => !this.shares.find(share => share.name === suggestion.shareWith) && suggestion.shareWith !== getCurrentUser().uid)\n\t\t},\n\t\tsortedShares() {\n\t\t\treturn [...this.shares].sort((a, b) => {\n\t\t\t\tif (a.type === 'user' && b.type === 'group') {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (a.type === 'group' && b.type === 'user') {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn 0\n\t\t\t})\n\t\t},\n\t},\n\tasync mounted() {\n\t\tif (!this.shared && !this.isViewMode) {\n\t\t\tthis.shares = await getShares(this.textBlock.id)\n\t\t}\n\t},\n\tmethods: {\n\t\tasync deleteTextBlock() {\n\t\t\tawait this.mainStore.deleteTextBlock({ id: this.textBlock.id }).then(() => {\n\t\t\t\tshowSuccess(t('mail', 'Text block deleted'))\n\t\t\t}).catch(() => {\n\t\t\t\tshowError(t('mail', 'Failed to delete text block'))\n\t\t\t})\n\t\t},\n\t\tasync shareTextBlock(sharee) {\n\t\t\ttry {\n\t\t\t\tawait shareTextBlock(this.textBlock.id, sharee.shareWith, sharee.shareType === ShareType.User ? 'user' : 'group')\n\t\t\t\tthis.shares.push({ shareWith: sharee.shareWith, type: sharee.isNoUser ? 'group' : 'user', displayName: sharee.displayName })\n\t\t\t\tshowSuccess(t('mail', 'Text block shared with {sharee}', { sharee: sharee.shareWith }))\n\t\t\t\tthis.share = null\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Failed to share text block with {sharee}', { sharee: sharee.shareWith }))\n\t\t\t}\n\t\t},\n\t\tasync removeShare(sharee) {\n\t\t\ttry {\n\t\t\t\tawait unshareTextBlock(this.textBlock.id, sharee.shareWith)\n\t\t\t\tthis.shares = this.shares.filter(share => share.shareWith !== sharee.shareWith)\n\t\t\t\tshowSuccess(t('mail', 'Share deleted for {name}', { name: sharee.shareWith }))\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Failed to delete share with {name}', { name: sharee.shareWith }))\n\t\t\t}\n\t\t},\n\n\t\tasync asyncFind(query) {\n\t\t\tthis.loading = true\n\t\t\tawait this.debounceGetSuggestions(query.trim())\n\t\t},\n\t\t/**\n\t\t * Get suggestions\n\t\t *\n\t\t * @param {string} search the search query\n\t\t */\n\t\t async getSuggestions(search) {\n\t\t\tthis.loading = true\n\n\t\t\tconst shareTypes = [\n\t\t\t\tShareType.User,\n\t\t\t\tShareType.Group,\n\t\t\t]\n\n\t\t\tlet request = null\n\t\t\ttry {\n\t\t\t\trequest = await axios.get(generateOcsUrl('apps/files_sharing/api/v1/sharees'), {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat: 'json',\n\t\t\t\t\t\titemType: 'file',\n\t\t\t\t\t\tsearch,\n\t\t\t\t\t\tshareTypes,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Error fetching suggestions', error)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst data = request.data.ocs.data\n\t\t\tconst exact = request.data.ocs.data.exact\n\t\t\tdata.exact = [] // removing exact from general results\n\n\t\t\t// flatten array of arrays\n\t\t\tconst rawExactSuggestions = exact.users.concat(exact.groups)\n\t\t\tconst rawSuggestions = data.users.concat(data.groups)\n\t\t\t// remove invalid data and format to user-select layout\n\t\t\tconst exactSuggestions = rawExactSuggestions.map(share => this.formatForMultiselect(share))\n\t\t\tconst suggestions = rawSuggestions.map(share => this.formatForMultiselect(share)).sort((a, b) => a.shareType - b.shareType)\n\n\t\t\tconst allSuggestions = exactSuggestions.concat(suggestions).sort((a, b) => a.shareType - b.shareType)\n\n\t\t\t// Count occurrences of display names in order to provide a distinguishable description if needed\n\t\t\tconst nameCounts = allSuggestions.reduce((nameCounts, result) => {\n\t\t\t\tif (!result.displayName) {\n\t\t\t\t\treturn nameCounts\n\t\t\t\t}\n\t\t\t\tif (!nameCounts[result.displayName]) {\n\t\t\t\t\tnameCounts[result.displayName] = 0\n\t\t\t\t}\n\t\t\t\tnameCounts[result.displayName]++\n\t\t\t\treturn nameCounts\n\t\t\t}, {})\n\n\t\t\tthis.suggestions = allSuggestions.map(item => {\n\t\t\t\t// Make sure that items with duplicate displayName get the shareWith applied as a description\n\t\t\t\tif (nameCounts[item.displayName] > 1 && !item.desc) {\n\t\t\t\t\treturn { ...item, desc: item.shareWithDisplayNameUnique }\n\t\t\t\t}\n\t\t\t\treturn item\n\t\t\t})\n\n\t\t\tthis.loading = false\n\t\t\tlogger.info('suggestions', this.suggestions)\n\t\t},\n\t\t/**\n\t\t * Get the icon based on the share type\n\t\t *\n\t\t * @param {number} type the share type\n\t\t * @return {string} the icon class\n\t\t */\n\t\t shareTypeToIcon(type) {\n\t\t\tswitch (type) {\n\t\t\tcase ShareType.User:\n\t\t\t\t// default is a user, other icons are here to differentiate\n\t\t\t\t// themselves from it, so let's not display the user icon\n\t\t\t\t// case this.SHARE_TYPES.SHARE_TYPE_REMOTE:\n\t\t\t\t// case this.SHARE_TYPES.SHARE_TYPE_USER:\n\t\t\t\treturn {\n\t\t\t\t\ticon: 'icon-user',\n\t\t\t\t\ticonTitle: t('files_sharing', 'Guest'),\n\t\t\t\t}\n\t\t\tcase ShareType.Group:\n\t\t\t\treturn {\n\t\t\t\t\ticon: 'icon-group',\n\t\t\t\t\ticonTitle: t('files_sharing', 'Group'),\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn {}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Format shares for the multiselect options\n\t\t *\n\t\t * @param {object} result select entry item\n\t\t * @return {object}\n\t\t */\n\t\tformatForMultiselect(result) {\n\t\t\treturn {\n\t\t\t\tshareWith: result.value.shareWith,\n\t\t\t\tshareType: result.value.shareType,\n\t\t\t\tuser: result.uuid || result.value.shareWith,\n\t\t\t\tisNoUser: result.value.shareType !== ShareType.User,\n\t\t\t\tdisplayName: result.name || result.label,\n\t\t\t\tshareWithDisplayNameUnique: result.shareWithDisplayNameUnique || '',\n\t\t\t\t...this.shareTypeToIcon(result.value.shareType),\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Debounce getSuggestions\n\t\t *\n\t\t * @param {...*} args the arguments\n\t\t */\n\t\t debounceGetSuggestions: debounce(300, function(...args) {\n\t\t\tthis.getSuggestions(...args)\n\t\t}),\n\t\thandleListItemClick() {\n\t\t\tif (!this.isViewMode) {\n\t\t\t\tthis.editModalOpen = true\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$emit('click', this.textBlock)\n\t\t},\n\t\tcloseTextBlockDialog() {\n\t\t\tthis.editModalOpen = false\n\t\t\tthis.localTextBlock = JSON.parse(JSON.stringify(this.textBlock))\n\t\t},\n\t\tasync saveTextBlock() {\n\t\t\tthis.saveLoading = true\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.patchTextBlock(this.localTextBlock)\n\t\t\t\tthis.saveLoading = false\n\t\t\t\tthis.editModalOpen = false\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Failed to save text block'))\n\t\t\t\tlogger.error('Failed to save text block', error)\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.text-block-list-item {\n\tpadding-inline-start: 0px !important;\n\tpadding-inline-end: 0px !important;\n\t:deep(.list-item-content) {\n\t\tpadding: 0px !important;\n\t}\n}\n\n.text-block-buttons {\n\twidth: 100%;\n\tjustify-self: end;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\t&__button {\n\t\tmargin: var(--default-grid-baseline);\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=style&index=0&id=51280ad6&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=style&index=0&id=51280ad6&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ListItem.vue?vue&type=template&id=51280ad6&scoped=true\"\nimport script from \"./ListItem.vue?vue&type=script&lang=js\"\nexport * from \"./ListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./ListItem.vue?vue&type=style&index=0&id=51280ad6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51280ad6\",\n  null\n  \n)\n\nexport default component.exports","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { translate as t } from '@nextcloud/l10n'\n\nconst translateSpecial = (mailbox) => {\n\tif (mailbox.specialUse.includes('all')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'All')\n\t}\n\tif (mailbox.specialUse.includes('archive')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Archive')\n\t}\n\tif (mailbox.specialUse.includes('drafts')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Drafts')\n\t}\n\tif (mailbox.specialUse.includes('flagged')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Favorites')\n\t}\n\tif (mailbox.specialUse.includes('inbox')) {\n\t\tif (mailbox.isPriorityInbox) {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'Priority inbox')\n\t\t} else if (mailbox.isUnified) {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'All inboxes')\n\t\t} else {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'Inbox')\n\t\t}\n\t}\n\tif (mailbox.specialUse.includes('junk')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Junk')\n\t}\n\tif (mailbox.specialUse.includes('sent')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Sent')\n\t}\n\tif (mailbox.specialUse.includes('trash')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Trash')\n\t}\n\tthrow new Error(`unknown special use ${mailbox.specialUse}`)\n}\n\nexport const translate = (mailbox) => {\n\tif (mailbox.specialUse.length > 0) {\n\t\ttry {\n\t\t\treturn translateSpecial(mailbox)\n\t\t} catch (e) {\n\t\t\tconsole.error('could not translate special mailbox', e)\n\t\t}\n\t}\n\treturn mailbox.displayName\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.header[data-v-2d5c36ea]{display:flex;align-items:center;justify-content:space-between;gap:var(--default-grid-baseline)}.refresh__button[data-v-2d5c36ea]{background-color:rgba(0,0,0,0)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NewMessageButtonHeader.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,gCAAA,CAGD,kCACC,8BAAA\",\"sourcesContent\":[\"\\n.header {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tgap: var(--default-grid-baseline);\\n}\\n\\n.refresh__button {\\n\\tbackground-color: transparent;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./af\": [\n\t\t18474,\n\t\t8474\n\t],\n\t\"./af.js\": [\n\t\t18474,\n\t\t8474\n\t],\n\t\"./ar\": [\n\t\t14630,\n\t\t4630\n\t],\n\t\"./ar.js\": [\n\t\t14630,\n\t\t4630\n\t],\n\t\"./ast\": [\n\t\t34117,\n\t\t4117\n\t],\n\t\"./ast.js\": [\n\t\t34117,\n\t\t4117\n\t],\n\t\"./az\": [\n\t\t17614,\n\t\t7614\n\t],\n\t\"./az.js\": [\n\t\t17614,\n\t\t7614\n\t],\n\t\"./bg\": [\n\t\t33442,\n\t\t3442\n\t],\n\t\"./bg.js\": [\n\t\t33442,\n\t\t3442\n\t],\n\t\"./bn\": [\n\t\t94217,\n\t\t4217\n\t],\n\t\"./bn.js\": [\n\t\t94217,\n\t\t4217\n\t],\n\t\"./bs\": [\n\t\t87710,\n\t\t7710\n\t],\n\t\"./bs.js\": [\n\t\t87710,\n\t\t7710\n\t],\n\t\"./ca\": [\n\t\t76477,\n\t\t6477\n\t],\n\t\"./ca.js\": [\n\t\t76477,\n\t\t6477\n\t],\n\t\"./cs\": [\n\t\t30315,\n\t\t315\n\t],\n\t\"./cs.js\": [\n\t\t30315,\n\t\t315\n\t],\n\t\"./da\": [\n\t\t21630,\n\t\t1630\n\t],\n\t\"./da.js\": [\n\t\t21630,\n\t\t1630\n\t],\n\t\"./de\": [\n\t\t13842,\n\t\t3842\n\t],\n\t\"./de-ch\": [\n\t\t32172,\n\t\t2172\n\t],\n\t\"./de-ch.js\": [\n\t\t32172,\n\t\t2172\n\t],\n\t\"./de.js\": [\n\t\t13842,\n\t\t3842\n\t],\n\t\"./el\": [\n\t\t90908,\n\t\t908\n\t],\n\t\"./el.js\": [\n\t\t90908,\n\t\t908\n\t],\n\t\"./en-au\": [\n\t\t4661,\n\t\t4661\n\t],\n\t\"./en-au.js\": [\n\t\t4661,\n\t\t4661\n\t],\n\t\"./en-gb\": [\n\t\t8966,\n\t\t8966\n\t],\n\t\"./en-gb.js\": [\n\t\t8966,\n\t\t8966\n\t],\n\t\"./eo\": [\n\t\t20645,\n\t\t645\n\t],\n\t\"./eo.js\": [\n\t\t20645,\n\t\t645\n\t],\n\t\"./es\": [\n\t\t58017,\n\t\t8017\n\t],\n\t\"./es-co\": [\n\t\t37096,\n\t\t7096\n\t],\n\t\"./es-co.js\": [\n\t\t37096,\n\t\t7096\n\t],\n\t\"./es.js\": [\n\t\t58017,\n\t\t8017\n\t],\n\t\"./et\": [\n\t\t46772,\n\t\t6772\n\t],\n\t\"./et.js\": [\n\t\t46772,\n\t\t6772\n\t],\n\t\"./eu\": [\n\t\t94715,\n\t\t4715\n\t],\n\t\"./eu.js\": [\n\t\t94715,\n\t\t4715\n\t],\n\t\"./fa\": [\n\t\t37232,\n\t\t7232\n\t],\n\t\"./fa.js\": [\n\t\t37232,\n\t\t7232\n\t],\n\t\"./fi\": [\n\t\t56536,\n\t\t6536\n\t],\n\t\"./fi.js\": [\n\t\t56536,\n\t\t6536\n\t],\n\t\"./fr\": [\n\t\t84505,\n\t\t4505\n\t],\n\t\"./fr.js\": [\n\t\t84505,\n\t\t4505\n\t],\n\t\"./gl\": [\n\t\t2878,\n\t\t2878\n\t],\n\t\"./gl.js\": [\n\t\t2878,\n\t\t2878\n\t],\n\t\"./gu\": [\n\t\t91173,\n\t\t1173\n\t],\n\t\"./gu.js\": [\n\t\t91173,\n\t\t1173\n\t],\n\t\"./he\": [\n\t\t32214,\n\t\t2214\n\t],\n\t\"./he.js\": [\n\t\t32214,\n\t\t2214\n\t],\n\t\"./hi\": [\n\t\t89810,\n\t\t9810\n\t],\n\t\"./hi.js\": [\n\t\t89810,\n\t\t9810\n\t],\n\t\"./hr\": [\n\t\t78951,\n\t\t8951\n\t],\n\t\"./hr.js\": [\n\t\t78951,\n\t\t8951\n\t],\n\t\"./hu\": [\n\t\t1798,\n\t\t1798\n\t],\n\t\"./hu.js\": [\n\t\t1798,\n\t\t1798\n\t],\n\t\"./hy\": [\n\t\t62562,\n\t\t2562\n\t],\n\t\"./hy.js\": [\n\t\t62562,\n\t\t2562\n\t],\n\t\"./id\": [\n\t\t15976,\n\t\t5976\n\t],\n\t\"./id.js\": [\n\t\t15976,\n\t\t5976\n\t],\n\t\"./it\": [\n\t\t27032,\n\t\t7032\n\t],\n\t\"./it.js\": [\n\t\t27032,\n\t\t7032\n\t],\n\t\"./ja\": [\n\t\t22668,\n\t\t2668\n\t],\n\t\"./ja.js\": [\n\t\t22668,\n\t\t2668\n\t],\n\t\"./jv\": [\n\t\t43881,\n\t\t3881\n\t],\n\t\"./jv.js\": [\n\t\t43881,\n\t\t3881\n\t],\n\t\"./kk\": [\n\t\t87083,\n\t\t7083\n\t],\n\t\"./kk.js\": [\n\t\t87083,\n\t\t7083\n\t],\n\t\"./km\": [\n\t\t45713,\n\t\t5713\n\t],\n\t\"./km.js\": [\n\t\t45713,\n\t\t5713\n\t],\n\t\"./kn\": [\n\t\t54680,\n\t\t4680\n\t],\n\t\"./kn.js\": [\n\t\t54680,\n\t\t4680\n\t],\n\t\"./ko\": [\n\t\t17839,\n\t\t7839\n\t],\n\t\"./ko.js\": [\n\t\t17839,\n\t\t7839\n\t],\n\t\"./ku\": [\n\t\t76761,\n\t\t6761\n\t],\n\t\"./ku.js\": [\n\t\t76761,\n\t\t6761\n\t],\n\t\"./lt\": [\n\t\t82873,\n\t\t2873\n\t],\n\t\"./lt.js\": [\n\t\t82873,\n\t\t2873\n\t],\n\t\"./lv\": [\n\t\t52311,\n\t\t2311\n\t],\n\t\"./lv.js\": [\n\t\t52311,\n\t\t2311\n\t],\n\t\"./ms\": [\n\t\t31049,\n\t\t1049\n\t],\n\t\"./ms.js\": [\n\t\t31049,\n\t\t1049\n\t],\n\t\"./nb\": [\n\t\t94609,\n\t\t4609\n\t],\n\t\"./nb.js\": [\n\t\t94609,\n\t\t4609\n\t],\n\t\"./ne\": [\n\t\t64484,\n\t\t4484\n\t],\n\t\"./ne.js\": [\n\t\t64484,\n\t\t4484\n\t],\n\t\"./nl\": [\n\t\t53027,\n\t\t3027\n\t],\n\t\"./nl.js\": [\n\t\t53027,\n\t\t3027\n\t],\n\t\"./no\": [\n\t\t47622,\n\t\t7622\n\t],\n\t\"./no.js\": [\n\t\t47622,\n\t\t7622\n\t],\n\t\"./oc\": [\n\t\t7807,\n\t\t7807\n\t],\n\t\"./oc.js\": [\n\t\t7807,\n\t\t7807\n\t],\n\t\"./pl\": [\n\t\t56949,\n\t\t6949\n\t],\n\t\"./pl.js\": [\n\t\t56949,\n\t\t6949\n\t],\n\t\"./pt\": [\n\t\t4557,\n\t\t4557\n\t],\n\t\"./pt-br\": [\n\t\t77494,\n\t\t7494\n\t],\n\t\"./pt-br.js\": [\n\t\t77494,\n\t\t7494\n\t],\n\t\"./pt.js\": [\n\t\t4557,\n\t\t4557\n\t],\n\t\"./ro\": [\n\t\t80554,\n\t\t554\n\t],\n\t\"./ro.js\": [\n\t\t80554,\n\t\t554\n\t],\n\t\"./ru\": [\n\t\t31608,\n\t\t1608\n\t],\n\t\"./ru.js\": [\n\t\t31608,\n\t\t1608\n\t],\n\t\"./si\": [\n\t\t82917,\n\t\t2917\n\t],\n\t\"./si.js\": [\n\t\t82917,\n\t\t2917\n\t],\n\t\"./sk\": [\n\t\t73955,\n\t\t3955\n\t],\n\t\"./sk.js\": [\n\t\t73955,\n\t\t3955\n\t],\n\t\"./sl\": [\n\t\t96442,\n\t\t6442\n\t],\n\t\"./sl.js\": [\n\t\t96442,\n\t\t6442\n\t],\n\t\"./sq\": [\n\t\t20893,\n\t\t893\n\t],\n\t\"./sq.js\": [\n\t\t20893,\n\t\t893\n\t],\n\t\"./sr\": [\n\t\t22772,\n\t\t2772\n\t],\n\t\"./sr-latn\": [\n\t\t76220,\n\t\t6220\n\t],\n\t\"./sr-latn.js\": [\n\t\t76220,\n\t\t6220\n\t],\n\t\"./sr.js\": [\n\t\t22772,\n\t\t2772\n\t],\n\t\"./sv\": [\n\t\t90152,\n\t\t152\n\t],\n\t\"./sv.js\": [\n\t\t90152,\n\t\t152\n\t],\n\t\"./th\": [\n\t\t11813,\n\t\t1813\n\t],\n\t\"./th.js\": [\n\t\t11813,\n\t\t1813\n\t],\n\t\"./ti\": [\n\t\t9894,\n\t\t9894\n\t],\n\t\"./ti.js\": [\n\t\t9894,\n\t\t9894\n\t],\n\t\"./tk\": [\n\t\t82076,\n\t\t2076\n\t],\n\t\"./tk.js\": [\n\t\t82076,\n\t\t2076\n\t],\n\t\"./tr\": [\n\t\t28411,\n\t\t8411\n\t],\n\t\"./tr.js\": [\n\t\t28411,\n\t\t8411\n\t],\n\t\"./tt\": [\n\t\t49185,\n\t\t9185\n\t],\n\t\"./tt.js\": [\n\t\t49185,\n\t\t9185\n\t],\n\t\"./ug\": [\n\t\t54813,\n\t\t4813\n\t],\n\t\"./ug.js\": [\n\t\t54813,\n\t\t4813\n\t],\n\t\"./uk\": [\n\t\t37977,\n\t\t7977\n\t],\n\t\"./uk.js\": [\n\t\t37977,\n\t\t7977\n\t],\n\t\"./ur\": [\n\t\t65218,\n\t\t5218\n\t],\n\t\"./ur.js\": [\n\t\t65218,\n\t\t5218\n\t],\n\t\"./uz\": [\n\t\t14010,\n\t\t4010\n\t],\n\t\"./uz.js\": [\n\t\t14010,\n\t\t4010\n\t],\n\t\"./vi\": [\n\t\t58824,\n\t\t8824\n\t],\n\t\"./vi.js\": [\n\t\t58824,\n\t\t8824\n\t],\n\t\"./zh\": [\n\t\t78251,\n\t\t8251\n\t],\n\t\"./zh-cn\": [\n\t\t91773,\n\t\t1773\n\t],\n\t\"./zh-cn.js\": [\n\t\t91773,\n\t\t1773\n\t],\n\t\"./zh.js\": [\n\t\t78251,\n\t\t8251\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 7 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 53890;\nmodule.exports = webpackAsyncContext;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `p.app-settings[data-v-f48d227c]{padding:calc(var(--default-grid-baseline)*2) 0}.app-settings-button[data-v-f48d227c]{display:inline-flex;background-position:10px center;text-align:start;margin-top:calc(var(--default-grid-baseline)*2)}.app-settings-button.button.primary.new-button[data-v-f48d227c]{color:var(--color-primary-element-text);padding-inline-start:34px;gap:var(--default-grid-baseline);width:fit-content}.app-settings-link[data-v-f48d227c]{text-decoration:underline}[data-v-f48d227c] .button-vue__text{text-overflow:clip;white-space:normal}[data-v-f48d227c] .button-vue__wrapper{justify-content:flex-start}.mailvelope-section[data-v-f48d227c]{padding-top:calc(var(--default-grid-baseline)*4)}.mailvelope-section a.button[data-v-f48d227c]{display:flex;align-items:center;line-height:normal;min-height:calc(var(--default-grid-baseline)*11);font-size:unset;color:var(--color-primary-element-light-text);width:fit-content}.mailvelope-section a.button[data-v-f48d227c]:focus-visible,.mailvelope-section a.button[data-v-f48d227c]:hover{box-shadow:0 0 0 1px var(--color-primary-element)}.material-design-icon.lock-icon[data-v-f48d227c]{margin-inline-end:calc(var(--default-grid-baseline)*2)}.section-title[data-v-f48d227c]{margin-top:calc(var(--default-grid-baseline)*5);margin-bottom:calc(var(--default-grid-baseline)*2)}.sorting[data-v-f48d227c]{display:flex;width:100%}.sorting__switch[data-v-f48d227c]{width:50%}.mail-creation-button[data-v-f48d227c]{width:100%}.settings-hint[data-v-f48d227c]{margin-top:calc(var(--default-grid-baseline)*-3);margin-bottom:calc(var(--default-grid-baseline)*2);color:var(--color-text-maxcontrast)}.app-settings-section[data-v-f48d227c]{list-style:none}.text-block-buttons[data-v-f48d227c]{width:100%;justify-self:end;display:flex;justify-content:flex-end}.text-block-buttons__button[data-v-f48d227c]{margin:var(--default-grid-baseline)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AppSettingsMenu.vue\"],\"names\":[],\"mappings\":\"AACA,gCACC,8CAAA,CAGD,sCACC,mBAAA,CACA,+BAAA,CACA,gBAAA,CACA,+CAAA,CAGD,gEACC,uCAAA,CAEA,yBAAA,CACA,gCAAA,CACA,iBAAA,CAGD,oCACC,yBAAA,CAGD,oCACC,kBAAA,CACA,kBAAA,CAGD,uCACC,0BAAA,CAGD,qCACC,gDAAA,CAEA,8CACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,gDAAA,CACA,eAAA,CACA,6CAAA,CACA,iBAAA,CAEA,gHAEC,iDAAA,CAMF,iDACC,sDAAA,CAKF,gCACC,+CAAA,CACA,kDAAA,CAGD,0BACC,YAAA,CACA,UAAA,CACA,kCACC,SAAA,CAIF,uCACC,UAAA,CAGD,gCACC,gDAAA,CACA,kDAAA,CACA,mCAAA,CAGD,uCACC,eAAA,CAGD,qCACC,UAAA,CACA,gBAAA,CACA,YAAA,CACA,wBAAA,CACA,6CACC,mCAAA\",\"sourcesContent\":[\"\\np.app-settings {\\n\\tpadding: calc(var(--default-grid-baseline) * 2) 0;\\n}\\n\\n.app-settings-button {\\n\\tdisplay: inline-flex;\\n\\tbackground-position: 10px center;\\n\\ttext-align: start;\\n\\tmargin-top: calc(var(--default-grid-baseline) * 2);\\n}\\n\\n.app-settings-button.button.primary.new-button {\\n\\tcolor: var(--color-primary-element-text);\\n\\t//this style will be removed after we migrate also the  'add mail account' to material design\\n\\tpadding-inline-start: 34px;\\n\\tgap: var(--default-grid-baseline);\\n\\twidth: fit-content;\\n}\\n\\n.app-settings-link {\\n\\ttext-decoration: underline;\\n}\\n\\n:deep(.button-vue__text) {\\n\\ttext-overflow: clip;\\n\\twhite-space: normal;\\n}\\n\\n:deep(.button-vue__wrapper) {\\n\\tjustify-content: flex-start;\\n}\\n\\n.mailvelope-section {\\n\\tpadding-top: calc(var(--default-grid-baseline) * 4);\\n\\n\\ta.button {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tline-height: normal;\\n\\t\\tmin-height: calc(var(--default-grid-baseline) * 11);\\n\\t\\tfont-size: unset;\\n\\t\\tcolor: var(--color-primary-element-light-text);\\n\\t\\twidth: fit-content;\\n\\n\\t\\t&:focus-visible,\\n\\t\\t&:hover {\\n\\t\\t\\tbox-shadow: 0 0 0 1px var(--color-primary-element);\\n\\t\\t}\\n\\t}\\n}\\n\\n.material-design-icon {\\n\\t&.lock-icon {\\n\\t\\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\\n\\t}\\n\\n}\\n\\n.section-title {\\n\\tmargin-top: calc(var(--default-grid-baseline) * 5);\\n\\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\\n}\\n\\n.sorting {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\t&__switch{\\n\\t\\twidth: 50%;\\n\\t}\\n}\\n\\n.mail-creation-button {\\n\\twidth: 100%;\\n}\\n\\n.settings-hint {\\n\\tmargin-top: calc(var(--default-grid-baseline) * -3);\\n\\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\\n.app-settings-section {\\n\\tlist-style: none;\\n}\\n\\n.text-block-buttons {\\n\\twidth: 100%;\\n\\tjustify-self: end;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\t&__button {\\n\\t\\tmargin: var(--default-grid-baseline);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"editor-wrapper\",class:{ 'editor-wrapper--bordered': _vm.isBordered }},[_c('div',{ref:\"toolbarContainer\",staticClass:\"toolbar\"}),_vm._v(\" \"),_c('div',{ref:\"editableContainer\",staticClass:\"editable\"}),_vm._v(\" \"),(_vm.ready)?_c('ckeditor',{staticClass:\"editor\",attrs:{\"value\":_vm.value,\"config\":_vm.config,\"editor\":_vm.editor,\"disabled\":_vm.disabled},on:{\"input\":_vm.onEditorInput,\"ready\":_vm.onEditorReady}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin.js'\nimport InsertSignatureCommand from './InsertSignatureCommand.js'\n\nexport default class Signature extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\n\t\tthis.editor.commands.add(\n\t\t\t'insertSignature',\n\t\t\tnew InsertSignatureCommand(this.editor),\n\t\t)\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('signature', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'signature',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'signature',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin.js'\n\nexport default class Quote extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('quote', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'quote',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'quote',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin.js'\nimport { Paragraph } from '@ckeditor/ckeditor5-paragraph'\n\nexport default class Mail extends Plugin {\n\n\tstatic get requires() {\n\t\treturn [Paragraph]\n\t}\n\n\tinit() {\n\t\tthis._overwriteParagraphConversion()\n\t}\n\n\t/**\n\t * Overwrite the elementToElement conversion\n\t * from the default paragraph plugin to add\n\t * margin:0 to every <p>.\n\t *\n\t * @private\n\t */\n\t_overwriteParagraphConversion() {\n\t\tthis.editor.conversion.elementToElement({\n\t\t\tmodel: 'paragraph',\n\t\t\tview: {\n\t\t\t\tname: 'p',\n\t\t\t\tstyles: {\n\t\t\t\t\tmargin: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t\tconverterPriority: 'high',\n\t\t})\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command.js'\nexport default class InsertItemCommand extends Command {\n\n\t/**\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {string} item smart picker or emoji picker\n\t * @param {string} trigger the character to replace\n\t */\n\tinsertItem(editor, writer, item, trigger) {\n\t\tconst currentPosition = editor.model.document.selection.getLastPosition()\n\t\tif (currentPosition === null) {\n\t\t\t// null as current position is probably not possible\n\t\t\t// @TODO Add error to handle such a situation in the callback\n\t\t\treturn\n\t\t}\n\t\tconst range = editor.model.createRange(\n\t\t\tcurrentPosition.getShiftedBy(-5),\n\t\t\tcurrentPosition,\n\t\t)\n\t\t// Iterate over all items in this range:\n\t\tconst walker = range.getWalker({ shallow: false, direction: 'backward' })\n\n\t\tfor (const value of walker) {\n\t\t\tif (value.type === 'text' && value.item.data.includes(trigger)) {\n\t\t\t\twriter.remove(value.item)\n\t\t\t\tconst text = value.item.data\n\t\t\t\tconst lastSlash = text.lastIndexOf(trigger)\n\t\t\t\tconst textElement = writer.createElement('paragraph')\n\t\t\t\twriter.insertText(text.substring(0, lastSlash), textElement)\n\t\t\t\teditor.model.insertContent(textElement)\n\n\t\t\t\tif (trigger === '@') {\n\t\t\t\t\tconst mailtoHref = `mailto:${item.email}`\n\t\t\t\t\tconst anchorText = `@${item.label}`\n\t\t\t\t\tconst textElement = writer.createText(anchorText, { linkHref: mailtoHref })\n\t\t\t\t\teditor.model.insertContent(textElement)\n\t\t\t\t} else if (trigger === '!') {\n\t\t\t\t\tif (item.isHtml) {\n\t\t\t\t\t\tconst viewFragment = editor.data.processor.toView(item.content)\n\t\t\t\t\t\tconst modelFragment = editor.data.toModel(viewFragment)\n\t\t\t\t\t\teditor.model.insertContent(modelFragment)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst itemElement = writer.createElement('paragraph')\n\t\t\t\t\t\twriter.insertText(item.content, itemElement)\n\t\t\t\t\t\teditor.model.insertContent(itemElement)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst itemElement = writer.createElement('paragraph')\n\t\t\t\t\twriter.insertText(item, itemElement)\n\t\t\t\t\teditor.model.insertContent(itemElement)\n\t\t\t\t}\n\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// @TODO If we end up here, we did not find the slash. We should throw an error maybe.\n\t}\n\n\t/**\n\t * @param {string}  item link from smart picker or emoji from emoji picker\n\t * @param {string} trigger the character to replace\n\t */\n\texecute(item, trigger) {\n\t\tthis.editor.model.change(writer => {\n\t\t\tthis.insertItem(this.editor, writer, item, trigger)\n\t\t})\n\t}\n\n\trefresh() {\n\t\tthis.isEnabled = true\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin.js'\nimport InsertItemCommand from './InsertItemCommand.js'\nexport default class PickerPlugin extends Plugin {\n\n\tinit() {\n\t\tthis.editor.commands.add(\n\t\t\t'insertItem',\n\t\t\tnew InsertItemCommand(this.editor),\n\t\t)\n\t}\n\n}\n","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div :class=\"{ 'editor-wrapper--bordered': isBordered }\" class=\"editor-wrapper\">\n\t\t<div ref=\"toolbarContainer\" class=\"toolbar\" />\n\n\t\t<div ref=\"editableContainer\" class=\"editable\" />\n\n\t\t<ckeditor v-if=\"ready\"\n\t\t\t:value=\"value\"\n\t\t\t:config=\"config\"\n\t\t\t:editor=\"editor\"\n\t\t\t:disabled=\"disabled\"\n\t\t\tclass=\"editor\"\n\t\t\t@input=\"onEditorInput\"\n\t\t\t@ready=\"onEditorReady\" />\n\t</div>\n</template>\n\n<script>\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment.js'\nimport { Mention } from '@ckeditor/ckeditor5-mention'\nimport Editor from '@ckeditor/ckeditor5-editor-classic/src/classiceditor.js'\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials.js'\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote.js'\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold.js'\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font.js'\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph.js'\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading.js'\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic.js'\nimport Underline from '@ckeditor/ckeditor5-basic-styles/src/underline.js'\nimport Superscript from '@ckeditor/ckeditor5-basic-styles/src/superscript.js'\nimport Subscript from '@ckeditor/ckeditor5-basic-styles/src/subscript.js'\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link.js'\nimport ListPlugin from '@ckeditor/ckeditor5-list/src/list.js'\nimport ListProperties from '@ckeditor/ckeditor5-list/src/listproperties.js'\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat.js'\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin.js'\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough.js'\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin.js'\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter.js'\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image.js'\nimport FindAndReplace from '@ckeditor/ckeditor5-find-and-replace/src/findandreplace.js'\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize.js'\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload.js'\nimport GeneralHtmlSupport from '@ckeditor/ckeditor5-html-support/src/generalhtmlsupport.js'\nimport { DropdownView } from '@ckeditor/ckeditor5-ui'\nimport MailPlugin from '../ckeditor/mail/MailPlugin.js'\nimport { searchProvider, getLinkWithPicker } from '@nextcloud/vue/components/NcRichText'\nimport { getLanguage } from '@nextcloud/l10n'\nimport logger from '../logger.js'\nimport PickerPlugin from '../ckeditor/smartpicker/PickerPlugin.js'\nimport { autoCompleteByName } from '../service/ContactIntegrationService.js'\nimport { emojiSearch, emojiAddRecent } from '@nextcloud/vue'\nimport { toPlain, Text } from '../util/text.js'\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tckeditor: CKEditor.component,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thtml: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tbus: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\ttextBlocks: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tisBordered: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\treadOnly: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\tconst plugins = [\n\t\t\tEssentialsPlugin,\n\t\t\tParagraphPlugin,\n\t\t\tSignaturePlugin,\n\t\t\tQuotePlugin,\n\t\t\tPickerPlugin,\n\t\t\tMention,\n\t\t\tLinkPlugin,\n\t\t\tFindAndReplace,\n\t\t\tGeneralHtmlSupport,\n\t\t]\n\t\tconst toolbar = ['undo', 'redo']\n\n\t\tif (this.html) {\n\t\t\tplugins.push(...[\n\t\t\t\tHeadingPlugin,\n\t\t\t\tAlignmentPlugin,\n\t\t\t\tBoldPlugin,\n\t\t\t\tItalicPlugin,\n\t\t\t\tUnderline,\n\t\t\t\tStrikethroughPlugin,\n\t\t\t\tSubscript,\n\t\t\t\tSuperscript,\n\t\t\t\tBlockQuotePlugin,\n\t\t\t\tListPlugin,\n\t\t\t\tImagePlugin,\n\t\t\t\tImageUploadPlugin,\n\t\t\t\tImageResizePlugin,\n\t\t\t\tListProperties,\n\t\t\t\tFontPlugin,\n\t\t\t\tRemoveFormat,\n\t\t\t\tBase64UploadAdapter,\n\t\t\t\tMailPlugin,\n\t\t\t])\n\t\t\ttoolbar.unshift(...[\n\t\t\t\t'heading',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontSize',\n\t\t\t\t'bold',\n\t\t\t\t'italic',\n\t\t\t\t'underline',\n\t\t\t\t'strikethrough',\n\t\t\t\t'fontColor',\n\t\t\t\t'subscript',\n\t\t\t\t'superscript',\n\t\t\t\t'fontBackgroundColor',\n\t\t\t\t'insertImage',\n\t\t\t\t'alignment',\n\t\t\t\t'bulletedList',\n\t\t\t\t'numberedList',\n\t\t\t\t'blockquote',\n\t\t\t\t'link',\n\t\t\t\t'removeFormat',\n\t\t\t\t'findAndReplace',\n\t\t\t])\n\t\t}\n\n\t\treturn {\n\t\t\tlinkTribute: null,\n\t\t\temojiTribute: null,\n\t\t\ttextSmiles: [],\n\t\t\tready: false,\n\t\t\teditor: Editor,\n\t\t\tconfig: {\n\t\t\t\tlicenseKey: 'GPL',\n\t\t\t\tplaceholder: this.placeholder,\n\t\t\t\tplugins,\n\t\t\t\ttoolbar: {\n\t\t\t\t\titems: toolbar,\n\t\t\t\t},\n\t\t\t\tlanguage: 'en',\n\t\t\t\tmention: {\n\t\t\t\t\tfeeds: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmarker: ':',\n\t\t\t\t\t\t\tfeed: this.getEmoji,\n\t\t\t\t\t\t\titemRenderer: this.customEmojiRenderer,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmarker: '/',\n\t\t\t\t\t\t\tfeed: this.getLink,\n\t\t\t\t\t\t\titemRenderer: this.customLinkRenderer,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmarker: '@',\n\t\t\t\t\t\t\tfeed: this.getContact,\n\t\t\t\t\t\t\titemRenderer: this.customRenderer,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmarker: '!',\n\t\t\t\t\t\t\tfeed: this.getTextBlock,\n\t\t\t\t\t\t\titemRenderer: this.customRenderer,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t},\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.loadEditorTranslations(getLanguage())\n\t},\n\tmethods: {\n\t\tgetLink(text) {\n\t\t\tconst results = searchProvider(text)\n\t\t\tif (results.length === 1 && !results[0].title.toLowerCase().includes(text.toLowerCase())) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn results\n\t\t},\n\t\tgetEmoji(text) {\n\t\t\t// Disable the emoji picker if a [space] is the first character after the colon ':'\n\t\t\tif (text[0] === ' ') {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tconst emojiResults = emojiSearch(text)\n\t\t\tif (this.textSmiles.includes(':' + text)) {\n\n\t\t\t\temojiResults.unshift(':' + text)\n\t\t\t}\n\t\t\treturn emojiResults\n\t\t},\n\t\tasync getContact(text) {\n\t\t\tif (text.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tlet contactResults = await autoCompleteByName(text)\n\t\t\tcontactResults = contactResults.filter(result => result.email.length > 0)\n\t\t\treturn contactResults\n\t\t},\n\t\tgetTextBlock(text) {\n\t\t\tif (text.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn this.textBlocks.filter(textBlock => textBlock.title.toLowerCase().includes(text.toLowerCase()))\n\t\t},\n\t\t customEmojiRenderer(item) {\n\t\t\tconst itemElement = document.createElement('span')\n\n\t\t\titemElement.classList.add('custom-item')\n\t\t\titemElement.id = `mention-list-item-id-${item.colons}`\n\t\t\titemElement.textContent = `${item.native} `\n\t\t\tconst usernameElement = document.createElement('span')\n\n\t\t\tusernameElement.classList.add('custom-item-username')\n\t\t\tusernameElement.textContent = item.colons\n\n\t\t\titemElement.appendChild(usernameElement)\n\n\t\t\treturn itemElement\n\t\t},\n\t\tcustomLinkRenderer(item) {\n\t\t\tconst itemElement = document.createElement('span')\n\t\t\titemElement.classList.add('link-container')\n\n\t\t\tconst icon = document.createElement('img')\n\t\t\ticon.classList.add('link-icon')\n\t\t\ticon.src = `${item.icon_url} `\n\n\t\t\tconst usernameElement = document.createElement('span')\n\n\t\t\tusernameElement.classList.add('link-title')\n\t\t\tusernameElement.textContent = `${item.title} `\n\t\t\titemElement.appendChild(icon)\n\t\t\titemElement.appendChild(usernameElement)\n\n\t\t\treturn itemElement\n\t\t},\n\t\tcustomRenderer(item, type) {\n\t\t\tconst itemElement = document.createElement('span')\n\n\t\t\titemElement.classList.add('custom-item')\n\t\t\titemElement.id = `mention-list-item-id-${item.id}`\n\t\t\tconst usernameElement = document.createElement('p')\n\t\t\tconst label = type === 'contact' ? item.label : item.title\n\t\t\tusernameElement.classList.add('custom-item-username')\n\t\t\tusernameElement.textContent = label\n\n\t\t\titemElement.appendChild(usernameElement)\n\n\t\t\treturn itemElement\n\t\t},\n\t\toverrideDropdownPositionsToNorth(editor, toolbarView) {\n\t\t\tconst {\n\t\t\t\tsouth, north, southEast, southWest, northEast, northWest,\n\t\t\t\tsouthMiddleEast, southMiddleWest, northMiddleEast, northMiddleWest,\n\t\t\t} = DropdownView.defaultPanelPositions\n\n\t\t\tlet panelPositions\n\n\t\t\tif (editor.locale.uiLanguageDirection !== 'rtl') {\n\t\t\t\tpanelPositions = [\n\t\t\t\t\tnorthEast, northWest, northMiddleEast, northMiddleWest, north,\n\t\t\t\t\tsouthEast, southWest, southMiddleEast, southMiddleWest, south,\n\t\t\t\t]\n\t\t\t} else {\n\t\t\t\tpanelPositions = [\n\t\t\t\t\tnorthWest, northEast, northMiddleWest, northMiddleEast, north,\n\t\t\t\t\tsouthWest, southEast, southMiddleWest, southMiddleEast, south,\n\t\t\t\t]\n\t\t\t}\n\n\t\t\tfor (const item of toolbarView.items) {\n\t\t\t\tif (!(item instanceof DropdownView)) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\titem.on('change:isOpen', () => {\n\t\t\t\t\tif (!item.isOpen) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\titem.panelView.position = DropdownView._getOptimalPosition({\n\t\t\t\t\t\telement: item.panelView.element,\n\t\t\t\t\t\ttarget: item.buttonView.element,\n\t\t\t\t\t\tfitInViewport: true,\n\t\t\t\t\t\tpositions: panelPositions,\n\t\t\t\t\t}).name\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\toverrideTooltipPositions(toolbarView) {\n\t\t\tfor (const item of toolbarView.items) {\n\t\t\t\tif (item.buttonView) {\n\t\t\t\t\titem.buttonView.tooltipPosition = 'n'\n\t\t\t\t} else if (item.tooltipPosition) {\n\t\t\t\t\titem.tooltipPosition = 'n'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync loadEditorTranslations(language) {\n\t\t\tif (language === 'en') {\n\t\t\t\t// The default, nothing to fetch\n\t\t\t\treturn this.showEditor('en')\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlogger.debug(`loading ${language} translations for CKEditor`)\n\t\t\t\tawait import(\n\t\t\t\t\t/* webpackMode: \"lazy\" */\n\t\t\t\t\t`@ckeditor/ckeditor5-build-decoupled-document/build/translations/${language}`\n\t\t\t\t)\n\t\t\t\tthis.showEditor(language)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not find CKEditor translations for \"${language}\"`, { error })\n\t\t\t\tthis.showEditor('en')\n\t\t\t}\n\t\t},\n\t\tshowEditor(language) {\n\t\t\tlogger.debug(`using \"${language}\" as CKEditor language`)\n\t\t\tthis.config.language = language\n\n\t\t\tthis.ready = true\n\t\t},\n\t\t/**\n\t\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\n\t\t */\n\t\tonEditorReady(editor) {\n\t\t\tlogger.debug('TextEditor is ready', { editor })\n\n\t\t\t// https://ckeditor.com/docs/ckeditor5/latest/examples/builds-custom/bottom-toolbar-editor.html\n\t\t\tthis.$refs.toolbarContainer.appendChild(editor.ui.view.toolbar.element)\n\t\t\tthis.$refs.editableContainer.appendChild(editor.ui.view.editable.element)\n\t\t\tif (this.readOnly) {\n\t\t\t\teditor.ui.view.toolbar.element.style.display = 'none'\n\t\t\t\teditor.enableReadOnlyMode('text-block')\n\t\t\t}\n\t\t\tif (editor.ui) {\n\t\t\t\tthis.overrideDropdownPositionsToNorth(editor, editor.ui.view.toolbar)\n\t\t\t\tthis.overrideTooltipPositions(editor.ui.view.toolbar)\n\t\t\t}\n\t\t\teditor.commands.get('mention')?.on('execute', (event, data) => {\n\t\t\t\tevent.stop()\n\t\t\t\tconst eventData = data[0]\n\t\t\t\tconst item = eventData.mention\n\t\t\t\tif (eventData.marker === ':') {\n\t\t\t\t\temojiAddRecent(item)\n\t\t\t\t\tthis.editorInstance.execute('insertItem', item.native, ':')\n\t\t\t\t}\n\t\t\t\tif (eventData.marker === '/') {\n\t\t\t\t\tgetLinkWithPicker(item.id)\n\t\t\t\t\t\t.then((link) => {\n\t\t\t\t\t\t\tthis.editorInstance.execute('insertItem', link, '/')\n\t\t\t\t\t\t\tthis.editorInstance.editing.view.focus()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tconsole.debug('Smart picker promise rejected:', error)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (eventData.marker === '@') {\n\t\t\t\t\tthis.editorInstance.execute('insertItem', { email: item.email[0], label: item.label }, '@')\n\t\t\t\t\tthis.$emit('mention', { email: item.email[0], label: item.label })\n\t\t\t\t}\n\t\t\t\tif (eventData.marker === '!') {\n\t\t\t\t\tthis.insertTextBlock(item, false)\n\t\t\t\t}\n\t\t\t}, { priority: 'high' })\n\n\t\t\tthis.editorInstance = editor\n\n\t\t\tif (this.focus) {\n\t\t\t\tlogger.debug('focusing TextEditor')\n\t\t\t\teditor.editing.view.focus()\n\t\t\t}\n\n\t\t\tif (this.html) {\n\t\t\t\tthis.$emit('show-toolbar', editor.ui._focusableToolbarDefinitions[0].toolbarView.element)\n\t\t\t}\n\n\t\t\tthis.bus.on('append-to-body-at-cursor', this.appendToBodyAtCursor)\n\t\t\tthis.bus.on('insert-text-block', this.insertTextBlock)\n\t\t\tthis.$emit('ready', editor)\n\t\t},\n\t\tonEditorInput(text) {\n\t\t\tif (text !== this.value) {\n\t\t\t\tlogger.debug(`TextEditor input changed to <${text}>`)\n\t\t\t\tthis.$emit('input', text)\n\t\t\t}\n\t\t},\n\t\tappendToBodyAtCursor(toAppend) {\n\t\t\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\n\t\t\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\n\t\t\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\n\t\t\tthis.editorInstance.model.insertContent(modelFragment)\n\t\t},\n\t\teditorExecute(commandName, ...args) {\n\t\t\tif (this.editorInstance) {\n\t\t\t\tthis.editorInstance.execute(commandName, ...args)\n\t\t\t} else {\n\t\t\t\tthrow new Error('Impossible to execute a command before editor is ready.')\n\t\t\t}\n\t\t},\n\t\tinsertTextBlock(textBlock, addTriggrer = true) {\n\t\t\tif (addTriggrer) {\n\t\t\t\tthis.appendToBodyAtCursor('!')\n\t\t\t}\n\t\t\tlet content = textBlock.content\n\t\t\tif (!this.html) {\n\t\t\t\tconst text = new Text('html', content)\n\t\t\t\tcontent = toPlain(text).value\n\t\t\t}\n\t\t\tthis.editorInstance.execute('insertItem', { content, isHtml: this.html }, '!')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editor-wrapper--bordered{\n\t--border-offset: calc(var(--border-width-input-focused, 2px) - var(--border-width-input, 2px));\n\tmargin-top: var(--default-grid-baseline);\n\tborder: var(--border-width-input, 2px) solid var(--color-border-maxcontrast);\n\tborder-radius:var(--border-radius-large);\n\theight: 200px;\n\t// to align with the text input in the text block modal\n\tpadding: 9px;\n\n\t:deep(.ck.ck-editor__editable_inline) {\n\t\tpadding:0 !important;\n\t}\n\t&:focus {\n\t\tpadding: calc(9px - var(--border-offset));\n\t\tborder-color: var(--color-main-text);\n\t\tborder-width: var(--border-width-input-focused, 2px);\n\t}\n\t&:hover {\n\t\tpadding: calc(9px - var(--border-offset));\n\t\tborder-color: var(--color-main-text);\n\t\tborder-width: var(--border-width-input-focused, 2px);\n\t}\n}\n\n.editor {\n\twidth: 100%;\n\theight: calc(100% - 75px);\n\toverflow: scroll;\n\tmargin-bottom: 10px;\n\n\t&.ck {\n\t\tborder: none !important;\n\t\tbox-shadow: none !important;\n\t\tpadding: 0;\n\t}\n}\n\n:deep(a) {\n\tcolor: #07d;\n}\n\n:deep(p) {\n\tcursor: text;\n\tmargin: 0 !important;\n}\n</style>\n\n<style>\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n .ck .ck-reset {\n\tbackground: var(--color-main-background) !important;\n }\n/* Default ckeditor value of padding-inline-start, to overwrite the global styling from server */\n.ck-content ul, .ck-content ol {\n\tpadding-inline-start: 40px;\n}\n\n.ck-read-only {\n\tcolor: var(--color-main-text) !important;\n\tbackground-color: var(--color-main-background) !important;\n\topacity: 1 !important;\n\tfont-size: 100% !important;\n}\n\n.ck-list__item {\n\t.ck-off {\n\t\tbackground:var(--color-main-background) !important;\n\t}\n\t.ck-on {\n\t\tbackground:var(--color-primary-element-light) !important;\n\t}\n}\n\n.custom-item-username {\n\tcolor: var(--color-main-text) !important;\n }\n\n.link-title {\n\tcolor: var(--color-main-text) !important;\n\tmargin-inline-start: var(--default-grid-baseline) !important;\n}\n\n.custom-item {\n\twidth : 100% !important;\n\tborder-radius : 8px !important;\n\tpadding : 4px 8px !important;\n\tdisplay :block;\n\tbackground:var(--color-main-background)!important;\n}\n\n.custom-item:hover {\n\tbackground:var(--color-primary-element-light)!important;\n}\n\n.link-container{\n\tborder-radius :8px !important;\n\tpadding :4px 8px !important;\n\tdisplay : block;\n\twidth : 100% !important;\n\tbackground:var(--color-main-background)!important;\n\timg.link-icon {\n\t\twidth: 16px;\n\t\theight: 16px;\n\t}\n}\n\n.link-container:hover {\n\tbackground:var(--color-primary-element-light)!important;\n}\n\n:root {\n\t--ck-z-default: 10000;\n\t--ck-balloon-border-width:  0;\n}\n\n.ck.ck-toolbar {\n\tborder-radius: var(--border-radius-large) !important;\n\tbackground: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n\tborder: 1px solid var(--color-text-maxcontrast) !important;\n}\n\n.ck-rounded-corners .ck.ck-dropdown__panel, .ck.ck-dropdown__panel.ck-rounded-corners {\n\tborder-radius: var(--border-radius-large) !important;\n\toverflow: visible;\n}\n\n.ck.ck-list-styles-list {\n/* our composer is very small, having menus vertically shown is better */\n\tgrid-template-rows: repeat(3,auto) !important;\n\tgrid-template-columns: unset !important;\n}\n\n.ck.ck-button {\n\tborder-radius: var(--border-radius-element) !important;\n}\n\n.ck-powered-by-balloon {\n\tdisplay: none !important;\n}\n\n.editor-wrapper {\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\theight: 100%;\n\n\t.toolbar {\n\t\tposition: sticky;\n\t\tbottom: 0;\n\t\tz-index: 10;\n\t}\n\n\t.editable {\n\t\tflex-grow: 1;\n\t\toverflow-y: auto;\n\t}\n}\n\n.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable) {\n\tborder: none;\n\tbox-shadow: none;\n\twidth: 99%;\n\theight: 97%;\n}\n\n.ck.ck-button, a.ck.ck-button {\n\tfont-size: small;\n\tfont-weight: normal;\n}\n\n.ck-source-editing-area {\n\theight: 97%;\n\toverflow: scroll;\n}\n\n.ck-source-editing-area textarea {\n\tborder: 0;\n}\n\n.ck.ck-editor__editable_inline {\n\twidth: 99%;\n\theight: 97%;\n\tborder: 0;\n}\n\n.select, button:not(.button-vue,[class^=vs__]), .button, input[type=button], input[type=submit], input[type=reset] {\n\tcolor: var(--color-main-text);\n}\n\n/* We need the paragraph field a bit smaller so it doesnt break the toolbar for signature */\n.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label {\n\twidth: 6em !important;\n}\n\n.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content {\n\tborder: none;\n}\n\n.ck.ck-balloon-panel_visible {\n    border-radius: calc(var(--border-radius-large) + 1px) !important;\n    background: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n}\n\n.ck.ck-tooltip__text{\n\tcolor: var(--color-main-text) !important;\n}\n\n.ck.ck-toolbar .ck-button {\n\tcolor: var(--color-main-text) !important;\n}\n\n.ck.ck-toolbar .ck-button:hover,\n.ck.ck-toolbar .ck-button.ck-on,\n.ck.ck-toolbar .ck-button:focus {\n\tbackground: var(--color-primary-element-light) !important;\n    color: var(--color-main-text) !important;\n}\n\n.ck.ck-toolbar .ck-button .ck-button__label {\n\tcolor: var(--color-main-text) !important;\n}\n\n.ck.ck-dropdown__panel .ck.ck-list {\n\tborder-radius: var(--border-radius-large) !important;\n}\n\n.ck-dropdown__panel.ck-dropdown__panel-visible {\n\tborder-radius: var(--border-radius-large) !important;\n}\n\n/* Needs to be set to flex, bececause else it breaks the toolbar - it is shown in 2 lines instead of 1 */\n.ck.ck-splitbutton.ck-dropdown__button{\n\tdisplay: flex !important;\n}\n\n.ck.ck-input.ck-input-text{\n\tbackground: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n\tcursor: text !important;\n}\n\n.ck.ck-labeled-field-view__input-wrapper .ck.ck-label {\n\tbackground: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n}\n\n.ck.ck-button.ck-splitbutton__action {\n    margin: 0 !important;\n}\n\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-button,\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-splitbutton__action,\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-splitbutton__arrow {\n\tbackground: var(--color-primary-element-light) !important;\n\tcolor: var(--color-main-text) !important;\n}\n\n.ck.ck-splitbutton .ck-button:focus,\n.ck.ck-splitbutton .ck-button:focus-visible,\n.ck.ck-splitbutton .ck-button:active,\n.ck.ck-splitbutton .ck-button.ck-on {\n\tbackground: var(--color-primary-element-light) !important;\n\tcolor: var(--color-main-text) !important;\n\toutline: none !important;\n}\n\n.ck.ck-splitbutton.ck-splitbutton_open .ck-button,\n.ck.ck-splitbutton.ck-splitbutton_open .ck-splitbutton__action,\n.ck.ck-splitbutton.ck-splitbutton_open .ck-splitbutton__arrow {\n    background: var(--color-primary-element-light) !important;\n    color: var(--color-main-text) !important;\n}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=b546fe84&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=b546fe84&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=b546fe84&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=b546fe84&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=b546fe84&scoped=true\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=b546fe84&prod&lang=scss&scoped=true\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&id=b546fe84&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b546fe84\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigation',{staticClass:\"mail-navigation\",scopedSlots:_vm._u([{key:\"search\",fn:function(){return [_c('NewMessageButtonHeader',{staticClass:\"mail-navigation__new-message-button\"})]},proxy:true},{key:\"list\",fn:function(){return [_vm._l((_vm.unifiedMailboxes),function(mailbox){return _c('NavigationMailbox',{key:'mailbox-' + mailbox.databaseId,attrs:{\"account\":_vm.unifiedAccount,\"mailbox\":mailbox}})}),_vm._v(\" \"),_vm._l((_vm.menu),function(group){return [(group.account)?_c('NavigationAccount',{key:group.account.id,attrs:{\"account\":group.account,\"first-mailbox\":group.mailboxes[0],\"is-first\":_vm.isFirst(group.account),\"is-last\":_vm.isLast(group.account),\"is-disabled\":_vm.isDisabled(group.account)}}):_vm._e(),_vm._v(\" \"),(!_vm.isDisabled(group.account))?[_vm._l((group.mailboxes),function(item){return [_c('NavigationMailbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n\t\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t\t!_vm.isCollapsed(group.account, item)\n\t\t\t\t\t\t),expression:\"\\n\\t\\t\\t\\t\\t\\t\\t!group.isCollapsible ||\\n\\t\\t\\t\\t\\t\\t\\t\\t!group.account.collapsed ||\\n\\t\\t\\t\\t\\t\\t\\t\\t!isCollapsed(group.account, item)\\n\\t\\t\\t\\t\\t\\t\"}],key:'mailbox-' + item.databaseId,attrs:{\"account\":group.account,\"mailbox\":item}}),_vm._v(\" \"),(!group.account.isUnified && item.specialRole === 'inbox')?_c('NavigationMailbox',{key:item.databaseId + '-starred',attrs:{\"account\":group.account,\"mailbox\":item,\"filter\":\"starred\"}}):_vm._e()]}),_vm._v(\" \"),(!group.account.isUnified && group.isCollapsible)?_c('NavigationAccountExpandCollapse',{key:'collapse-' + group.account.id,attrs:{\"account\":group.account}}):_vm._e()]:_vm._e()]})]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.outboxMessages.length !== 0)?_c('div',{staticClass:\"outbox__border\"},[_c('NavigationOutbox',{staticClass:\"outbox\"})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mail-settings\"},[_c('AppNavigationItem',{staticClass:\"mail-settings__button\",attrs:{\"close-after-click\":true,\"name\":_vm.t('mail', 'Mail settings')},on:{\"click\":_vm.showMailSettings},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconSetting',{attrs:{\"size\":20}})]},proxy:true}])})],1)]},proxy:true}])},[_vm._v(\" \"),_vm._v(\" \"),_vm._v(\" \"),_c('AppSettingsMenu',{attrs:{\"open\":_vm.showSettings},on:{\"update:open\":function($event){_vm.showSettings=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<Fragment>\n\t\t<NcAppNavigationCaption v-if=\"visible\"\n\t\t\t:id=\"id\"\n\t\t\t:key=\"id\"\n\t\t\t:name=\"account.emailAddress\"\n\t\t\t@update:open=\"onMenuToggle\">\n\t\t\t<!-- Actions -->\n\t\t\t<template #actions>\n\t\t\t\t<template v-if=\"isDisabled\">\n\t\t\t\t\t<ActionText :name=\"t('mail', 'Provisioned account is disabled')\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconInfo :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Please login using a password to enable this account. The current session is using passwordless authentication, e.g. SSO or WebAuthn.') }}\n\t\t\t\t\t</ActionText>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<ActionText v-if=\"!account.isUnified && account.quotaPercentage !== null \">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconInfo :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ quotaText }}\n\t\t\t\t\t</ActionText>\n\t\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t\t@click=\"showAccountSettings(true)\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconSettings :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Account settings') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionCheckbox :checked=\"account.showSubscribedOnly\"\n\t\t\t\t\t\t:disabled=\"savingShowOnlySubscribed\"\n\t\t\t\t\t\t@update:checked=\"changeShowSubscribedOnly\">\n\t\t\t\t\t\t{{ t('mail', 'Show only subscribed folders') }}\n\t\t\t\t\t</ActionCheckbox>\n\t\t\t\t\t<ActionButton v-if=\"!editing && nameLabel\" @click=\"openCreateMailbox\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconFolderAdd :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Add folder') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionInput v-if=\"editing && nameInput\"\n\t\t\t\t\t\t:value.sync=\"createMailboxName\"\n\t\t\t\t\t\t@submit.prevent.stop=\"createMailbox\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconFolderAdd :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Folder name') }}\n\t\t\t\t\t</ActionInput>\n\t\t\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconLoading :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Saving') }}\n\t\t\t\t\t</ActionText>\n\t\t\t\t\t<ActionButton v-if=\"!isFirst\" @click=\"changeAccountOrderUp\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<MenuUp :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Move up') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton v-if=\"!isLast\" @click=\"changeAccountOrderDown\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<MenuDown :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Move down') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton v-if=\"!account.provisioningId\" @click=\"removeAccount\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconDelete :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Remove account') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</NcAppNavigationCaption>\n\t\t<AccountSettings :open=\"showSettings\" :account=\"account\" @update:open=\"showAccountSettings($event)\" />\n\t</Fragment>\n</template>\n\n<script>\nimport { NcAppNavigationCaption, NcActionButton as ActionButton, NcActionCheckbox as ActionCheckbox, NcActionInput as ActionInput, NcActionText as ActionText, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport { formatFileSize } from '@nextcloud/files'\nimport { generateUrl } from '@nextcloud/router'\nimport { Fragment } from 'vue-frag'\n\nimport logger from '../logger.js'\nimport { fetchQuota } from '../service/AccountService.js'\nimport IconInfo from 'vue-material-design-icons/InformationOutline.vue'\nimport IconSettings from 'vue-material-design-icons/CogOutline.vue'\nimport IconFolderAdd from 'vue-material-design-icons/FolderOutline.vue'\nimport MenuDown from 'vue-material-design-icons/ChevronDown.vue'\nimport MenuUp from 'vue-material-design-icons/ChevronUp.vue'\nimport IconDelete from 'vue-material-design-icons/TrashCanOutline.vue'\nimport { DialogBuilder, showError } from '@nextcloud/dialogs'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'NavigationAccount',\n\tcomponents: {\n\t\tNcAppNavigationCaption,\n\t\tFragment,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tActionText,\n\t\tAccountSettings: () => import(/* webpackChunkName: \"account-settings\" */ './AccountSettings.vue'),\n\t\tIconInfo,\n\t\tIconSettings,\n\t\tIconFolderAdd,\n\t\tMenuDown,\n\t\tMenuUp,\n\t\tIconDelete,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfirstMailbox: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tisFirst: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisLast: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisDisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmenuOpen: false,\n\t\t\tloading: {\n\t\t\t\tdelete: false,\n\t\t\t},\n\t\t\tsavingShowOnlySubscribed: false,\n\t\t\tquota: undefined,\n\t\t\tediting: false,\n\t\t\tshowSaving: false,\n\t\t\tcreateMailboxName: '',\n\t\t\tshowMailboxes: false,\n\t\t\tnameInput: false,\n\t\t\tnameLabel: true,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tshowSettings() {\n\t\t\treturn this.mainStore.showSettingsForAccount(this.account.id)\n\t\t},\n\t\tvisible() {\n\t\t\treturn this.account.isUnified !== true && this.account.visible !== false\n\t\t},\n\t\tid() {\n\t\t\treturn 'account-' + this.account.id\n\t\t},\n\t\tquotaText() {\n\t\t\tif (this.quota) {\n\t\t\t\treturn t('mail', 'Used quota: {quota}% ({limit})', {\n\t\t\t\t\tquota: Math.ceil(this.quota.usage / this.quota.limit * 100),\n\t\t\t\t\tlimit: formatFileSize(this.quota.limit),\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (this.account.quotaPercentage) {\n\t\t\t\treturn t('mail', 'Used quota: {quota}%', {\n\t\t\t\t\tquota: this.account.quotaPercentage,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn ''\n\t\t},\n\t},\n\tmethods: {\n\t\tasync createMailbox(e) {\n\t\t\tthis.nameInput = false\n\t\t\tthis.showSaving = true\n\t\t\tconst name = this.createMailboxName\n\t\t\tlogger.info('creating mailbox ' + name)\n\t\t\tthis.menuOpen = false\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.createMailbox({\n\t\t\t\t\taccount: this.account, name,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Unable to create mailbox. The name likely contains invalid characters. Please try another name.'))\n\t\t\t\tlogger.error('could not create folder', { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.showSaving = false\n\t\t\t\tthis.nameInput = false\n\t\t\t\tthis.editing = false\n\t\t\t\tthis.createMailboxName = ''\n\t\t\t}\n\t\t\tlogger.info(`mailbox ${name} created`)\n\t\t},\n\t\topenCreateMailbox() {\n\t\t\tthis.editing = true\n\t\t\tthis.nameInput = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tasync removeAccount() {\n\t\t\tconst id = this.account.id\n\t\t\tlogger.info('delete account', { account: this.account })\n\t\t\tconst dialog = new DialogBuilder()\n\t\t\t\t.setName(t('mail', 'Remove account'))\n\t\t\t\t.setText(t('mail', 'The account for {email} and cached email data will be removed from Nextcloud, but not from your email provider.', { email: this.account.emailAddress }))\n\t\t\t\t.setButtons([\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: t('mail', 'Cancel'),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: t('mail', 'Remove {email}', { email: this.account.emailAddress }),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tcallback: async () => {\n\t\t\t\t\t\t\tthis.loading.delete = true\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.mainStore.deleteAccount(this.account)\n\t\t\t\t\t\t\t\tlogger.info(`account ${id} deleted, redirecting `)\n\n\t\t\t\t\t\t\t\t// TODO: update store and handle this more efficiently\n\t\t\t\t\t\t\t\tlocation.href = generateUrl('/apps/mail')\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tlogger.error('could not delete account', { error })\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tthis.loading.delete = false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t])\n\t\t\t\t.build()\n\t\t\tawait dialog.show()\n\t\t},\n\t\tchangeAccountOrderUp() {\n\t\t\tthis.mainStore.moveAccount({ account: this.account, up: true })\n\t\t\t\t.catch((error) => logger.error('could not move account up', { error }))\n\t\t},\n\t\tchangeAccountOrderDown() {\n\t\t\tthis.mainStore.moveAccount({ account: this.account })\n\t\t\t\t.catch((error) => logger.error('could not move account down', { error }))\n\t\t},\n\t\tchangeShowSubscribedOnly(onlySubscribed) {\n\t\t\tthis.savingShowOnlySubscribed = true\n\t\t\tthis.mainStore.patchAccount({\n\t\t\t\taccount: this.account,\n\t\t\t\tdata: {\n\t\t\t\t\tshowSubscribedOnly: onlySubscribed,\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.savingShowOnlySubscribed = false\n\t\t\t\t\tlogger.info('show only subscribed folders updated to ' + onlySubscribed)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('could not update subscription mode', { error })\n\t\t\t\t\tthis.savingShowOnlySubscribed = false\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t\tonMenuToggle(open) {\n\t\t\tif (open && this.account.quotaPercentage !== null) {\n\t\t\t\tconsole.debug('accounts menu opened, fetching quota')\n\t\t\t\tthis.fetchQuota()\n\t\t\t}\n\t\t},\n\t\tasync fetchQuota() {\n\t\t\tconst quota = await fetchQuota(this.account.id)\n\t\t\tconsole.debug('quota fetched', {\n\t\t\t\tquota,\n\t\t\t})\n\n\t\t\tif (quota === undefined) {\n\t\t\t\t// Server does not support this\n\t\t\t\tthis.quota = false\n\t\t\t} else {\n\t\t\t\tthis.quota = quota\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show the settings for the given account\n\t\t *\n\t\t * @param {boolean} show true to show, false to hide\n\t\t */\n\t\tshowAccountSettings(show) {\n\t\t\tif (show) {\n\t\t\t\tthis.mainStore.showSettingsForAccountMutation(this.account.id)\n\t\t\t} else {\n\t\t\t\tthis.mainStore.showSettingsForAccountMutation(null)\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n// Fix very long button labels overflowing the modal\n.dialog {\n\t&__actions {\n\t\tflex-wrap: wrap;\n\n\t\t> button {\n\t\t\tflex: 1 auto;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=style&index=0&id=7c56b40a&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=style&index=0&id=7c56b40a&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationAccount.vue?vue&type=template&id=7c56b40a\"\nimport script from \"./NavigationAccount.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationAccount.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationAccount.vue?vue&type=style&index=0&id=7c56b40a&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Fragment',[(_vm.visible)?_c('NcAppNavigationCaption',{key:_vm.id,attrs:{\"id\":_vm.id,\"name\":_vm.account.emailAddress},on:{\"update:open\":_vm.onMenuToggle},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [(_vm.isDisabled)?[_c('ActionText',{attrs:{\"name\":_vm.t('mail', 'Provisioned account is disabled')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}],null,false,3812223437)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Please login using a password to enable this account. The current session is using passwordless authentication, e.g. SSO or WebAuthn.'))+\"\\n\\t\\t\\t\\t\")])]:[(!_vm.account.isUnified && _vm.account.quotaPercentage !== null )?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}],null,false,3812223437)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.quotaText)+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.showAccountSettings(true)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconSettings',{attrs:{\"size\":20}})]},proxy:true}],null,false,408832678)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Account settings'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionCheckbox',{attrs:{\"checked\":_vm.account.showSubscribedOnly,\"disabled\":_vm.savingShowOnlySubscribed},on:{\"update:checked\":_vm.changeShowSubscribedOnly}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Show only subscribed folders'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.editing && _vm.nameLabel)?_c('ActionButton',{on:{\"click\":_vm.openCreateMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2169509812)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add folder'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing && _vm.nameInput)?_c('ActionInput',{attrs:{\"value\":_vm.createMailboxName},on:{\"update:value\":function($event){_vm.createMailboxName=$event},\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2169509812)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Folder name'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isFirst)?_c('ActionButton',{on:{\"click\":_vm.changeAccountOrderUp},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('MenuUp',{attrs:{\"size\":20}})]},proxy:true}],null,false,859424094)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move up'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isLast)?_c('ActionButton',{on:{\"click\":_vm.changeAccountOrderDown},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('MenuDown',{attrs:{\"size\":20}})]},proxy:true}],null,false,3657048169)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move down'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.provisioningId)?_c('ActionButton',{on:{\"click\":_vm.removeAccount},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":20}})]},proxy:true}],null,false,881161434)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Remove account'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()]]},proxy:true}],null,false,4051550634)}):_vm._e(),_vm._v(\" \"),_c('AccountSettings',{attrs:{\"open\":_vm.showSettings,\"account\":_vm.account},on:{\"update:open\":function($event){return _vm.showAccountSettings($event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigationItem :name=\"title\" @click=\"toggleCollapse\" />\n</template>\n\n<script>\nimport { NcAppNavigationItem as AppNavigationItem } from '@nextcloud/vue'\nimport logger from '../logger.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'NavigationAccountExpandCollapse',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tid() {\n\t\t\treturn 'collapse-' + this.account.id\n\t\t},\n\t\ttitle() {\n\t\t\tif (this.account.collapsed && this.account.showSubscribedOnly) {\n\t\t\t\treturn t('mail', 'Show all subscribed folders')\n\t\t\t} else if (this.account.collapsed && !this.account.showSubscribedOnly) {\n\t\t\t\treturn t('mail', 'Show all folders')\n\t\t\t}\n\t\t\treturn t('mail', 'Collapse folders')\n\t\t},\n\t},\n\tmethods: {\n\t\tasync toggleCollapse() {\n\t\t\tlogger.debug('toggling collapsed mailboxes for account ' + this.account.id)\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.toggleAccountCollapsedMutation(this.account.id)\n\t\t\t\tawait this.mainStore.setAccountSetting({\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tkey: 'collapsed',\n\t\t\t\t\tvalue: this.account.collapsed,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not update account settings', {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.app-navigation-entry__title) {\n\tcolor: var(--color-text-maxcontrast);\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=2f1e2a14&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=2f1e2a14&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationAccountExpandCollapse.vue?vue&type=template&id=2f1e2a14&scoped=true\"\nimport script from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=2f1e2a14&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f1e2a14\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigationItem',{attrs:{\"name\":_vm.title},on:{\"click\":_vm.toggleCollapse}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c('AppNavigationItem',{directives:[{name:\"droppable-mailbox\",rawName:\"v-droppable-mailbox\",value:({\n\t\tmainStore: _vm.mainStore,\n\t\tmailboxId: _vm.mailbox.databaseId,\n\t\taccountId: _vm.mailbox.accountId,\n\t\tisValidDropTarget: _vm.isValidDropTarget,\n\t}),expression:\"{\\n\\t\\tmainStore: mainStore,\\n\\t\\tmailboxId: mailbox.databaseId,\\n\\t\\taccountId: mailbox.accountId,\\n\\t\\tisValidDropTarget,\\n\\t}\"}],key:_vm.genId(_vm.mailbox),attrs:{\"id\":_vm.genId(_vm.mailbox),\"allow-collapse\":_vm.hasSubMailboxes,\"menu-open\":_vm.menuOpen,\"force-menu\":true,\"name\":_vm.title,\"to\":_vm.to,\"open\":_vm.showSubMailboxes},on:{\"update:menuOpen\":[function($event){_vm.menuOpen=$event},_vm.onMenuToggle],\"update:menu-open\":function($event){_vm.menuOpen=$event},\"update:open\":function($event){_vm.showSubMailboxes=$event}},scopedSlots:_vm._u([{key:\"icon\",fn:function({ active }){return [_c('div',[(_vm.mailbox.isPriorityInbox)?_c('ImportantIcon',{attrs:{\"size\":20}}):(_vm.mailbox.id === _vm.UNIFIED_INBOX_ID && active)?_c('IconAllInboxes',{attrs:{\"size\":20}}):(_vm.mailbox.id === _vm.UNIFIED_INBOX_ID)?_c('IconAllInboxesOutline',{attrs:{\"size\":20}}):(_vm.mailbox.specialRole === 'inbox' && !_vm.mailbox.isPriorityInbox && _vm.filter !=='starred' && active)?_c('IconInbox',{attrs:{\"size\":20}}):(_vm.mailbox.specialRole === 'inbox' && !_vm.mailbox.isPriorityInbox && _vm.filter !=='starred')?_c('IconInboxOutline',{attrs:{\"size\":20}}):(_vm.filter === 'starred' && active)?_c('IconFavorite',{attrs:{\"size\":20}}):(_vm.filter === 'starred')?_c('IconFavoriteOutline',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.draftsMailboxId && active)?_c('IconDraft',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.draftsMailboxId)?_c('IconDraftOutline',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.sentMailboxId && active)?_c('IconSend',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.sentMailboxId)?_c('IconSendOutline',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.archiveMailboxId && active)?_c('IconArchive',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.archiveMailboxId)?_c('IconArchiveOutline',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.trashMailboxId && active)?_c('IconDelete',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.trashMailboxId)?_c('IconDeleteOutline',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.junkMailboxId)?_c('IconJunk',{attrs:{\"size\":20}}):(_vm.mailbox.databaseId === _vm.account.snoozeMailboxId)?_c('AlarmIcon',{attrs:{\"size\":20}}):(_vm.mailbox.shared && active)?_c('IconFolderShared',{attrs:{\"size\":20}}):(_vm.mailbox.shared)?_c('IconFolderSharedOutline',{attrs:{\"size\":20}}):(active)?_c('IconFolder',{attrs:{\"size\":20}}):_c('IconFolderOutline',{attrs:{\"size\":20}})],1)]}},{key:\"actions\",fn:function(){return [(!_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionText',{attrs:{\"name\":_vm.mailbox.name},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"title\":_vm.statsText,\"size\":20}})]},proxy:true}],null,false,3059915399)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.statsText)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.mailbox.specialRole !== 'flagged' && !_vm.account.isUnified && _vm.hasSeenAcl)?_c('ActionButton',{attrs:{\"name\":_vm.t('mail', 'Mark all as read'),\"disabled\":_vm.loadingMarkAsRead},on:{\"click\":_vm.markAsRead},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEmailCheck',{attrs:{\"size\":20}})]},proxy:true}],null,false,46646313)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mark all messages of this folder as read'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.editing && !_vm.account.isUnified && _vm.hasDelimiter && _vm.mailbox.specialRole !== 'flagged' && _vm.hasSubmailboxActionAcl)?_c('ActionButton',{on:{\"click\":_vm.openCreateMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2169509812)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add subfolder'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing)?_c('ActionInput',{attrs:{\"value\":_vm.createMailboxName},on:{\"update:value\":function($event){_vm.createMailboxName=$event},\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2169509812)}):_vm._e(),_vm._v(\" \"),(_vm.renameLabel && !_vm.hasSubMailboxes && !_vm.account.isUnified && _vm.hasRenameAcl)?_c('ActionButton',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.openRenameInput.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderRename',{attrs:{\"size\":20}})]},proxy:true}],null,false,2880355077)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Rename'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.renameInput)?_c('ActionInput',{attrs:{\"value\":_vm.mailboxName},on:{\"update:value\":function($event){_vm.mailboxName=$event},\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.renameMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderRename',{attrs:{\"title\":_vm.t('mail', 'Rename'),\"size\":20}})]},proxy:true}],null,false,990908275)}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && _vm.hasDelimiter && !_vm.mailbox.specialRole && !_vm.hasSubMailboxes && _vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"id\":_vm.genId(_vm.mailbox),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenMoveModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconExternal',{attrs:{\"size\":20}})]},proxy:true}],null,false,1464797790)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move folder'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionButton',{attrs:{\"disabled\":_vm.repairing},on:{\"click\":_vm.repair},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconWrench',{attrs:{\"size\":20}})]},proxy:true}],null,false,4061649702)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Repair folder'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.debug && !_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionButton',{attrs:{\"name\":_vm.t('mail', 'Clear cache'),\"disabled\":_vm.clearingCache},on:{\"click\":_vm.clearCache},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderSync',{attrs:{\"size\":20}})]},proxy:true}],null,false,3488227250)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Clear locally cached data, in case there are issues with synchronization.'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.notVirtual)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.mailbox.isSubscribed,\"disabled\":_vm.changeSubscription},on:{\"update:checked\":_vm.changeFolderSubscription}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Subscribed'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.notVirtual && _vm.notInbox)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.mailbox.syncInBackground,\"disabled\":_vm.changingSyncInBackground},on:{\"update:checked\":_vm.changeSyncInBackground}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Sync in background'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.mailbox.specialRole !== 'flagged' && !_vm.account.isUnified && _vm.hasClearMailboxAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.clearMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('EraserIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,55307409)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Clear folder'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && !_vm.mailbox.specialRole && !_vm.hasSubMailboxes && _vm.hasDeleteAcl)?_c('ActionButton',{on:{\"click\":_vm.deleteMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":20}})]},proxy:true}],null,false,881161434)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete folder'))+\"\\n\\t\\t\")]):_vm._e()]},proxy:true},{key:\"counter\",fn:function(){return [(_vm.showUnreadCounter && _vm.subCounter)?_c('CounterBubble',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.mailbox.unread)+\"(\"+_vm._s(_vm.subCounter)+\")\\n\\t\\t\")]):(_vm.showUnreadCounter)?_c('CounterBubble',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.mailbox.unread)+\"\\n\\t\\t\")]):_vm._e()]},proxy:true},{key:\"extra\",fn:function(){return [(_vm.showMoveModal)?_c('MoveMailboxModal',{attrs:{\"account\":_vm.account,\"mailbox\":_vm.mailbox},on:{\"close\":_vm.onCloseMoveModal}}):_vm._e()]},proxy:true}],null,false,3806294762)},[_vm._v(\" \"),_vm._v(\" \"),_vm._v(\" \"),_vm._v(\" \"),_vm._l((_vm.subMailboxes),function(subMailbox){return _c('NavigationMailbox',{key:_vm.genId(subMailbox),attrs:{\"account\":_vm.account,\"mailbox\":subMailbox}})})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<MailboxPicker :account=\"account\"\n\t\t:selected.sync=\"destMailboxId\"\n\t\t:loading=\"moving\"\n\t\t:picked-mailbox=\"mailbox\"\n\t\t:allow-root=\"true\"\n\t\t:label-select=\"t('mail', 'Move')\"\n\t\t:label-select-loading=\"t('mail', 'Moving')\"\n\t\t@select=\"onMove\"\n\t\t@close=\"onClose\" />\n</template>\n\n<script>\nimport logger from '../logger.js'\nimport MailboxPicker from './MailboxPicker.vue'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'MoveMailboxModal',\n\tcomponents: {\n\t\tMailboxPicker,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmoving: false,\n\t\t\tdestMailboxId: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync onMove() {\n\t\t\tthis.moving = true\n\t\t\tif (this.mailbox.id !== this.destMailboxId) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!this.destMailboxId) {\n\t\t\t\t\t\tconst newName = this.mailbox.displayName\n\t\t\t\t\t\tawait this.mainStore.renameMailbox({\n\t\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\t\t\tnewName,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst destMailbox = this.mainStore.getMailbox(this.destMailboxId)\n\t\t\t\t\t\tconst newName = destMailbox.name + this.mailbox.delimiter + this.mailbox.displayName\n\t\t\t\t\t\tawait this.mainStore.renameMailbox({\n\t\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\t\t\tnewName,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not move folder', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.moving = false\n\t\t\t\t\tthis.$emit('close')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgenId(mailbox) {\n\t\t\treturn 'mailbox-' + mailbox.databaseId\n\t\t },\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveMailboxModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveMailboxModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MoveMailboxModal.vue?vue&type=template&id=32b1ab8e\"\nimport script from \"./MoveMailboxModal.vue?vue&type=script&lang=js\"\nexport * from \"./MoveMailboxModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('MailboxPicker',{attrs:{\"account\":_vm.account,\"selected\":_vm.destMailboxId,\"loading\":_vm.moving,\"picked-mailbox\":_vm.mailbox,\"allow-root\":true,\"label-select\":_vm.t('mail', 'Move'),\"label-select-loading\":_vm.t('mail', 'Moving')},on:{\"update:selected\":function($event){_vm.destMailboxId=$event},\"select\":_vm.onMove,\"close\":_vm.onClose}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport logger from '../../../logger.js'\nimport dragEventBus from '../util/dragEventBus.js'\n\nexport class DroppableMailbox {\n\n\tconstructor(el, componentInstance, options) {\n\t\tthis.el = el\n\t\tthis.options = options\n\t\tthis.mainStore = options.mainStore\n\t\tthis.registerListeners.bind(this)(el)\n\t\tthis.setInitialAttributes()\n\t}\n\n\tsetInitialAttributes() {\n\t\tthis.draggableInfo = {}\n\t\tthis.setStatus('enabled')\n\t}\n\n\tupdate(el, instance) {\n\t\tthis.setInitialAttributes()\n\t\tthis.options = instance.options\n\t}\n\n\tregisterListeners(el) {\n\t\tdragEventBus.on('drag-start', this.onDragStart.bind(this))\n\t\tdragEventBus.on('drag-end', this.onDragEnd.bind(this))\n\n\t\t// event listeners need to be attached to the first child element\n\t\t// (a button or an anchor tag) instead of the root el, because there\n\t\t// can be sub-mailboxes within the root element of the directive\n\t\tel.firstChild.addEventListener('dragover', this.onDragOver.bind(this))\n\t\tel.firstChild.addEventListener('dragleave', this.onDragLeave.bind(this))\n\t\tel.firstChild.addEventListener('drop', this.onDrop.bind(this))\n\t}\n\n\tremoveListeners(el) {\n\t\tdragEventBus.off('drag-start', this.onDragStart)\n\t\tdragEventBus.off('drag-end', this.onDragEnd)\n\n\t\tel.firstChild.removeEventListener('dragover', this.onDragOver)\n\t\tel.firstChild.removeEventListener('dragleave', this.onDragLeave)\n\t\tel.firstChild.removeEventListener('drop', this.onDrop)\n\t}\n\n\tsetStatus(status) {\n\t\tthis.el.setAttribute('droppable-mailbox', status)\n\t}\n\n\tonDragStart(draggableInfo) {\n\t\tthis.draggableInfo = draggableInfo\n\n\t\tif (!this.canBeDropped()) {\n\t\t\tthis.setStatus('disabled')\n\t\t}\n\t}\n\n\tcanBeDropped() {\n\t\treturn this.isSameAccount() && this.options.isValidDropTarget\n\t}\n\n\tisSameAccount() {\n\t\treturn this.draggableInfo.accountId === this.options.accountId\n\t}\n\n\t/**\n\t * Is the user currently dragging a valid object?\n\t *\n\t * @return {boolean}\n\t */\n\tget isCurrentlyDragging() {\n\t\treturn Object.keys(this.draggableInfo).length > 0\n\t}\n\n\tonDragEnd() {\n\t\tthis.setInitialAttributes()\n\t}\n\n\tonDragOver(event) {\n\t\tif (!this.isCurrentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tevent.preventDefault()\n\n\t\t// Prevent dropping into current folder\n\t\tif (this.draggableInfo.mailboxId === this.options.mailboxId) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.options.isValidDropTarget) {\n\t\t\tthis.setStatus('dragover')\n\t\t}\n\n\t\tevent.dataTransfer.dropEffect = 'move'\n\t}\n\n\tonDragLeave(event) {\n\t\tif (!this.isCurrentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tevent.preventDefault()\n\t\tthis.setStatus('enabled')\n\t}\n\n\tasync onDrop(event) {\n\t\tif (!this.isCurrentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tevent.preventDefault()\n\n\t\t// Prevent dropping into current folder\n\t\tif (this.draggableInfo.mailboxId === this.options.mailboxId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.setInitialAttributes()\n\t\tconst envelopesBeingDragged = JSON.parse(event.dataTransfer.getData('text'))\n\t\tdragEventBus.emit('envelopes-dropped', { envelopes: envelopesBeingDragged })\n\n\t\ttry {\n\t\t\tconst processedEnvelopes = envelopesBeingDragged.map(async envelope => {\n\t\t\t\tconst processed = await this.processDroppedItem(envelope)\n\t\t\t\treturn processed\n\t\t\t})\n\t\t\tawait Promise.all(processedEnvelopes)\n\t\t} catch (error) {\n\t\t\tlogger.error('could not process dropped messages', error)\n\t\t} finally {\n\t\t\tdragEventBus.emit('envelopes-moved', {\n\t\t\t\tmailboxId: this.options.mailboxId,\n\t\t\t\tmovedEnvelopes: envelopesBeingDragged,\n\t\t\t})\n\t\t}\n\t}\n\n\tasync processDroppedItem(envelope) {\n\t\tconst item = document.querySelector(`[data-envelope-id=\"${envelope.databaseId}\"]`)\n\t\titem.setAttribute('draggable-envelope', 'pending')\n\n\t\ttry {\n\t\t\tif (this.mainStore.getPreference('layout-message-view') === 'threaded') {\n\t\t\t\tawait this.mainStore.moveThread({\n\t\t\t\t\tenvelope,\n\t\t\t\t\tdestMailboxId: this.options.mailboxId,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tawait this.mainStore.moveMessage({\n\t\t\t\t\tid: envelope.databaseId,\n\t\t\t\t\tdestMailboxId: this.options.mailboxId,\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (error) {\n\t\t\titem.removeAttribute('draggable-envelope')\n\t\t\tlogger.error('could not move messages', error)\n\t\t}\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { DroppableMailbox } from './droppable-mailbox.js'\n\nlet instance\n\nexport const DroppableMailboxDirective = {\n\tbind(el, binding, vnode) {\n\t\tinstance = new DroppableMailbox(el, vnode.context, binding.value)\n\t},\n\tcomponentUpdated(el, binding) {\n\t\tinstance.options = binding.value\n\t\tinstance.update(el, instance)\n\t},\n}\n\nexport default DroppableMailbox\n","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigationItem v-if=\"visible\"\n\t\t:id=\"genId(mailbox)\"\n\t\t:key=\"genId(mailbox)\"\n\t\tv-droppable-mailbox=\"{\n\t\t\tmainStore: mainStore,\n\t\t\tmailboxId: mailbox.databaseId,\n\t\t\taccountId: mailbox.accountId,\n\t\t\tisValidDropTarget,\n\t\t}\"\n\t\t:allow-collapse=\"hasSubMailboxes\"\n\t\t:menu-open.sync=\"menuOpen\"\n\t\t:force-menu=\"true\"\n\t\t:name=\"title\"\n\t\t:to=\"to\"\n\t\t:open.sync=\"showSubMailboxes\"\n\t\t@update:menuOpen=\"onMenuToggle\">\n\t\t<template #icon=\"{ active }\">\n\t\t\t<div>\n\t\t\t\t<ImportantIcon v-if=\"mailbox.isPriorityInbox\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconAllInboxes v-else-if=\"mailbox.id === UNIFIED_INBOX_ID && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconAllInboxesOutline v-else-if=\"mailbox.id === UNIFIED_INBOX_ID\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconInbox v-else-if=\"mailbox.specialRole === 'inbox' && !mailbox.isPriorityInbox && filter !=='starred' && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconInboxOutline v-else-if=\"mailbox.specialRole === 'inbox' && !mailbox.isPriorityInbox && filter !=='starred'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFavorite v-else-if=\"filter === 'starred' && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFavoriteOutline v-else-if=\"filter === 'starred'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconDraft v-else-if=\"mailbox.databaseId === account.draftsMailboxId && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconDraftOutline v-else-if=\"mailbox.databaseId === account.draftsMailboxId\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconSend v-else-if=\"mailbox.databaseId === account.sentMailboxId && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconSendOutline v-else-if=\"mailbox.databaseId === account.sentMailboxId\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconArchive v-else-if=\"mailbox.databaseId === account.archiveMailboxId && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconArchiveOutline v-else-if=\"mailbox.databaseId === account.archiveMailboxId\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconDelete v-else-if=\"mailbox.databaseId === account.trashMailboxId && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconDeleteOutline v-else-if=\"mailbox.databaseId === account.trashMailboxId\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconJunk v-else-if=\"mailbox.databaseId === account.junkMailboxId\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<AlarmIcon v-else-if=\"mailbox.databaseId === account.snoozeMailboxId\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFolderShared v-else-if=\"mailbox.shared && active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFolderSharedOutline v-else-if=\"mailbox.shared\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFolder v-else-if=\"active\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFolderOutline v-else\n\t\t\t\t\t:size=\"20\" />\n\t\t\t</div>\n\t\t</template>\n\t\t<!-- actions -->\n\t\t<template #actions>\n\t\t\t<ActionText v-if=\"!account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:name=\"mailbox.name\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconInfo :title=\"statsText\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ statsText }}\n\t\t\t</ActionText>\n\n\t\t\t<ActionButton v-if=\"mailbox.specialRole !== 'flagged' && !account.isUnified && hasSeenAcl\"\n\t\t\t\t:name=\"t('mail', 'Mark all as read')\"\n\t\t\t\t:disabled=\"loadingMarkAsRead\"\n\t\t\t\t@click=\"markAsRead\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconEmailCheck :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Mark all messages of this folder as read') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!editing && !account.isUnified && hasDelimiter && mailbox.specialRole !== 'flagged' && hasSubmailboxActionAcl\"\n\t\t\t\t@click=\"openCreateMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderAdd :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Add subfolder') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionInput v-if=\"editing\"\n\t\t\t\t:value.sync=\"createMailboxName\"\n\t\t\t\t@submit.prevent.stop=\"createMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderAdd :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</ActionInput>\n\t\t\t<ActionButton v-if=\"renameLabel && !hasSubMailboxes && !account.isUnified && hasRenameAcl\"\n\t\t\t\t@click.prevent.stop=\"openRenameInput\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderRename :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Rename') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionInput v-if=\"renameInput\"\n\t\t\t\t:value.sync=\"mailboxName\"\n\t\t\t\t@submit.prevent.stop=\"renameMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderRename :title=\"t('mail', 'Rename')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</ActionInput>\n\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Saving') }}\n\t\t\t</ActionText>\n\t\t\t<ActionButton v-if=\"!account.isUnified && hasDelimiter && !mailbox.specialRole && !hasSubMailboxes && hasDeleteAcl\"\n\t\t\t\t:id=\"genId(mailbox)\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"onOpenMoveModal\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconExternal :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Move folder') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:disabled=\"repairing\"\n\t\t\t\t@click=\"repair\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconWrench :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Repair folder') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"debug && !account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:name=\"t('mail', 'Clear cache')\"\n\t\t\t\t:disabled=\"clearingCache\"\n\t\t\t\t@click=\"clearCache\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderSync :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Clear locally cached data, in case there are issues with synchronization.') }}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionCheckbox v-if=\"notVirtual\"\n\t\t\t\t:checked=\"mailbox.isSubscribed\"\n\t\t\t\t:disabled=\"changeSubscription\"\n\t\t\t\t@update:checked=\"changeFolderSubscription\">\n\t\t\t\t{{ t('mail', 'Subscribed') }}\n\t\t\t</ActionCheckbox>\n\n\t\t\t<ActionCheckbox v-if=\"notVirtual && notInbox\"\n\t\t\t\t:checked=\"mailbox.syncInBackground\"\n\t\t\t\t:disabled=\"changingSyncInBackground\"\n\t\t\t\t@update:checked=\"changeSyncInBackground\">\n\t\t\t\t{{ t('mail', 'Sync in background') }}\n\t\t\t</ActionCheckbox>\n\n\t\t\t<ActionButton v-if=\"mailbox.specialRole !== 'flagged' && !account.isUnified && hasClearMailboxAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"clearMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<EraserIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Clear folder') }}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionButton v-if=\"!account.isUnified && !mailbox.specialRole && !hasSubMailboxes && hasDeleteAcl\"\n\t\t\t\t@click=\"deleteMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconDelete :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Delete folder') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t\t<template #counter>\n\t\t\t<CounterBubble v-if=\"showUnreadCounter && subCounter\">\n\t\t\t\t{{ mailbox.unread }}&nbsp;({{ subCounter }})\n\t\t\t</CounterBubble>\n\t\t\t<CounterBubble v-else-if=\"showUnreadCounter\">\n\t\t\t\t{{ mailbox.unread }}\n\t\t\t</CounterBubble>\n\t\t</template>\n\t\t<template #extra>\n\t\t\t<MoveMailboxModal v-if=\"showMoveModal\"\n\t\t\t\t:account=\"account\"\n\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t</template>\n\t\t<!-- submailboxes -->\n\t\t<NavigationMailbox v-for=\"subMailbox in subMailboxes\"\n\t\t\t:key=\"genId(subMailbox)\"\n\t\t\t:account=\"account\"\n\t\t\t:mailbox=\"subMailbox\" />\n\t</AppNavigationItem>\n</template>\n\n<script>\n\nimport { NcAppNavigationItem as AppNavigationItem, NcCounterBubble as CounterBubble, NcActionButton as ActionButton, NcActionCheckbox as ActionCheckbox, NcActionInput as ActionInput, NcActionText as ActionText, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconEmailCheck from 'vue-material-design-icons/EmailCheckOutline.vue'\nimport IconExternal from 'vue-material-design-icons/OpenInNew.vue'\nimport IconFolder from 'vue-material-design-icons/Folder.vue'\nimport IconFolderOutline from 'vue-material-design-icons/FolderOutline.vue'\nimport IconFolderShared from 'vue-material-design-icons/FolderAccount.vue'\nimport IconFolderSharedOutline from 'vue-material-design-icons/FolderAccountOutline.vue'\nimport IconFolderAdd from 'vue-material-design-icons/FolderMultipleOutline.vue'\nimport IconFavorite from 'vue-material-design-icons/Star.vue'\nimport IconFavoriteOutline from 'vue-material-design-icons/StarOutline.vue'\nimport IconFolderRename from 'vue-material-design-icons/FolderEditOutline.vue'\nimport IconFolderSync from 'vue-material-design-icons/FolderSyncOutline.vue'\nimport IconDelete from 'vue-material-design-icons/TrashCan.vue'\nimport IconDeleteOutline from 'vue-material-design-icons/TrashCanOutline.vue'\nimport IconInfo from 'vue-material-design-icons/InformationOutline.vue'\nimport IconDraft from 'vue-material-design-icons/Pencil.vue'\nimport IconDraftOutline from 'vue-material-design-icons/PencilOutline.vue'\nimport IconArchive from 'vue-material-design-icons/ArchiveArrowDown.vue'\nimport IconArchiveOutline from 'vue-material-design-icons/ArchiveArrowDownOutline.vue'\nimport IconInbox from 'vue-material-design-icons/Home.vue'\nimport IconInboxOutline from 'vue-material-design-icons/HomeOutline.vue'\nimport IconJunk from 'vue-material-design-icons/Fire.vue'\nimport IconAllInboxes from 'vue-material-design-icons/InboxMultiple.vue'\nimport IconAllInboxesOutline from 'vue-material-design-icons/InboxMultipleOutline.vue'\nimport EraserIcon from 'vue-material-design-icons/Eraser.vue'\nimport ImportantIcon from 'vue-material-design-icons/LabelVariant.vue'\nimport IconSend from 'vue-material-design-icons/Send.vue'\nimport IconSendOutline from 'vue-material-design-icons/SendOutline.vue'\nimport IconWrench from 'vue-material-design-icons/Wrench.vue'\nimport MoveMailboxModal from './MoveMailboxModal.vue'\nimport { PRIORITY_INBOX_ID, UNIFIED_INBOX_ID } from '../store/constants.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport { clearCache } from '../service/MessageService.js'\nimport { getMailboxStatus, repairMailbox } from '../service/MailboxService.js'\nimport logger from '../logger.js'\nimport { translatePlural as n } from '@nextcloud/l10n'\nimport { translate as translateMailboxName } from '../i18n/MailboxTranslator.js'\nimport { showInfo, showError } from '@nextcloud/dialogs'\nimport { DroppableMailboxDirective as droppableMailbox } from '../directives/drag-and-drop/droppable-mailbox/index.js'\nimport dragEventBus from '../directives/drag-and-drop/util/dragEventBus.js'\nimport AlarmIcon from 'vue-material-design-icons/Alarm.vue'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'NavigationMailbox',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tCounterBubble,\n\t\tActionText,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tIconSend,\n\t\tIconSendOutline,\n\t\tIconDelete,\n\t\tIconDeleteOutline,\n\t\tIconEmailCheck,\n\t\tIconExternal,\n\t\tIconFolderAdd,\n\t\tIconFolderRename,\n\t\tIconFolderSync,\n\t\tIconInfo,\n\t\tIconAllInboxes,\n\t\tIconAllInboxesOutline,\n\t\tIconFavorite,\n\t\tIconFavoriteOutline,\n\t\tIconFolder,\n\t\tIconFolderOutline,\n\t\tIconFolderShared,\n\t\tIconFolderSharedOutline,\n\t\tIconDraft,\n\t\tIconDraftOutline,\n\t\tIconArchive,\n\t\tIconArchiveOutline,\n\t\tIconJunk,\n\t\tIconInbox,\n\t\tIconInboxOutline,\n\t\tIconWrench,\n\t\tEraserIcon,\n\t\tImportantIcon,\n\t\tIconLoading,\n\t\tMoveMailboxModal,\n\t\tAlarmIcon,\n\t},\n\tdirectives: {\n\t\tdroppableMailbox,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdebug: window?.OC?.debug || false,\n\t\t\tmailboxStats: undefined,\n\t\t\tloadingMarkAsRead: false,\n\t\t\tclearingCache: false,\n\t\t\tshowSaving: false,\n\t\t\tchangeSubscription: false,\n\t\t\tchangingSyncInBackground: false,\n\t\t\tediting: false,\n\t\t\tshowSubMailboxes: false,\n\t\t\tmenuOpen: false,\n\t\t\trenameLabel: true,\n\t\t\trenameInput: false,\n\t\t\tmailboxName: this.mailbox.displayName,\n\t\t\tshowMoveModal: false,\n\t\t\thasDelimiter: !!this.mailbox.delimiter,\n\t\t\tUNIFIED_INBOX_ID,\n\t\t\tcreateMailboxName: '',\n\t\t\trepairing: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tvisible() {\n\t\t\treturn (\n\t\t\t\t(this.account.showSubscribedOnly === false\n\t\t\t\t|| (this.mailbox.attributes && this.mailbox.attributes.includes('\\\\subscribed'))) && this.isUnifiedButOnlyInbox\n\t\t\t)\n\t\t},\n\t\tnotInbox() {\n\t\t\treturn this.mailbox.name.toLowerCase() !== 'inbox'\n\t\t},\n\t\tnotVirtual() {\n\t\t\treturn !this.account.isUnified && this.mailbox.specialRole !== 'flagged' && !this.filter\n\t\t},\n\t\ttitle() {\n\t\t\tif (this.filter === 'starred') {\n\t\t\t\t// Little hack to trick the translation logic into a different path\n\t\t\t\treturn translateMailboxName({\n\t\t\t\t\t...this.mailbox,\n\t\t\t\t\tspecialUse: ['flagged'],\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn translateMailboxName(this.mailbox)\n\t\t},\n\t\tto() {\n\t\t\treturn {\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tfilter: this.filter ? this.filter : undefined,\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\thasSubMailboxes() {\n\t\t\treturn this.subMailboxes.length > 0\n\t\t},\n\t\tsubMailboxes() {\n\t\t\treturn this.mainStore.getSubMailboxes(this.mailbox.databaseId)\n\t\t},\n\t\tstatsText() {\n\t\t\tif (this.mailboxStats && 'total' in this.mailboxStats && 'unread' in this.mailboxStats) {\n\t\t\t\tif (this.mailboxStats.unread === 0) {\n\t\t\t\t\treturn n('mail', '{total} message', '{total} messages', this.mailboxStats.total, {\n\t\t\t\t\t\ttotal: this.mailboxStats.total,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'{unread} unread of {total}',\n\t\t\t\t\t\t'{unread} unread of {total}',\n\t\t\t\t\t\tthis.mailboxStats.unread,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttotal: this.mailboxStats.total,\n\t\t\t\t\t\t\tunread: this.mailboxStats.unread,\n\t\t\t\t\t\t},\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t('mail', 'Loading ')\n\t\t},\n\t\tisDroppableSpecialMailbox() {\n\t\t\tif (this.filter === 'starred') {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn ![\n\t\t\t\tthis.account.draftsMailboxId,\n\t\t\t\tthis.account.sentMailboxId,\n\t\t\t].includes(this.mailbox.databaseId)\n\t\t},\n\t\tisActive() {\n\t\t\treturn this.$route.params.mailboxId === this.mailbox.databaseId\n\t\t},\n\t\tisValidDropTarget() {\n\t\t\tif (this.isActive || !this.hasInsertAcl) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.isDroppableSpecialMailbox || (!this.mailbox.specialRole && !this.account.isUnified)\n\t\t},\n\t\tisUnifiedButOnlyInbox() {\n\t\t\tif (!this.mailbox.isUnified) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn this.mailbox.specialUse.includes('inbox') && this.mainStore.getAccounts.length > 2\n\t\t},\n\t\tshowUnreadCounter() {\n\t\t\tif (this.filter === 'starred' || this.mailbox.specialRole === 'trash') {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.mailbox.unread > 0 || this.subCounter > 0\n\t\t},\n\t\tsubCounter() {\n\t\t\treturn this.subMailboxes.reduce((carry, mb) => carry + mb.unread, 0)\n\t\t},\n\t\thasRenameAcl() {\n\t\t\tif (!this.mailbox.myAcls) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tconst parent = this.mainStore.getParentMailbox(this.mailbox.databaseId)\n\t\t\tif (!parent || !parent.myAcls) {\n\t\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t\t}\n\n\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t\t\t&& mailboxHasRights(parent, 'k')\n\t\t},\n\t\thasInsertAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'i')\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasSubmailboxActionAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'k')\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t},\n\t\thasClearMailboxAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t},\n\tmounted() {\n\t\tdragEventBus.on('drag-start', this.onDragStart)\n\t\tdragEventBus.on('drag-end', this.onDragEnd)\n\t\tdragEventBus.on('envelopes-moved', this.onEnvelopesMoved)\n\t},\n\tbeforeDestroy() {\n\t\tdragEventBus.off('drag-start', this.onDragStart)\n\t\tdragEventBus.off('drag-end', this.onDragEnd)\n\t\tdragEventBus.off('envelopes-moved', this.onEnvelopesMoved)\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Generate unique key id for a specific mailbox\n\t\t *\n\t\t * @param {object} mailbox the mailbox to gen id for\n\t\t * @return {string}\n\t\t */\n\t\tgenId(mailbox) {\n\t\t\treturn 'folder-' + mailbox.databaseId\n\t\t},\n\n\t\t/**\n\t\t * On menu toggle, fetch stats\n\t\t *\n\t\t * @param {boolean} open menu opened state\n\t\t */\n\t\tonMenuToggle(open) {\n\t\t\tif (open) {\n\t\t\t\tthis.fetchMailboxStats()\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Fetch mailbox unread/read stats\n\t\t */\n\t\tasync fetchMailboxStats() {\n\t\t\tthis.mailboxStats = null\n\t\t\tif (this.account.isUnified || this.mailbox.specialRole === 'flagged') {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst stats = await getMailboxStatus(this.mailbox.databaseId)\n\t\t\t\tlogger.debug(`loaded mailbox stats for ${this.mailbox.databaseId}`, { stats })\n\t\t\t\tthis.mailboxStats = stats\n\t\t\t} catch (error) {\n\t\t\t\tthis.mailboxStats = { error: true }\n\t\t\t\tlogger.error(`could not load mailbox stats for ${this.mailbox.databaseId}`, error)\n\t\t\t}\n\t\t},\n\n\t\tasync createMailbox(e) {\n\t\t\tthis.editing = true\n\t\t\tconst name = this.createMailboxName\n\t\t\tconst withPrefix = this.mailbox.name + this.mailbox.delimiter + name\n\t\t\tlogger.info(`creating mailbox ${withPrefix} as submailbox of ${this.mailbox.databaseId}`)\n\t\t\tthis.menuOpen = false\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.createMailbox({\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tname: withPrefix,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not create mailbox ${withPrefix}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.editing = false\n\t\t\t\tthis.showSaving = false\n\t\t\t}\n\t\t\tlogger.info(`mailbox ${withPrefix} created`)\n\t\t\tthis.showSubMailboxes = true\n\t\t},\n\t\topenCreateMailbox() {\n\t\t\tthis.editing = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tmarkAsRead() {\n\t\t\tthis.loadingMarkAsRead = true\n\n\t\t\tthis.mainStore.markMailboxRead({\n\t\t\t\taccountId: this.account.id,\n\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t})\n\t\t\t\t.then(() => logger.info(`mailbox ${this.mailbox.databaseId} marked as read`))\n\t\t\t\t.catch((error) => logger.error(`could not mark mailbox ${this.mailbox.databaseId} as read`, { error }))\n\t\t\t\t.then(() => (this.loadingMarkAsRead = false))\n\t\t},\n\t\tasync changeFolderSubscription(subscribed) {\n\t\t\ttry {\n\t\t\t\tthis.changeSubscription = true\n\n\t\t\t\tawait this.mainStore.changeMailboxSubscription({\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tsubscribed,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not update subscription of mailbox ${this.mailbox.databaseId}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.changeSubscription = false\n\t\t\t}\n\t\t},\n\t\tasync changeSyncInBackground(syncInBackground) {\n\t\t\ttry {\n\t\t\t\tthis.changingSyncInBackground = true\n\n\t\t\t\tawait this.mainStore.patchMailbox({\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tsyncInBackground,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not update background sync flag of mailbox ${this.mailbox.databaseId}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.changingSyncInBackground = false\n\t\t\t}\n\t\t},\n\t\tasync clearCache() {\n\t\t\ttry {\n\t\t\t\tthis.clearingCache = true\n\t\t\t\tlogger.debug('clearing message cache', {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t})\n\n\t\t\t\tawait clearCache(this.account.id, this.mailbox.databaseId)\n\n\t\t\t\t// TODO: there might be a nicer way to handle this\n\t\t\t\twindow.location.reload(false)\n\t\t\t} finally {\n\t\t\t\tthis.clearCache = false\n\t\t\t}\n\t\t},\n\t\tclearMailbox() {\n\t\t\tconst id = this.mailbox.databaseId\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('mail', 'All messages in mailbox will be deleted.'),\n\t\t\t\tt('mail', 'Clear mailbox {name}', { name: this.mailbox.displayName }),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('mail', 'Clear folder'),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('mail', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\treturn this.mainStore.clearMailbox({ mailbox: this.mailbox })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tlogger.info(`mailbox ${id} cleared`)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => logger.error('could not clear folder', { error }))\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t)\n\t\t},\n\t\tdeleteMailbox() {\n\t\t\tconst id = this.mailbox.databaseId\n\t\t\tlogger.info('delete folder', { mailbox: this.mailbox })\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('mail', 'The folder and all messages in it will be deleted.'),\n\t\t\t\tt('mail', 'Delete folder'),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('mail', 'Delete folder {name}', { name: this.mailbox.displayName }),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('mail', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\treturn this.mainStore.deleteMailbox({ mailbox: this.mailbox })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tlogger.info(`mailbox ${id} deleted`)\n\t\t\t\t\t\t\t\tif (parseInt(this.$route.params.mailboxId, 10) === this.mailbox.databaseId) {\n\t\t\t\t\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\t\tmailboxId: PRIORITY_INBOX_ID,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => logger.error('could not delete folder', { error }))\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t)\n\t\t},\n\t\tasync renameMailbox() {\n\t\t\tthis.renameInput = false\n\t\t\tthis.showSaving = true\n\n\t\t\ttry {\n\t\t\t\tlet newName = this.mailboxName\n\t\t\t\tif (this.mailbox.path) {\n\t\t\t\t\tnewName = this.mailbox.path + this.mailbox.delimiter + newName\n\t\t\t\t}\n\t\t\t\tawait this.mainStore.renameMailbox({\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tnewName,\n\t\t\t\t})\n\t\t\t\tthis.renameLabel = true\n\t\t\t\tthis.renameInput = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the mailbox.'))\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tthis.showSaving = false\n\t\t\t}\n\t\t},\n\t\topenRenameInput() {\n\t\t\t// Hide label and show input\n\t\t\tthis.renameLabel = false\n\t\t\tthis.renameInput = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t},\n\t\tonDragStart({ accountId }) {\n\t\t\tif (accountId !== this.mailbox.accountId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.mainStore.expandAccountMutation(accountId)\n\t\t\tthis.showSubMailboxes = true\n\t\t},\n\t\tonDragEnd({ accountId }) {\n\t\t\tif (accountId !== this.mailbox.accountId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.showSubMailboxes = false\n\t\t},\n\t\tonEnvelopesMoved({ mailboxId, movedEnvelopes }) {\n\t\t\tif (this.mailbox.databaseId !== mailboxId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst openedMessageHasBeenMoved = movedEnvelopes.find((movedEnvelope) => {\n\t\t\t\treturn movedEnvelope.envelopeId === this.$route.params.threadId\n\t\t\t})\n\t\t\t// navigate to the mailbox root\n\t\t\t// if the currently displayed message has been moved\n\t\t\tif (this.$route.name === 'message' && openedMessageHasBeenMoved) {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tfilter: this.$route.params?.filter,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Delete all vanished emails that are still cached.\n\t\t *\n\t\t * @return {Promise<void>}\n\t\t */\n\t\tasync repair() {\n\t\t\tthis.repairing = true\n\n\t\t\tconst mailboxId = this.mailbox.databaseId\n\t\t\ttry {\n\t\t\t\tawait repairMailbox(mailboxId)\n\n\t\t\t\t// Reload the page to start with a clean mailbox state\n\t\t\t\tawait this.$router.push({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\twindow.location.reload()\n\t\t\t} catch (error) {\n\t\t\t\t// Only reset state in case of an error because the page will be reloaded anyway\n\t\t\t\tthis.repairing = false\n\n\t\t\t\t// Handle rate limit: 429 Too Many Requests\n\t\t\t\t// Ref https://axios-http.com/docs/handling_errors\n\t\t\t\tif (error.response?.status === 429) {\n\t\t\t\t\tshowError(t('mail', 'Please wait 10 minutes before repairing again'))\n\t\t\t\t} else {\n\t\t\t\t\tthrow error\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.counter-bubble__counter {\n\tmax-width: initial;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=style&index=0&id=01a68128&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=style&index=0&id=01a68128&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationMailbox.vue?vue&type=template&id=01a68128&scoped=true\"\nimport script from \"./NavigationMailbox.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationMailbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationMailbox.vue?vue&type=style&index=0&id=01a68128&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01a68128\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigationItem',{key:\"navigation-outbox\",attrs:{\"id\":\"navigation-outbox\",\"name\":_vm.t('mail', 'Outbox'),\"to\":_vm.to},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconOutbox',{staticClass:\"outbox-opacity-icon\",attrs:{\"size\":20}})]},proxy:true},{key:\"counter\",fn:function(){return [(_vm.count)?_c('CounterBubble',{staticClass:\"navigation-outbox__unread-counter\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.count)+\"\\n\\t\\t\")]):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigationItem id=\"navigation-outbox\"\n\t\tkey=\"navigation-outbox\"\n\t\t:name=\"t('mail', 'Outbox')\"\n\t\t:to=\"to\">\n\t\t<template #icon>\n\t\t\t<IconOutbox class=\"outbox-opacity-icon\"\n\t\t\t\t:size=\"20\" />\n\t\t</template>\n\t\t<template #counter>\n\t\t\t<CounterBubble v-if=\"count\"\n\t\t\t\tclass=\"navigation-outbox__unread-counter\">\n\t\t\t\t{{ count }}\n\t\t\t</CounterBubble>\n\t\t</template>\n\t</AppNavigationItem>\n</template>\n\n<script>\nimport { NcAppNavigationItem as AppNavigationItem, NcCounterBubble as CounterBubble } from '@nextcloud/vue'\nimport IconOutbox from 'vue-material-design-icons/InboxArrowUp.vue'\n\nimport useOutboxStore from '../store/outboxStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'NavigationOutbox',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tCounterBubble,\n\t\tIconOutbox,\n\t},\n\tcomputed: {\n\t\t...mapStores(useOutboxStore),\n\t\tcount() {\n\t\t\treturn this.outboxStore.getAllMessages.length\n\t\t},\n\t\tto() {\n\t\t\treturn {\n\t\t\t\tname: 'outbox',\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.navigation-outbox {\n\t&__unread-counter {\n\t\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\n\t}\n}\n\n.outbox-opacity-icon {\n\topacity: .7;\n\t&:hover {\n\t\topacity: 1;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=style&index=0&id=57607280&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=style&index=0&id=57607280&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationOutbox.vue?vue&type=template&id=57607280&scoped=true\"\nimport script from \"./NavigationOutbox.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationOutbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./NavigationOutbox.vue?vue&type=style&index=0&id=57607280&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57607280\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app-settings\"},[_c('NcAppSettingsDialog',{attrs:{\"id\":\"app-settings-dialog\",\"name\":_vm.t('mail', 'Mail settings'),\"show-navigation\":true,\"additional-trap-elements\":_vm.trapElements,\"open\":_vm.showSettings},on:{\"update:open\":function($event){_vm.showSettings=$event}}},[_c('NcAppSettingsSection',{attrs:{\"id\":\"account-creation\",\"name\":_vm.t('mail', 'Accounts')}},[(_vm.allowNewMailAccounts)?_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"primary\",\"to\":\"/setup\",\"aria-label\":_vm.t('mail', 'Add mail account')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2388353250)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add mail account'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Account settings')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.t('mail', 'Settings for:')))]),_vm._v(\" \"),_vm._l((_vm.getAccounts),function(account){return _c('li',{key:account.id},[(account && account.emailAddress)?_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('mail', 'Account settings')},on:{\"click\":function($event){return _vm.openAccountSettings(account.id)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(account.emailAddress)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1)})],2),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"appearance-and-accessibility\",\"name\":_vm.t('mail', 'General')}},[_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Layout')))]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"value\":\"no-split\",\"button-variant\":true,\"name\":\"mail-layout\",\"type\":\"radio\",\"checked\":_vm.layoutMode,\"button-variant-grouped\":\"vertical\"},on:{\"update:checked\":function($event){return _vm.setLayout('no-split')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CompactMode',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'List'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"value\":\"vertical-split\",\"button-variant\":true,\"name\":\"mail-layout\",\"type\":\"radio\",\"checked\":_vm.layoutMode,\"button-variant-grouped\":\"vertical\"},on:{\"update:checked\":function($event){return _vm.setLayout('vertical-split')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('VerticalSplit',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Vertical split'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"value\":\"horizontal-split\",\"button-variant\":true,\"name\":\"mail-layout\",\"type\":\"radio\",\"checked\":_vm.layoutMode,\"button-variant-grouped\":\"vertical\"},on:{\"update:checked\":function($event){return _vm.setLayout('horizontal-split')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('HorizontalSplit',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Horizontal split'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Message View Mode')))]),_vm._v(\" \"),_c('div',{staticClass:\"sorting\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"type\":\"radio\",\"name\":\"message_view_mode_radio\",\"value\":\"threaded\",\"checked\":_vm.layoutMessageView},on:{\"update:checked\":function($event){return _vm.setLayoutMessageView('threaded')}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Show all messages in thread'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"type\":\"radio\",\"name\":\"message_view_mode_radio\",\"value\":\"singleton\",\"checked\":_vm.layoutMessageView},on:{\"update:checked\":function($event){return _vm.setLayoutMessageView('singleton')}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Show only the selected message'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Sorting')))]),_vm._v(\" \"),_c('div',{staticClass:\"sorting\"},[_c('NcCheckboxRadioSwitch',{staticClass:\"sorting__switch\",attrs:{\"checked\":_vm.sortOrder,\"value\":\"newest\",\"name\":\"order_radio\",\"type\":\"radio\"},on:{\"update:checked\":_vm.onSortByDate}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Newest'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{staticClass:\"sorting__switch\",attrs:{\"checked\":_vm.sortOrder,\"value\":\"oldest\",\"name\":\"order_radio\",\"type\":\"radio\"},on:{\"update:checked\":_vm.onSortByDate}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Oldest'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Search in body')))]),_vm._v(\" \"),_c('p',{staticClass:\"app-settings\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"id\":\"priority-inbox-toggle\",\"checked\":_vm.searchPriorityBody,\"loading\":_vm.loadingPrioritySettings},on:{\"update:checked\":_vm.onToggleSearchPriorityBody}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.prioritySettingsText)+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Reply text position')))]),_vm._v(\" \"),_c('p',{staticClass:\"app-settings reply-settings\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"id\":\"bottom-reply-enabled\",\"checked\":_vm.useBottomReplies,\"loading\":_vm.loadingReplySettings},on:{\"update:checked\":_vm.onToggleButtonReplies}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.replySettingsText)+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Gravatar settings')))]),_vm._v(\" \"),_c('p',{staticClass:\"app-settings avatar-settings\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"id\":\"gravatar-enabled\",\"checked\":_vm.useExternalAvatars,\"loading\":_vm.loadingAvatarSettings},on:{\"update:checked\":_vm.onToggleExternalAvatars}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Use Gravatar and favicon avatars'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Mailto')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Register as application for mail links'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('mail', 'Register as application for mail links')},on:{\"click\":_vm.registerProtocolHandler},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEmail',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Register'))+\"\\n\\t\\t\\t\")])],1),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"text-blocks\",\"name\":_vm.t('mail', 'Text blocks')}},[_c('List',{attrs:{\"text-blocks\":_vm.getMyTextBlocks()},on:{\"show-toolbar\":_vm.handleShowToolbar}}),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"primary\"},on:{\"click\":() => _vm.textBlockDialogOpen = true}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create a new text block'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.getSharedTextBlocks().length > 0)?[_c('h6',[_vm._v(_vm._s(_vm.t('mail','Shared with me')))]),_vm._v(\" \"),_c('List',{attrs:{\"text-blocks\":_vm.getSharedTextBlocks(),\"shared\":true},on:{\"show-toolbar\":_vm.handleShowToolbar}})]:_vm._e()],2),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"privacy-and-security\",\"name\":_vm.t('mail', 'Privacy and security')}},[_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Data collection consent')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Allow the app to collect data about your interactions. Based on this data, the app will adapt to your preferences. The data will only be stored locally.'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('p',{staticClass:\"app-settings\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"id\":\"data-collection-toggle\",\"checked\":_vm.useDataCollection,\"loading\":_vm.loadingOptOutSettings},on:{\"update:checked\":_vm.onToggleCollectData}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.optOutSettingsText)+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Trusted senders')))]),_vm._v(\" \"),_c('TrustedSenders'),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Internal addresses')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Highlight external email addresses by enabling this feature, manage your internal addresses and domains to ensure recognized contacts stay unmarked.'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('p',{staticClass:\"app-settings\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"id\":\"internal-address-toggle\",\"checked\":_vm.useInternalAddresses,\"loading\":_vm.loadingInternalAddresses},on:{\"update:checked\":_vm.onToggleInternalAddress}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.internalAddressText)+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('InternalAddress'),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'S/MIME')))]),_vm._v(\" \"),_c('NcButton',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('mail', 'Manage S/MIME certificates')},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.displaySmimeCertificateModal = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLock',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Manage S/MIME certificates'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.displaySmimeCertificateModal)?_c('SmimeCertificateModal',{on:{\"close\":function($event){_vm.displaySmimeCertificateModal = false}}}):_vm._e(),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Mailvelope')))]),_vm._v(\" \"),_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mailvelope is a browser extension that enables easy OpenPGP encryption and decryption for emails.'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"mailvelope-section\"},[(_vm.mailvelopeIsAvailable)?_c('div',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mailvelope is enabled for the current domain.'))+\"\\n\\t\\t\\t\\t\")]):_c('div',[_c('p',[_c('a',{staticClass:\"button\",attrs:{\"href\":\"https://www.mailvelope.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Step 1: Install Mailvelope browser extension'))+\"\\n\\t\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('p',[_c('a',{staticClass:\"button\",on:{\"click\":_vm.mailvelopeAuthorizeDomain}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Step 2: Enable Mailvelope for the current domain'))+\"\\n\\t\\t\\t\\t\\t\\t\")])])])])],1),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"autotagging-settings\",\"name\":_vm.t('mail', 'Assistance features')}},[_c('p',{staticClass:\"app-settings\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"id\":\"auto-tagging-toggle\",\"checked\":_vm.useAutoTagging,\"loading\":_vm.toggleAutoTagging},on:{\"update:checked\":_vm.onToggleAutoTagging}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.autoTaggingText)+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),(_vm.followUpFeatureAvailable)?_c('p',{staticClass:\"app-settings\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"id\":\"follow-up-reminder-toggle\",\"checked\":_vm.useFollowUpReminders,\"loading\":_vm.loadingFollowUpReminders},on:{\"update:checked\":_vm.onToggleFollowUpReminders}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.followUpReminderText)+\"\\n\\t\\t\\t\\t\")])],1):_vm._e()]),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"about-settings\",\"name\":_vm.t('mail', 'About')}},[_c('p',[_vm._v(_vm._s(_vm.t('mail', 'This application includes CKEditor, an open-source editor. Copyright  CKEditor contributors. Licensed under GPLv2.')))])]),_vm._v(\" \"),_c('NcAppSettingsSection',{attrs:{\"id\":\"keyboard-shortcut-settings\",\"name\":_vm.t('mail', 'Keyboard shortcuts')}},[_c('dl',[_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"C\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Compose new message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Newer message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Older message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"S\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Toggle star')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"U\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Toggle unread')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"A\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Archive')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"Del\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Delete')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"Ctrl\"}}),_c('NcKbd',{attrs:{\"symbol\":\"F\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Search')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"Ctrl\"}}),_c('NcKbd',{attrs:{\"symbol\":\"Enter\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Send')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('NcKbd',{attrs:{\"symbol\":\"R\"}})],1),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Refresh')))])])])]),_vm._v(\" \"),_c('NcDialog',{attrs:{\"open\":_vm.textBlockDialogOpen,\"name\":_vm.t('mail','New text block'),\"is-form\":true,\"size\":\"normal\"},on:{\"update:open\":function($event){_vm.textBlockDialogOpen=$event}}},[_c('NcInputField',{attrs:{\"value\":_vm.localTextBlock.title,\"label\":_vm.t('mail','Title of the text block')},on:{\"update:value\":function($event){return _vm.$set(_vm.localTextBlock, \"title\", $event)}}}),_vm._v(\" \"),_c('TextEditor',{attrs:{\"is-bordered\":true,\"html\":true,\"placeholder\":_vm.t('mail','Content of the text block'),\"bus\":_vm.bus,\"show-toolbar\":_vm.handleShowToolbar},model:{value:(_vm.localTextBlock.content),callback:function ($$v) {_vm.$set(_vm.localTextBlock, \"content\", $$v)},expression:\"localTextBlock.content\"}}),_vm._v(\" \"),_c('div',{staticClass:\"text-block-buttons\"},[_c('NcButton',{staticClass:\"text-block-buttons__button\",attrs:{\"type\":\"tertiary\"},on:{\"click\":_vm.closeTextBlockDialog},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconClose',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Cancel'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{staticClass:\"text-block-buttons__button\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.localTextBlock.title || !_vm.localTextBlock.content},on:{\"click\":_vm.newTextBlock},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Ok'))+\"\\n\\t\\t\\t\\t\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport forge from 'node-forge'\n\n/**\n * Convert a PKCS #12 certificate from DER to PEM format.\n * This function will extract the certificate and private key.\n *\n * It will fail if the given certificate contains more than one certificate or private key which is\n * not very common as OpenSSL does not support it.\n *\n * @param {ArrayBuffer} pkcs12Der The PKCS #12 certificate in DER format\n * @param {string=} password Password to use for decrypting the certificate\n * @return {{certificate: string, privateKey: string}} The certificate and private key in PEM format\n */\nexport function convertPkcs12ToPem(pkcs12Der, password) {\n\tconst der = new forge.util.ByteBuffer(pkcs12Der)\n\tconst asn1 = forge.asn1.fromDer(der)\n\tconst p12 = forge.pkcs12.pkcs12FromAsn1(asn1, password)\n\n\tconst getBags = (bagType) => p12.getBags({ bagType })[bagType]\n\tconst certBags = getBags(forge.pki.oids.certBag)\n\tconst keyBags = getBags(forge.pki.oids.pkcs8ShroudedKeyBag)\n\n\tif (certBags.length === 0) {\n\t\tthrow new InvalidPkcs12CertificateError('The PKCS #12 certificate must contain at least one certificate')\n\t}\n\n\tif (keyBags.length !== 1) {\n\t\tthrow new InvalidPkcs12CertificateError('The PKCS #12 certificate must contain a single key')\n\t}\n\n\treturn {\n\t\tcertificate: certBags.map((certBag) => forge.pki.certificateToPem(certBag.cert)).join('\\r\\n'),\n\t\tprivateKey: forge.pki.privateKeyToPem(keyBags[0].key),\n\t}\n}\n\nexport class InvalidPkcs12CertificateError extends Error {\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.name = InvalidPkcs12CertificateError.name\n\t}\n\n}\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcModal @close=\"$emit('close')\">\n\t\t<div class=\"certificate-modal\">\n\t\t\t<div v-if=\"!showImportScreen\" class=\"certificate-modal__list\">\n\t\t\t\t<h2>{{ t('mail', 'S/MIME certificates') }}</h2>\n\n\t\t\t\t<table class=\"certificate-modal__list__table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{ t('mail', 'Certificate name') }}</th>\n\t\t\t\t\t\t\t<th>{{ t('mail', 'E-mail address') }}</th>\n\t\t\t\t\t\t\t<th>{{ t('mail', 'Valid until') }}</th>\n\t\t\t\t\t\t\t<th />\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr v-for=\"certificate in certificates\" :key=\"certificate.id\">\n\t\t\t\t\t\t\t<td :title=\"certificate.info.commonName\">\n\t\t\t\t\t\t\t\t{{ certificate.info.commonName }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td :title=\"certificate.info.emailAddress\">\n\t\t\t\t\t\t\t\t{{ certificate.info.emailAddress }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td :title=\"moment.unix(certificate.info.notAfter).format('LL')\">\n\t\t\t\t\t\t\t\t{{ moment.unix(certificate.info.notAfter).format('LL') }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<NcButton type=\"tertiary-no-background\"\n\t\t\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Delete certificate')\"\n\t\t\t\t\t\t\t\t\t@click=\"deleteCertificate(certificate.id)\">\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon :title=\"t('mail', 'Delete certificate')\"\n\t\t\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<NcEmptyContent v-if=\"certificates.length === 0\"\n\t\t\t\t\tclass=\"certificate__empty\"\n\t\t\t\t\t:name=\"t('mail', 'No certificate imported yet')\" />\n\t\t\t\t<div class=\"certificate-modal__list__actions\">\n\t\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Import certificate')\"\n\t\t\t\t\t\t@click=\"showImportScreen = true\">\n\t\t\t\t\t\t{{ t('mail', 'Import certificate') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<form v-else\n\t\t\t\tclass=\"certificate-modal__import\"\n\t\t\t\t@submit.prevent=\"uploadCertificate\">\n\t\t\t\t<h2>{{ t('mail', 'Import S/MIME certificate') }}</h2>\n\n\t\t\t\t<fieldset class=\"certificate-modal__import__type\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input id=\"certificate-type-pkcs12\"\n\t\t\t\t\t\t\tv-model=\"certificateType\"\n\t\t\t\t\t\t\tname=\"certificate-type\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t:value=\"TYPE_PKCS12\">\n\t\t\t\t\t\t<label for=\"certificate-type-pkcs12\">\n\t\t\t\t\t\t\t{{ t('mail', 'PKCS #12 Certificate') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input id=\"certificate-type-pem\"\n\t\t\t\t\t\t\tv-model=\"certificateType\"\n\t\t\t\t\t\t\tname=\"certificate-type\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t:value=\"TYPE_PEM\">\n\t\t\t\t\t\t<label for=\"certificate-type-pem\">\n\t\t\t\t\t\t\t{{ t('mail', 'PEM Certificate') }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\n\t\t\t\t<fieldset>\n\t\t\t\t\t<label for=\"certificate\">{{ t('mail', 'Certificate') }}</label>\n\t\t\t\t\t<input id=\"certificate\"\n\t\t\t\t\t\tref=\"certificate\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".p12,.crt,.pem\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t@change=\"certificate = $event.target.files[0]\">\n\t\t\t\t</fieldset>\n\n\t\t\t\t<fieldset v-if=\"certificateType === TYPE_PEM\">\n\t\t\t\t\t<label for=\"private-key\">{{ t('mail', 'Private key (optional)') }}</label>\n\t\t\t\t\t<input id=\"private-key\"\n\t\t\t\t\t\tref=\"privateKey\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".key,.pem\"\n\t\t\t\t\t\t@change=\"privateKey = $event.target.files[0]\">\n\t\t\t\t</fieldset>\n\n\t\t\t\t<fieldset v-if=\"certificateType === TYPE_PKCS12\">\n\t\t\t\t\t<label for=\"password\">{{ t('mail', 'Password') }}</label>\n\t\t\t\t\t<NcPasswordField :value.sync=\"password\" :label=\"t('mail', 'Password')\" />\n\t\t\t\t</fieldset>\n\n\t\t\t\t<div class=\"certificate-modal__import__hints\">\n\t\t\t\t\t<p v-if=\"certificateType === TYPE_PEM\">\n\t\t\t\t\t\t{{ t('mail', 'The private key is only required if you intend to send signed and encrypted emails using this certificate.') }}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"certificate-modal__import__actions\">\n\t\t\t\t\t<NcButton type=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Back')\"\n\t\t\t\t\t\t@click=\"resetImportForm\">\n\t\t\t\t\t\t{{ t('mail', 'Back') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Submit')\"\n\t\t\t\t\t\tnative-type=\"submit\"\n\t\t\t\t\t\t:disabled=\"loading || !inputFormIsValid\">\n\t\t\t\t\t\t{{ t('mail', 'Submit') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</NcModal>\n</template>\n\n<script>\nimport { NcButton, NcModal, NcPasswordField, NcEmptyContent } from '@nextcloud/vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport logger from '../../logger.js'\nimport moment from '@nextcloud/moment'\nimport DeleteIcon from 'vue-material-design-icons/TrashCanOutline.vue'\nimport { convertPkcs12ToPem, InvalidPkcs12CertificateError } from '../../util/pkcs12.js'\nimport useMainStore from '../../store/mainStore.js'\nimport { mapStores, mapState } from 'pinia'\n\nconst TYPE_PKCS12 = 'pkcs12'\nconst TYPE_PEM = 'pem'\n\nexport default {\n\tname: 'SmimeCertificateModal',\n\tcomponents: {\n\t\tNcModal,\n\t\tNcButton,\n\t\tNcPasswordField,\n\t\tNcEmptyContent,\n\t\tDeleteIcon,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tTYPE_PKCS12,\n\t\t\tTYPE_PEM,\n\n\t\t\tmoment,\n\t\t\tshowImportScreen: false,\n\t\t\tloading: false,\n\t\t\tcertificateType: TYPE_PKCS12,\n\t\t\tcertificate: undefined,\n\t\t\tprivateKey: undefined,\n\t\t\tpassword: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, {\n\t\t\tcertificates: 'getSmimeCertificates',\n\t\t}),\n\t\tinputFormIsValid() {\n\t\t\treturn !!this.certificate\n\t\t},\n\t},\n\tasync mounted() {\n\t\t// Refresh S/MIME certificates for good measure\n\t\tawait this.mainStore.fetchSmimeCertificates()\n\t},\n\tmethods: {\n\t\tasync deleteCertificate(id) {\n\t\t\tawait this.mainStore.deleteSmimeCertificate(id)\n\t\t},\n\t\tasync uploadCertificate() {\n\t\t\tlet certificate = this.$refs.certificate.files[0]\n\t\t\tlet privateKey\n\t\t\tif (this.certificateType === TYPE_PKCS12) {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = convertPkcs12ToPem(await certificate.arrayBuffer(), this.password)\n\t\t\t\t\tcertificate = new Blob([result.certificate])\n\t\t\t\t\tprivateKey = new Blob([result.privateKey])\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error.name === InvalidPkcs12CertificateError.name) {\n\t\t\t\t\t\tlogger.error('PKCS #12 certificate contains multiple certs or keys', { error })\n\t\t\t\t\t\tshowError(t('mail', 'The provided PKCS #12 certificate must contain at least one certificate and exactly one private key.'))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlogger.debug('Is probably not a PKCS #12 certificate or the password is wrong', { error })\n\t\t\t\t\t\tshowError(t('mail', 'Failed to import the certificate. Please check the password.'))\n\t\t\t\t\t}\n\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t} else if (this.certificateType === TYPE_PEM) {\n\t\t\t\tprivateKey = this.$refs.privateKey.files[0]\n\t\t\t} else {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.createSmimeCertificate({\n\t\t\t\t\tcertificate,\n\t\t\t\t\tprivateKey,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Certificate imported successfully'))\n\t\t\t\tthis.resetImportForm()\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to import a S/MIME certificate: ${error.response?.data?.data}`,\n\t\t\t\t\t{ error },\n\t\t\t\t)\n\t\t\t\tif (privateKey) {\n\t\t\t\t\tshowError(t('mail', 'Failed to import the certificate. Please make sure that the private key matches the certificate and is not protected by a passphrase.'))\n\t\t\t\t} else {\n\t\t\t\t\tshowError(t('mail', 'Failed to import the certificate'))\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tresetImportForm() {\n\t\t\tthis.certificateType = TYPE_PKCS12\n\t\t\tthis.showImportScreen = false\n\t\t\tthis.certificate = undefined\n\t\t\tthis.privateKey = undefined\n\t\t\tthis.password = ''\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.empty-content{\n\theight: 100%;\n\tdisplay: flex;\n}\n\n.certificate-modal {\n\tpadding: calc(var(--default-grid-baseline) * 5);\n\n\t&__list {\n\t\ttable {\n\t\t\ttable-layout: fixed;\n\t\t\twidth: 100%;\n\n\t\t\tth {\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t}\n\n\t\t\tth, td {\n\t\t\t\tpadding: calc(var(--default-grid-baseline) * 0.5);\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\tflex: 5 1 0px;\n\t\t\t}\n\n\t\t\tth:last-child, td:last-child {\n\t\t\t\tflex: 1 1 0px;\n\t\t\t}\n\n\t\t\tspan {\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t}\n\n\t\t\ttr {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t// Disable default hover style\n\t\t\ttr:hover {\n\t\t\t\tbackground-color: unset;\n\t\t\t}\n\t\t}\n\n\t\t&__actions {\n\t\t\tmargin: calc(var(--default-grid-baseline) * 3);\n\t\t\tfloat: inline-end;\n\t\t}\n\t}\n\n\t&__import {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: calc(var(--default-grid-baseline) * 2);\n\n\t\tinput[type=file] {\n\t\t\tdisplay: flex;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t&__type {\n\t\t\tdisplay: flex;\n\t\t\tgap: 0 calc(var(--default-grid-baseline) * 5);\n\t\t\tflex-wrap: wrap;\n\n\t\t\t> div {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: var(--default-grid-baseline);\n\t\t\t\talign-items: center;\n\t\t\t}\n\t\t}\n\n\t\t&__hints {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\n\t\t&__actions {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tgap: calc(var(--default-grid-baseline) * 4);\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=style&index=0&id=e87bd15c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmimeCertificateModal.vue?vue&type=style&index=0&id=e87bd15c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SmimeCertificateModal.vue?vue&type=template&id=e87bd15c&scoped=true\"\nimport script from \"./SmimeCertificateModal.vue?vue&type=script&lang=js\"\nexport * from \"./SmimeCertificateModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./SmimeCertificateModal.vue?vue&type=style&index=0&id=e87bd15c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e87bd15c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcModal',{on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('div',{staticClass:\"certificate-modal\"},[(!_vm.showImportScreen)?_c('div',{staticClass:\"certificate-modal__list\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'S/MIME certificates')))]),_vm._v(\" \"),_c('table',{staticClass:\"certificate-modal__list__table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.t('mail', 'Certificate name')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.t('mail', 'E-mail address')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.t('mail', 'Valid until')))]),_vm._v(\" \"),_c('th')])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.certificates),function(certificate){return _c('tr',{key:certificate.id},[_c('td',{attrs:{\"title\":certificate.info.commonName}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(certificate.info.commonName)+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',{attrs:{\"title\":certificate.info.emailAddress}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(certificate.info.emailAddress)+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',{attrs:{\"title\":_vm.moment.unix(certificate.info.notAfter).format('LL')}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.moment.unix(certificate.info.notAfter).format('LL'))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',[_c('NcButton',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Delete certificate')},on:{\"click\":function($event){return _vm.deleteCertificate(certificate.id)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"title\":_vm.t('mail', 'Delete certificate'),\"size\":20}})]},proxy:true}],null,true)})],1)])}),0)]),_vm._v(\" \"),(_vm.certificates.length === 0)?_c('NcEmptyContent',{staticClass:\"certificate__empty\",attrs:{\"name\":_vm.t('mail', 'No certificate imported yet')}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"certificate-modal__list__actions\"},[_c('NcButton',{attrs:{\"type\":\"primary\",\"aria-label\":_vm.t('mail', 'Import certificate')},on:{\"click\":function($event){_vm.showImportScreen = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Import certificate'))+\"\\n\\t\\t\\t\\t\")])],1)],1):_c('form',{staticClass:\"certificate-modal__import\",on:{\"submit\":function($event){$event.preventDefault();return _vm.uploadCertificate.apply(null, arguments)}}},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Import S/MIME certificate')))]),_vm._v(\" \"),_c('fieldset',{staticClass:\"certificate-modal__import__type\"},[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.certificateType),expression:\"certificateType\"}],attrs:{\"id\":\"certificate-type-pkcs12\",\"name\":\"certificate-type\",\"type\":\"radio\"},domProps:{\"value\":_vm.TYPE_PKCS12,\"checked\":_vm._q(_vm.certificateType,_vm.TYPE_PKCS12)},on:{\"change\":function($event){_vm.certificateType=_vm.TYPE_PKCS12}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"certificate-type-pkcs12\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'PKCS #12 Certificate'))+\"\\n\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.certificateType),expression:\"certificateType\"}],attrs:{\"id\":\"certificate-type-pem\",\"name\":\"certificate-type\",\"type\":\"radio\"},domProps:{\"value\":_vm.TYPE_PEM,\"checked\":_vm._q(_vm.certificateType,_vm.TYPE_PEM)},on:{\"change\":function($event){_vm.certificateType=_vm.TYPE_PEM}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"certificate-type-pem\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'PEM Certificate'))+\"\\n\\t\\t\\t\\t\\t\")])])]),_vm._v(\" \"),_c('fieldset',[_c('label',{attrs:{\"for\":\"certificate\"}},[_vm._v(_vm._s(_vm.t('mail', 'Certificate')))]),_vm._v(\" \"),_c('input',{ref:\"certificate\",attrs:{\"id\":\"certificate\",\"type\":\"file\",\"accept\":\".p12,.crt,.pem\",\"required\":\"\"},on:{\"change\":function($event){_vm.certificate = $event.target.files[0]}}})]),_vm._v(\" \"),(_vm.certificateType === _vm.TYPE_PEM)?_c('fieldset',[_c('label',{attrs:{\"for\":\"private-key\"}},[_vm._v(_vm._s(_vm.t('mail', 'Private key (optional)')))]),_vm._v(\" \"),_c('input',{ref:\"privateKey\",attrs:{\"id\":\"private-key\",\"type\":\"file\",\"accept\":\".key,.pem\"},on:{\"change\":function($event){_vm.privateKey = $event.target.files[0]}}})]):_vm._e(),_vm._v(\" \"),(_vm.certificateType === _vm.TYPE_PKCS12)?_c('fieldset',[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(_vm._s(_vm.t('mail', 'Password')))]),_vm._v(\" \"),_c('NcPasswordField',{attrs:{\"value\":_vm.password,\"label\":_vm.t('mail', 'Password')},on:{\"update:value\":function($event){_vm.password=$event}}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"certificate-modal__import__hints\"},[(_vm.certificateType === _vm.TYPE_PEM)?_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'The private key is only required if you intend to send signed and encrypted emails using this certificate.'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"certificate-modal__import__actions\"},[_c('NcButton',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Back')},on:{\"click\":_vm.resetImportForm}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Back'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"primary\",\"aria-label\":_vm.t('mail', 'Submit'),\"native-type\":\"submit\",\"disabled\":_vm.loading || !_vm.inputFormIsValid}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Submit'))+\"\\n\\t\\t\\t\\t\")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.sortedSenders),function(sender){return _c('div',{key:sender.email},[_vm._v(\"\\n\\t\\t\"+_vm._s(sender.email)+\"\\n\\t\\t\"+_vm._s(_vm.senderType(sender.type))+\"\\n\\t\\t\"),_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail','Remove')},on:{\"click\":function($event){return _vm.removeSender(sender)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Remove'))+\"\\n\\t\\t\")])],1)}),_vm._v(\" \"),(!_vm.sortedSenders.length)?_c('span',[_vm._v(\" \"+_vm._s(_vm.t('mail', 'No senders are trusted at the moment.')))]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div>\n\t\t<div v-for=\"sender in sortedSenders\"\n\t\t\t:key=\"sender.email\">\n\t\t\t{{ sender.email }}\n\t\t\t{{ senderType(sender.type) }}\n\t\t\t<ButtonVue type=\"tertiary\"\n\t\t\t\tclass=\"button\"\n\t\t\t\t:aria-label=\"t('mail','Remove')\"\n\t\t\t\t@click=\"removeSender(sender)\">\n\t\t\t\t{{ t('mail','Remove') }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<span v-if=\"!sortedSenders.length\"> {{ t('mail', 'No senders are trusted at the moment.') }}</span>\n\t</div>\n</template>\n\n<script>\n\nimport { fetchTrustedSenders, trustSender } from '../service/TrustedSenderService.js'\nimport { NcButton as ButtonVue } from '@nextcloud/vue'\nimport prop from 'lodash/fp/prop.js'\nimport sortBy from 'lodash/fp/sortBy.js'\nimport logger from '../logger.js'\nimport { showError } from '@nextcloud/dialogs'\n\nconst sortByEmail = sortBy(prop('email'))\n\nexport default {\n\tname: 'TrustedSenders',\n\tcomponents: {\n\t\tButtonVue,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tlist: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedSenders() {\n\t\t\treturn sortByEmail(this.list)\n\t\t},\n\t},\n\tasync mounted() {\n\t\tthis.list = await fetchTrustedSenders()\n\t},\n\tmethods: {\n\t\tasync removeSender(sender) {\n\t\t\t// Remove the item immediately\n\t\t\tthis.list = this.list.filter(s => s.id !== sender.id)\n\t\t\ttry {\n\t\t\t\tawait trustSender(\n\t\t\t\t\tsender.email,\n\t\t\t\t\tsender.type,\n\t\t\t\t\tfalse,\n\t\t\t\t)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not remove trusted sender ${sender.email}`, {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t\tshowError(t('mail', 'Could not remove trusted sender {sender}', {\n\t\t\t\t\tsender: sender.email,\n\t\t\t\t}))\n\t\t\t\t// Put the sender back\n\t\t\t\tthis.list.push(sender)\n\t\t\t}\n\t\t},\n\t\tsenderType(type) {\n\t\t\tswitch (type) {\n\t\t\tcase 'individual':\n\t\t\t\treturn t('mail', 'individual')\n\t\t\tcase 'domain':\n\t\t\t\treturn t('mail', 'domain')\n\t\t\t}\n\t\t\treturn type\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=style&index=0&id=0cf1c097&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=style&index=0&id=0cf1c097&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TrustedSenders.vue?vue&type=template&id=0cf1c097&scoped=true\"\nimport script from \"./TrustedSenders.vue?vue&type=script&lang=js\"\nexport * from \"./TrustedSenders.vue?vue&type=script&lang=js\"\nimport style0 from \"./TrustedSenders.vue?vue&type=style&index=0&id=0cf1c097&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cf1c097\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.sortedDomains),function(domain){return _c('div',{key:domain.address,staticClass:\"address\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(domain.address)+\"\\n\\t\\t\"),_c('p',{staticClass:\"address__type\"},[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_vm.t('mail', 'domain'))+\")\\n\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail', 'Remove')},on:{\"click\":function($event){return _vm.removeInternalAddress(domain)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Remove'))+\"\\n\\t\\t\")])],1)}),_vm._v(\" \"),_vm._l((_vm.sortedEmails),function(email){return _c('div',{key:email.address,staticClass:\"address\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(email.address)+\"\\n\\t\\t\"),_c('p',{staticClass:\"address__type\"},[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_vm.t('mail', 'email'))+\")\\n\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail','Remove')},on:{\"click\":function($event){return _vm.removeInternalAddress(email)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Remove'))+\"\\n\\t\\t\")])],1)}),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.openDialog = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Add internal address'))+\"\\n\\t\")]),_vm._v(\" \"),_c('NcDialog',{attrs:{\"open\":_vm.openDialog,\"buttons\":_vm.buttons,\"name\":_vm.t('mail', 'Add internal address')},on:{\"update:open\":function($event){_vm.openDialog=$event},\"close\":function($event){_vm.openDialog = false}}},[_c('NcTextField',{staticClass:\"input\",attrs:{\"label\":_vm.t('mail', 'Add internal email or domain'),\"value\":_vm.newAddress},on:{\"update:value\":function($event){_vm.newAddress=$event}}})],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div>\n\t\t<div v-for=\"domain in sortedDomains\"\n\t\t\t:key=\"domain.address\"\n\t\t\tclass=\"address\">\n\t\t\t{{ domain.address }}\n\t\t\t<p class=\"address__type\">\n\t\t\t\t({{ t('mail', 'domain') }})\n\t\t\t</p>\n\t\t\t<ButtonVue type=\"tertiary\"\n\t\t\t\tclass=\"button\"\n\t\t\t\t:aria-label=\"t('mail', 'Remove')\"\n\t\t\t\t@click=\"removeInternalAddress(domain)\">\n\t\t\t\t{{ t('mail','Remove') }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<div v-for=\"email in sortedEmails\"\n\t\t\t:key=\"email.address\"\n\t\t\tclass=\"address\">\n\t\t\t{{ email.address }}\n\t\t\t<p class=\"address__type\">\n\t\t\t\t({{ t('mail', 'email') }})\n\t\t\t</p>\n\t\t\t<ButtonVue type=\"tertiary\"\n\t\t\t\tclass=\"button\"\n\t\t\t\t:aria-label=\"t('mail','Remove')\"\n\t\t\t\t@click=\"removeInternalAddress(email)\">\n\t\t\t\t{{ t('mail','Remove') }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<ButtonVue type=\"primary\"\n\t\t\t@click=\"openDialog = true\">\n\t\t\t<template #icon>\n\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Add internal address') }}\n\t\t</ButtonVue>\n\t\t<NcDialog :open.sync=\"openDialog\"\n\t\t\t:buttons=\"buttons\"\n\t\t\t:name=\"t('mail', 'Add internal address')\"\n\t\t\t@close=\"openDialog = false\">\n\t\t\t<NcTextField class=\"input\" :label=\"t('mail', 'Add internal email or domain')\" :value.sync=\"newAddress\" />\n\t\t</NcDialog>\n\t</div>\n</template>\n\n<script>\n\nimport { NcButton as ButtonVue, NcDialog, NcTextField } from '@nextcloud/vue'\nimport prop from 'lodash/fp/prop.js'\nimport sortBy from 'lodash/fp/sortBy.js'\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconCancel from '@mdi/svg/svg/cancel.svg'\nimport IconCheck from '@mdi/svg/svg/check.svg'\nimport logger from '../logger.js'\nimport { showError } from '@nextcloud/dialogs'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nconst sortByAddress = sortBy(prop('address'))\n\nexport default {\n\tname: 'InternalAddress',\n\tcomponents: {\n\t\tButtonVue,\n\t\tNcDialog,\n\t\tNcTextField,\n\t\tIconAdd,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\topenDialog: false,\n\t\t\tnewAddress: '',\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Cancel',\n\t\t\t\t\ticon: IconCancel,\n\t\t\t\t\tcallback: () => { this.openDialog = false },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Ok',\n\t\t\t\t\ttype: 'primary',\n\t\t\t\t\ticon: IconCheck,\n\t\t\t\t\tcallback: () => { this.addInternalAddress() },\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tlist() {\n\t\t\treturn this.mainStore.getInternalAddresses\n\t\t},\n\t\tsortedDomains() {\n\t\t\treturn sortByAddress(this.list.filter(a => a.type === 'domain'))\n\t\t},\n\t\tsortedEmails() {\n\t\t\treturn sortByAddress(this.list.filter(a => a.type === 'individual'))\n\t\t},\n\t},\n\tmethods: {\n\t\tasync removeInternalAddress(sender) {\n\t\t\t// Remove the item immediately\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.removeInternalAddress({ id: sender.id, address: sender.address, type: sender.type })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not remove internal address ${sender.email}`, {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t\tshowError(t('mail', 'Could not remove internal address {sender}', {\n\t\t\t\t\tsender: sender.address,\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tasync addInternalAddress() {\n\t\t\tconst type = this.checkType()\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.addInternalAddress({\n\t\t\t\t\taddress: this.newAddress,\n\t\t\t\t\ttype,\n\t\t\t\t}).then(async () => {\n\t\t\t\t\tthis.newAddress = ''\n\t\t\t\t\tthis.openDialog = false\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not add internal address ${this.newAddress}`, {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t\tshowError(t('mail', 'Could not add internal address {address}', {\n\t\t\t\t\taddress: this.newAddress,\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tcheckType() {\n\t\t\tconst parts = this.newAddress.split('@')\n\t\t\tif (parts.length !== 2) {\n\t\t\t\treturn 'domain'\n\t\t\t}\n\t\t\t// remove '@'' from domain if added by mistake\n\t\t\tif (parts[0].length === 0) {\n\t\t\t\tthis.newAddress = parts[1]\n\t\t\t\treturn 'domain'\n\t\t\t}\n\t\t\treturn 'individual'\n\t\t},\n\t\tsenderType(type) {\n\t\t\tswitch (type) {\n\t\t\tcase 'individual':\n\t\t\t\treturn t('mail', 'individual')\n\t\t\tcase 'domain':\n\t\t\t\treturn t('mail', 'domain')\n\t\t\t}\n\t\t\treturn type\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.address {\n\tdisplay: flex;\n\talign-items: center;\n\t&__type{\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=style&index=0&id=39d85f9a&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalAddress.vue?vue&type=style&index=0&id=39d85f9a&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./InternalAddress.vue?vue&type=template&id=39d85f9a&scoped=true\"\nimport script from \"./InternalAddress.vue?vue&type=script&lang=js\"\nexport * from \"./InternalAddress.vue?vue&type=script&lang=js\"\nimport style0 from \"./InternalAddress.vue?vue&type=style&index=0&id=39d85f9a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39d85f9a\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<ListItem v-for=\"textBlock in textBlocks\"\n\t\t\t:key=\"textBlock.id\"\n\t\t\t:text-block=\"textBlock\"\n\t\t\t:shared=\"shared\" />\n\t\t<span v-if=\"!textBlocks.length\"> {{ t('mail', 'No text blocks available') }} </span>\n\t</div>\n</template>\n\n<script>\nimport ListItem from './ListItem.vue'\nexport default {\n\tname: 'List',\n\tcomponents: {\n\t\tListItem,\n\t},\n\tprops: {\n\t\tshared: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\ttextBlocks: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tmethods: {\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=2b958f7d\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.textBlocks),function(textBlock){return _c('ListItem',{key:textBlock.id,attrs:{\"text-block\":textBlock,\"shared\":_vm.shared}})}),_vm._v(\" \"),(!_vm.textBlocks.length)?_c('span',[_vm._v(\" \"+_vm._s(_vm.t('mail', 'No text blocks available'))+\" \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"app-settings\">\n\t\t<NcAppSettingsDialog id=\"app-settings-dialog\"\n\t\t\t:name=\"t('mail', 'Mail settings')\"\n\t\t\t:show-navigation=\"true\"\n\t\t\t:additional-trap-elements=\"trapElements\"\n\t\t\t:open.sync=\"showSettings\">\n\t\t\t<NcAppSettingsSection id=\"account-creation\" :name=\"t('mail', 'Accounts')\">\n\t\t\t\t<NcButton v-if=\"allowNewMailAccounts\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tto=\"/setup\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Add mail account')\"\n\t\t\t\t\tclass=\"app-settings-button\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Add mail account') }}\n\t\t\t\t</NcButton>\n\n\t\t\t\t<h4>{{ t('mail', 'Account settings') }}</h4>\n\t\t\t\t<p>{{ t('mail', 'Settings for:') }}</p>\n\t\t\t\t<li v-for=\"account in getAccounts\" :key=\"account.id\">\n\t\t\t\t\t<NcButton v-if=\"account && account.emailAddress\"\n\t\t\t\t\t\tclass=\"app-settings-button\"\n\t\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Account settings')\"\n\t\t\t\t\t\t@click=\"openAccountSettings(account.id)\">\n\t\t\t\t\t\t{{ account.emailAddress }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</li>\n\t\t\t</NcAppSettingsSection>\n\n\t\t\t<NcAppSettingsSection id=\"appearance-and-accessibility\" :name=\"t('mail', 'General')\">\n\t\t\t\t<h4>{{ t('mail', 'Layout') }}</h4>\n\t\t\t\t<NcCheckboxRadioSwitch value=\"no-split\"\n\t\t\t\t\t:button-variant=\"true\"\n\t\t\t\t\tname=\"mail-layout\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t:checked=\"layoutMode\"\n\t\t\t\t\tbutton-variant-grouped=\"vertical\"\n\t\t\t\t\t@update:checked=\"setLayout('no-split')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CompactMode :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'List') }}\n\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t<NcCheckboxRadioSwitch value=\"vertical-split\"\n\t\t\t\t\t:button-variant=\"true\"\n\t\t\t\t\tname=\"mail-layout\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t:checked=\"layoutMode\"\n\t\t\t\t\tbutton-variant-grouped=\"vertical\"\n\t\t\t\t\t@update:checked=\"setLayout('vertical-split')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<VerticalSplit :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Vertical split') }}\n\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t<NcCheckboxRadioSwitch value=\"horizontal-split\"\n\t\t\t\t\t:button-variant=\"true\"\n\t\t\t\t\tname=\"mail-layout\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t:checked=\"layoutMode\"\n\t\t\t\t\tbutton-variant-grouped=\"vertical\"\n\t\t\t\t\t@update:checked=\"setLayout('horizontal-split')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<HorizontalSplit :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Horizontal split') }}\n\t\t\t\t</NcCheckboxRadioSwitch>\n\n\t\t\t\t<h4>{{ t('mail', 'Message View Mode') }}</h4>\n\t\t\t\t<div class=\"sorting\">\n\t\t\t\t\t<NcCheckboxRadioSwitch type=\"radio\"\n\t\t\t\t\t\tname=\"message_view_mode_radio\"\n\t\t\t\t\t\tvalue=\"threaded\"\n\t\t\t\t\t\t:checked=\"layoutMessageView\"\n\t\t\t\t\t\t@update:checked=\"setLayoutMessageView('threaded')\">\n\t\t\t\t\t\t{{ t('mail', 'Show all messages in thread') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t<NcCheckboxRadioSwitch type=\"radio\"\n\t\t\t\t\t\tname=\"message_view_mode_radio\"\n\t\t\t\t\t\tvalue=\"singleton\"\n\t\t\t\t\t\t:checked=\"layoutMessageView\"\n\t\t\t\t\t\t@update:checked=\"setLayoutMessageView('singleton')\">\n\t\t\t\t\t\t{{ t('mail', 'Show only the selected message') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</div>\n\n\t\t\t\t<h4>{{ t('mail', 'Sorting') }}</h4>\n\t\t\t\t<div class=\"sorting\">\n\t\t\t\t\t<NcCheckboxRadioSwitch class=\"sorting__switch\"\n\t\t\t\t\t\t:checked=\"sortOrder\"\n\t\t\t\t\t\tvalue=\"newest\"\n\t\t\t\t\t\tname=\"order_radio\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t@update:checked=\"onSortByDate\">\n\t\t\t\t\t\t{{ t('mail', 'Newest') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t<NcCheckboxRadioSwitch class=\"sorting__switch\"\n\t\t\t\t\t\t:checked=\"sortOrder\"\n\t\t\t\t\t\tvalue=\"oldest\"\n\t\t\t\t\t\tname=\"order_radio\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t@update:checked=\"onSortByDate\">\n\t\t\t\t\t\t{{ t('mail', 'Oldest') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</div>\n\n\t\t\t\t<h4>{{ t('mail', 'Search in body') }}</h4>\n\t\t\t\t<p class=\"app-settings\">\n\t\t\t\t\t<NcCheckboxRadioSwitch id=\"priority-inbox-toggle\"\n\t\t\t\t\t\t:checked=\"searchPriorityBody\"\n\t\t\t\t\t\t:loading=\"loadingPrioritySettings\"\n\t\t\t\t\t\t@update:checked=\"onToggleSearchPriorityBody\">\n\t\t\t\t\t\t{{ prioritySettingsText }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</p>\n\n\t\t\t\t<h4>{{ t('mail', 'Reply text position') }}</h4>\n\t\t\t\t<p class=\"app-settings reply-settings\">\n\t\t\t\t\t<NcCheckboxRadioSwitch id=\"bottom-reply-enabled\"\n\t\t\t\t\t\t:checked=\"useBottomReplies\"\n\t\t\t\t\t\t:loading=\"loadingReplySettings\"\n\t\t\t\t\t\t@update:checked=\"onToggleButtonReplies\">\n\t\t\t\t\t\t{{ replySettingsText }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</p>\n\n\t\t\t\t<h4>{{ t('mail', 'Gravatar settings') }}</h4>\n\t\t\t\t<p class=\"app-settings avatar-settings\">\n\t\t\t\t\t<NcCheckboxRadioSwitch id=\"gravatar-enabled\"\n\t\t\t\t\t\t:checked=\"useExternalAvatars\"\n\t\t\t\t\t\t:loading=\"loadingAvatarSettings\"\n\t\t\t\t\t\t@update:checked=\"onToggleExternalAvatars\">\n\t\t\t\t\t\t{{ t('mail', 'Use Gravatar and favicon avatars') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</p>\n\n\t\t\t\t<h4>{{ t('mail', 'Mailto') }}</h4>\n\t\t\t\t<p class=\"settings-hint\">\n\t\t\t\t\t{{ t('mail', 'Register as application for mail links') }}\n\t\t\t\t</p>\n\t\t\t\t<NcButton type=\"secondary\"\n\t\t\t\t\tclass=\"app-settings-button\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Register as application for mail links')\"\n\t\t\t\t\t@click=\"registerProtocolHandler\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconEmail :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Register') }}\n\t\t\t\t</NcButton>\n\t\t\t</NcAppSettingsSection>\n\t\t\t<NcAppSettingsSection id=\"text-blocks\" :name=\"t('mail', 'Text blocks')\">\n\t\t\t\t<List :text-blocks=\"getMyTextBlocks()\"\n\t\t\t\t\t@show-toolbar=\"handleShowToolbar\" />\n\t\t\t\t<NcButton type=\"primary\" @click=\"() => textBlockDialogOpen = true\">\n\t\t\t\t\t{{ t('mail', 'Create a new text block') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<template v-if=\"getSharedTextBlocks().length > 0\">\n\t\t\t\t\t<h6>{{ t('mail','Shared with me') }}</h6>\n\t\t\t\t\t<List :text-blocks=\"getSharedTextBlocks()\"\n\t\t\t\t\t\t:shared=\"true\"\n\t\t\t\t\t\t@show-toolbar=\"handleShowToolbar\" />\n\t\t\t\t</template>\n\t\t\t</NcAppSettingsSection>\n\n\t\t\t<NcAppSettingsSection id=\"privacy-and-security\" :name=\"t('mail', 'Privacy and security')\">\n\t\t\t\t<h4>{{ t('mail', 'Data collection consent') }}</h4>\n\t\t\t\t<p class=\"settings-hint\">\n\t\t\t\t\t{{ t('mail', 'Allow the app to collect data about your interactions. Based on this data, the app will adapt to your preferences. The data will only be stored locally.') }}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"app-settings\">\n\t\t\t\t\t<NcCheckboxRadioSwitch id=\"data-collection-toggle\"\n\t\t\t\t\t\t:checked=\"useDataCollection\"\n\t\t\t\t\t\t:loading=\"loadingOptOutSettings\"\n\t\t\t\t\t\t@update:checked=\"onToggleCollectData\">\n\t\t\t\t\t\t{{ optOutSettingsText }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</p>\n\n\t\t\t\t<h4>{{ t('mail', 'Trusted senders') }}</h4>\n\t\t\t\t<TrustedSenders />\n\n\t\t\t\t<h4>{{ t('mail', 'Internal addresses') }}</h4>\n\t\t\t\t<p class=\"settings-hint\">\n\t\t\t\t\t{{ t('mail', 'Highlight external email addresses by enabling this feature, manage your internal addresses and domains to ensure recognized contacts stay unmarked.') }}\n\t\t\t\t</p>\n\t\t\t\t<p class=\"app-settings\">\n\t\t\t\t\t<NcCheckboxRadioSwitch id=\"internal-address-toggle\"\n\t\t\t\t\t\t:checked=\"useInternalAddresses\"\n\t\t\t\t\t\t:loading=\"loadingInternalAddresses\"\n\t\t\t\t\t\t@update:checked=\"onToggleInternalAddress\">\n\t\t\t\t\t\t{{ internalAddressText }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</p>\n\t\t\t\t<InternalAddress />\n\n\t\t\t\t<h4>{{ t('mail', 'S/MIME') }}</h4>\n\t\t\t\t<NcButton class=\"app-settings-button\"\n\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Manage S/MIME certificates')\"\n\t\t\t\t\t@click.prevent.stop=\"displaySmimeCertificateModal = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLock :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Manage S/MIME certificates') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<SmimeCertificateModal v-if=\"displaySmimeCertificateModal\"\n\t\t\t\t\t@close=\"displaySmimeCertificateModal = false\" />\n\n\t\t\t\t<h4>{{ t('mail', 'Mailvelope') }}</h4>\n\t\t\t\t<p class=\"settings-hint\">\n\t\t\t\t\t{{ t('mail', 'Mailvelope is a browser extension that enables easy OpenPGP encryption and decryption for emails.') }}\n\t\t\t\t</p>\n\t\t\t\t<div class=\"mailvelope-section\">\n\t\t\t\t\t<div v-if=\"mailvelopeIsAvailable\">\n\t\t\t\t\t\t{{ t('mail', 'Mailvelope is enabled for the current domain.') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a href=\"https://www.mailvelope.com/\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Step 1: Install Mailvelope browser extension') }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a class=\"button\"\n\t\t\t\t\t\t\t\t@click=\"mailvelopeAuthorizeDomain\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Step 2: Enable Mailvelope for the current domain') }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</NcAppSettingsSection>\n\n\t\t\t<NcAppSettingsSection id=\"autotagging-settings\" :name=\"t('mail', 'Assistance features')\">\n\t\t\t\t<p class=\"app-settings\">\n\t\t\t\t\t<NcCheckboxRadioSwitch id=\"auto-tagging-toggle\"\n\t\t\t\t\t\t:checked=\"useAutoTagging\"\n\t\t\t\t\t\t:loading=\"toggleAutoTagging\"\n\t\t\t\t\t\t@update:checked=\"onToggleAutoTagging\">\n\t\t\t\t\t\t{{ autoTaggingText }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</p>\n\t\t\t\t<p v-if=\"followUpFeatureAvailable\" class=\"app-settings\">\n\t\t\t\t\t<NcCheckboxRadioSwitch id=\"follow-up-reminder-toggle\"\n\t\t\t\t\t\t:checked=\"useFollowUpReminders\"\n\t\t\t\t\t\t:loading=\"loadingFollowUpReminders\"\n\t\t\t\t\t\t@update:checked=\"onToggleFollowUpReminders\">\n\t\t\t\t\t\t{{ followUpReminderText }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</p>\n\t\t\t</NcAppSettingsSection>\n\t\t\t<NcAppSettingsSection id=\"about-settings\" :name=\"t('mail', 'About')\">\n\t\t\t\t<p>{{ t('mail', 'This application includes CKEditor, an open-source editor. Copyright  CKEditor contributors. Licensed under GPLv2.') }}</p>\n\t\t\t</NcAppSettingsSection>\n\t\t\t<NcAppSettingsSection id=\"keyboard-shortcut-settings\" :name=\"t('mail', 'Keyboard shortcuts')\">\n\t\t\t\t<dl>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"C\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Compose new message') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Newer message') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Older message') }}</dd>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"S\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Toggle star') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"U\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Toggle unread') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"A\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Archive') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"Del\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Delete') }}</dd>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"Ctrl\" /><NcKbd symbol=\"F\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Search') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"Ctrl\" /><NcKbd symbol=\"Enter\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Send') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<dt><NcKbd symbol=\"R\" /></dt>\n\t\t\t\t\t\t<dd>{{ t('mail', 'Refresh') }}</dd>\n\t\t\t\t\t</div>\n\t\t\t\t</dl>\n\t\t\t</NcAppSettingsSection>\n\t\t\t<NcDialog :open.sync=\"textBlockDialogOpen\"\n\t\t\t\t:name=\"t('mail','New text block')\"\n\t\t\t\t:is-form=\"true\"\n\t\t\t\tsize=\"normal\">\n\t\t\t\t<NcInputField :value.sync=\"localTextBlock.title\" :label=\"t('mail','Title of the text block')\" />\n\t\t\t\t<TextEditor v-model=\"localTextBlock.content\"\n\t\t\t\t\t:is-bordered=\"true\"\n\t\t\t\t\t:html=\"true\"\n\t\t\t\t\t:placeholder=\"t('mail','Content of the text block')\"\n\t\t\t\t\t:bus=\"bus\"\n\t\t\t\t\t:show-toolbar=\"handleShowToolbar\" />\n\t\t\t\t<div class=\"text-block-buttons\">\n\t\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t\tclass=\"text-block-buttons__button\"\n\t\t\t\t\t\t@click=\"closeTextBlockDialog\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconClose :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Cancel') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t\tclass=\"text-block-buttons__button\"\n\t\t\t\t\t\t:disabled=\"!localTextBlock.title || !localTextBlock.content\"\n\t\t\t\t\t\t@click=\"newTextBlock\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconCheck :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Ok') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</NcDialog>\n\t\t</NcAppSettingsDialog>\n\t</div>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport { showError } from '@nextcloud/dialogs'\nimport CompactMode from 'vue-material-design-icons/ReorderHorizontal.vue'\n\nimport { NcAppSettingsSection, NcAppSettingsDialog, NcButton, NcCheckboxRadioSwitch, NcDialog, NcInputField } from '@nextcloud/vue'\nimport NcKbd from '@nextcloud/vue/dist/Components/NcKbd.js'\nimport TextEditor from './TextEditor.vue'\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconEmail from 'vue-material-design-icons/EmailOutline.vue'\nimport IconLock from 'vue-material-design-icons/LockOutline.vue'\nimport IconClose from 'vue-material-design-icons/Close.vue'\nimport IconCheck from 'vue-material-design-icons/Check.vue'\nimport VerticalSplit from 'vue-material-design-icons/FormatColumns.vue'\nimport HorizontalSplit from 'vue-material-design-icons/ViewSplitHorizontal.vue'\nimport Logger from '../logger.js'\nimport SmimeCertificateModal from './smime/SmimeCertificateModal.vue'\nimport TrustedSenders from './TrustedSenders.vue'\nimport InternalAddress from './InternalAddress.vue'\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores, mapState } from 'pinia'\nimport List from './textBlocks/List.vue'\nimport mitt from 'mitt'\n\nexport default {\n\tname: 'AppSettingsMenu',\n\tcomponents: {\n\t\tTrustedSenders,\n\t\tInternalAddress,\n\t\tNcButton,\n\t\tIconEmail,\n\t\tIconAdd,\n\t\tIconLock,\n\t\tIconClose,\n\t\tIconCheck,\n\t\tSmimeCertificateModal,\n\t\tNcCheckboxRadioSwitch,\n\t\tNcAppSettingsDialog,\n\t\tNcAppSettingsSection,\n\t\tNcKbd,\n\t\tCompactMode,\n\t\tVerticalSplit,\n\t\tHorizontalSplit,\n\t\tList,\n\t\tNcDialog,\n\t\tNcInputField,\n\t\tTextEditor,\n\t},\n\tmixins: [isMobile],\n\tprops: {\n\t\topen: {\n\t\t\trequired: true,\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadingAvatarSettings: false,\n\t\t\tprioritySettingsText: t('mail', 'Search in the body of messages in priority Inbox'),\n\t\t\tloadingPrioritySettings: false,\n\t\t\t// eslint-disable-next-line\n\t\t\toptOutSettingsText: t('mail', 'Activate'),\n\t\t\tloadingOptOutSettings: false,\n\t\t\tloadingInternalAddresses: false,\n\t\t\t// eslint-disable-next-line\n\t\t\treplySettingsText: t('mail', 'Put my text to the bottom of a reply instead of on top of it.'),\n\t\t\tloadingReplySettings: false,\n\t\t\t// eslint-disable-next-line\n\t\t\tautoTaggingText: t('mail', 'Mark as important'),\n\t\t\t// eslint-disable-next-line\n\t\t\tfollowUpReminderText: t('mail', 'Remind about messages that require a reply but received none'),\n\t\t\tinternalAddressText: t('mail', 'Use internal addresses'),\n\t\t\ttoggleAutoTagging: false,\n\t\t\tloadingFollowUpReminders: false,\n\t\t\tdisplaySmimeCertificateModal: false,\n\t\t\tsortOrder: 'newest',\n\t\t\tshowSettings: false,\n\t\t\tshowAccountSettings: false,\n\t\t\tshowMailSettings: true,\n\t\t\tselectedAccount: null,\n\t\t\tmailvelopeIsAvailable: false,\n\t\t\ttrapElements: [],\n\t\t\tbus: mitt(),\n\t\t\ttextBlockDialogOpen: false,\n\t\t\tlocalTextBlock: {\n\t\t\t\ttitle: '',\n\t\t\t\tcontent: '',\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\t...mapState(useMainStore, ['getAccounts', 'followUpFeatureAvailable', 'getMyTextBlocks', 'getSharedTextBlocks']),\n\t\tsearchPriorityBody() {\n\t\t\treturn this.mainStore.getPreference('search-priority-body', 'false') === 'true'\n\t\t},\n\t\tuseBottomReplies() {\n\t\t\treturn this.mainStore.getPreference('reply-mode', 'top') === 'bottom'\n\t\t},\n\t\tuseExternalAvatars() {\n\t\t\treturn this.mainStore.getPreference('external-avatars', 'true') === 'true'\n\t\t},\n\t\tuseDataCollection() {\n\t\t\treturn this.mainStore.getPreference('collect-data', 'true') === 'true'\n\t\t},\n\t\tuseAutoTagging() {\n\t\t\treturn this.mainStore.getPreference('tag-classified-messages', 'true') === 'true'\n\t\t},\n\t\tuseInternalAddresses() {\n\t\t\treturn this.mainStore.getPreference('internal-addresses', 'false') === 'true'\n\t\t},\n\t\tuseFollowUpReminders() {\n\t\t\treturn this.mainStore.getPreference('follow-up-reminders', 'true') === 'true'\n\t\t},\n\t\tallowNewMailAccounts() {\n\t\t\treturn this.mainStore.getPreference('allow-new-accounts', true)\n\t\t},\n\t\tlayoutMode() {\n\t\t\treturn this.mainStore.getPreference('layout-mode', 'vertical-split')\n\t\t},\n\t\tlayoutMessageView() {\n\t\t\treturn this.mainStore.getPreference('layout-message-view')\n\t\t},\n\t},\n\twatch: {\n\t\tshowSettings(value) {\n\t\t\tif (!value) {\n\t\t\t\tthis.$emit('update:open', value)\n\t\t\t}\n\t\t},\n\t\tasync open(value) {\n\t\t\tif (value) {\n\t\t\t\tawait this.onOpen()\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.sortOrder = this.mainStore.getPreference('sort-order', 'newest')\n\t\tdocument.addEventListener.call(window, 'mailvelope', () => this.checkMailvelope())\n\t\tif (!this.mainStore.areTextBlocksFetched()) {\n\t\t\tthis.mainStore.fetchMyTextBlocks()\n\t\t\tthis.mainStore.fetchSharedTextBlocks()\n\t\t}\n\t},\n\tupdated() {\n\t\tthis.checkMailvelope()\n\t},\n\tmethods: {\n\t\tcloseAccountSettings() {\n\t\t\tthis.showAccountSettings = false\n\t\t},\n\t\topenAccountSettings(accountId) {\n\t\t\tthis.mainStore.showSettingsForAccountMutation(accountId)\n\t\t\tthis.showSettings = false\n\t\t},\n\t\tcheckMailvelope() {\n\t\t\tthis.mailvelopeIsAvailable = !!window.mailvelope\n\t\t},\n\t\tasync setLayout(layoutMode) {\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'layout-mode',\n\t\t\t\t\tvalue: layoutMode,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('Could not save preferences', { error })\n\t\t\t}\n\t\t},\n\t\tasync setLayoutMessageView(value) {\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'layout-message-view',\n\t\t\t\t\tvalue,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('Could not save preferences', { error })\n\t\t\t}\n\t\t},\n\t\tasync onOpen() {\n\t\t\tthis.showSettings = true\n\t\t},\n\t\tonToggleButtonReplies(atBottom) {\n\t\t\tthis.loadingReplySettings = true\n\n\t\t\tthis.mainStore.savePreference({\n\t\t\t\tkey: 'reply-mode',\n\t\t\t\tvalue: atBottom ? 'bottom' : 'top',\n\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingReplySettings = false\n\t\t\t\t})\n\t\t},\n\t\tonToggleExternalAvatars(enabled) {\n\t\t\tthis.loadingAvatarSettings = true\n\n\t\t\tthis.mainStore.savePreference({\n\t\t\t\tkey: 'external-avatars',\n\t\t\t\tvalue: enabled ? 'true' : 'false',\n\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingAvatarSettings = false\n\t\t\t\t})\n\t\t},\n\t\tasync onToggleSearchPriorityBody(enabled) {\n\t\t\tthis.loadingPrioritySettings = true\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'search-priority-body',\n\t\t\t\t\tvalue: enabled ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('could not save preferences', { error })\n\t\t\t} finally {\n\t\t\t\tthis.loadingPrioritySettings = false\n\t\t\t}\n\t\t},\n\t\tonToggleCollectData(collect) {\n\t\t\tthis.loadingOptOutSettings = true\n\n\t\t\tthis.mainStore.savePreference({\n\t\t\t\tkey: 'collect-data',\n\t\t\t\tvalue: collect ? 'true' : 'false',\n\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingOptOutSettings = false\n\t\t\t\t})\n\t\t},\n\t\tasync onSortByDate(e) {\n\t\t\tconst previousValue = this.sortOrder\n\t\t\ttry {\n\t\t\t\tthis.sortOrder = e\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'sort-order',\n\t\t\t\t\tvalue: e,\n\t\t\t\t})\n\t\t\t\tthis.mainStore.removeAllEnvelopesMutation()\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('could not save preferences', { error })\n\t\t\t\tthis.sortOrder = previousValue\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t}\n\t\t},\n\t\tasync onToggleAutoTagging(enabled) {\n\t\t\tthis.toggleAutoTagging = true\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'tag-classified-messages',\n\t\t\t\t\tvalue: enabled ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('could not save preferences', { error })\n\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t} finally {\n\t\t\t\tthis.toggleAutoTagging = false\n\t\t\t}\n\t\t},\n\t\tasync onToggleFollowUpReminders(enabled) {\n\t\t\tthis.loadingFollowUpReminders = true\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'follow-up-reminders',\n\t\t\t\t\tvalue: enabled ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('Could not save preferences', { error })\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t} finally {\n\t\t\t\tthis.loadingFollowUpReminders = false\n\t\t\t}\n\t\t},\n\t\tasync onToggleInternalAddress(enabled) {\n\t\t\tthis.loadingInternalAddresses = true\n\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.savePreference({\n\t\t\t\t\tkey: 'internal-addresses',\n\t\t\t\t\tvalue: enabled ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('Could not save preferences', { error })\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t} finally {\n\t\t\t\tthis.loadingInternalAddresses = false\n\t\t\t}\n\t\t},\n\t\tregisterProtocolHandler() {\n\t\t\tif (window.navigator.registerProtocolHandler) {\n\t\t\t\tconst url\n\t\t\t\t\t= window.location.protocol + '//' + window.location.host + generateUrl('apps/mail/compose?uri=%s')\n\t\t\t\ttry {\n\t\t\t\t\twindow.navigator.registerProtocolHandler('mailto', url, OC.theme.name + ' Mail')\n\t\t\t\t} catch (err) {\n\t\t\t\t\tLogger.error('could not register protocol handler', { err })\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmailvelopeAuthorizeDomain() {\n\t\t\tconst iframe = document.createElement('iframe')\n\t\t\tiframe.style = 'display: none'\n\t\t\tiframe.src = 'https://api.mailvelope.com/authorize-domain/?api=true'\n\t\t\tdocument.body.append(iframe)\n\t\t},\n\t\thandleShowToolbar(element) {\n\t\t\tthis.trapElements.push(element)\n\t\t},\n\t\tnewTextBlock() {\n\t\t\tthis.mainStore.createTextBlock({ ...this.localTextBlock })\n\t\t\tthis.textBlockDialogOpen = false\n\t\t\tthis.localTextBlock = {\n\t\t\t\ttitle: '',\n\t\t\t\tcontent: '',\n\t\t\t}\n\t\t},\n\t\tcloseTextBlockDialog() {\n\t\t\tthis.textBlockDialogOpen = false\n\t\t\tthis.localTextBlock = {\n\t\t\t\ttitle: '',\n\t\t\t\tcontent: '',\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\np.app-settings {\n\tpadding: calc(var(--default-grid-baseline) * 2) 0;\n}\n\n.app-settings-button {\n\tdisplay: inline-flex;\n\tbackground-position: 10px center;\n\ttext-align: start;\n\tmargin-top: calc(var(--default-grid-baseline) * 2);\n}\n\n.app-settings-button.button.primary.new-button {\n\tcolor: var(--color-primary-element-text);\n\t//this style will be removed after we migrate also the  'add mail account' to material design\n\tpadding-inline-start: 34px;\n\tgap: var(--default-grid-baseline);\n\twidth: fit-content;\n}\n\n.app-settings-link {\n\ttext-decoration: underline;\n}\n\n:deep(.button-vue__text) {\n\ttext-overflow: clip;\n\twhite-space: normal;\n}\n\n:deep(.button-vue__wrapper) {\n\tjustify-content: flex-start;\n}\n\n.mailvelope-section {\n\tpadding-top: calc(var(--default-grid-baseline) * 4);\n\n\ta.button {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tline-height: normal;\n\t\tmin-height: calc(var(--default-grid-baseline) * 11);\n\t\tfont-size: unset;\n\t\tcolor: var(--color-primary-element-light-text);\n\t\twidth: fit-content;\n\n\t\t&:focus-visible,\n\t\t&:hover {\n\t\t\tbox-shadow: 0 0 0 1px var(--color-primary-element);\n\t\t}\n\t}\n}\n\n.material-design-icon {\n\t&.lock-icon {\n\t\tmargin-inline-end: calc(var(--default-grid-baseline) * 2);\n\t}\n\n}\n\n.section-title {\n\tmargin-top: calc(var(--default-grid-baseline) * 5);\n\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\n}\n\n.sorting {\n\tdisplay: flex;\n\twidth: 100%;\n\t&__switch{\n\t\twidth: 50%;\n\t}\n}\n\n.mail-creation-button {\n\twidth: 100%;\n}\n\n.settings-hint {\n\tmargin-top: calc(var(--default-grid-baseline) * -3);\n\tmargin-bottom: calc(var(--default-grid-baseline) * 2);\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.app-settings-section {\n\tlist-style: none;\n}\n\n.text-block-buttons {\n\twidth: 100%;\n\tjustify-self: end;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\t&__button {\n\t\tmargin: var(--default-grid-baseline);\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=f48d227c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=f48d227c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AppSettingsMenu.vue?vue&type=template&id=f48d227c&scoped=true\"\nimport script from \"./AppSettingsMenu.vue?vue&type=script&lang=js\"\nexport * from \"./AppSettingsMenu.vue?vue&type=script&lang=js\"\nimport style0 from \"./AppSettingsMenu.vue?vue&type=style&index=0&id=f48d227c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f48d227c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AppNavigation class=\"mail-navigation\">\n\t\t<template #search>\n\t\t\t<NewMessageButtonHeader class=\"mail-navigation__new-message-button\" />\n\t\t</template>\n\t\t<template #list>\n\t\t\t<!-- Special mailboxes first -->\n\t\t\t<NavigationMailbox v-for=\"mailbox in unifiedMailboxes\"\n\t\t\t\t:key=\"'mailbox-' + mailbox.databaseId\"\n\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t:mailbox=\"mailbox\" />\n\n\t\t\t<!-- All other mailboxes grouped by their account -->\n\t\t\t<template v-for=\"group in menu\">\n\t\t\t\t<NavigationAccount v-if=\"group.account\"\n\t\t\t\t\t:key=\"group.account.id\"\n\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t:first-mailbox=\"group.mailboxes[0]\"\n\t\t\t\t\t:is-first=\"isFirst(group.account)\"\n\t\t\t\t\t:is-last=\"isLast(group.account)\"\n\t\t\t\t\t:is-disabled=\"isDisabled(group.account)\" />\n\t\t\t\t<template v-if=\"!isDisabled(group.account)\">\n\t\t\t\t\t<template v-for=\"item in group.mailboxes\">\n\t\t\t\t\t\t<NavigationMailbox v-show=\"\n\t\t\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t\t\t!isCollapsed(group.account, item)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t:key=\"'mailbox-' + item.databaseId\"\n\t\t\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t\t\t:mailbox=\"item\" />\n\t\t\t\t\t\t<NavigationMailbox v-if=\"!group.account.isUnified && item.specialRole === 'inbox'\"\n\t\t\t\t\t\t\t:key=\"item.databaseId + '-starred'\"\n\t\t\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t\t\t:mailbox=\"item\"\n\t\t\t\t\t\t\tfilter=\"starred\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<NavigationAccountExpandCollapse v-if=\"!group.account.isUnified && group.isCollapsible\"\n\t\t\t\t\t\t:key=\"'collapse-' + group.account.id\"\n\t\t\t\t\t\t:account=\"group.account\" />\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</template>\n\t\t<template #footer>\n\t\t\t<div v-if=\"outboxMessages.length !== 0\" class=\"outbox__border\">\n\t\t\t\t<NavigationOutbox class=\"outbox\" />\n\t\t\t</div>\n\t\t\t<div class=\"mail-settings\">\n\t\t\t\t<AppNavigationItem class=\"mail-settings__button\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t:name=\"t('mail', 'Mail settings')\"\n\t\t\t\t\t@click=\"showMailSettings\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconSetting :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</AppNavigationItem>\n\t\t\t</div>\n\t\t</template>\n\t\t<AppSettingsMenu :open.sync=\"showSettings\" />\n\t</AppNavigation>\n</template>\n\n<script>\nimport { NcAppNavigation as AppNavigation, NcAppNavigationItem as AppNavigationItem } from '@nextcloud/vue'\nimport NewMessageButtonHeader from './NewMessageButtonHeader.vue'\n\nimport NavigationAccount from './NavigationAccount.vue'\nimport NavigationAccountExpandCollapse from './NavigationAccountExpandCollapse.vue'\nimport NavigationMailbox from './NavigationMailbox.vue'\nimport NavigationOutbox from './NavigationOutbox.vue'\nimport IconSetting from 'vue-material-design-icons/CogOutline.vue'\nimport AppSettingsMenu from '../components/AppSettingsMenu.vue'\nimport { UNIFIED_ACCOUNT_ID } from '../store/constants.js'\nimport useOutboxStore from '../store/outboxStore.js'\nimport useMainStore from '../store/mainStore.js'\nimport { mapStores } from 'pinia'\n\nexport default {\n\tname: 'Navigation',\n\tcomponents: {\n\t\tAppNavigation,\n\t\tAppSettingsMenu,\n\t\tNavigationAccount,\n\t\tNavigationAccountExpandCollapse,\n\t\tNavigationMailbox,\n\t\tNavigationOutbox,\n\t\tNewMessageButtonHeader,\n\t\tIconSetting,\n\t\tAppNavigationItem,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trefreshing: false,\n\t\t\tshowSettings: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useOutboxStore, useMainStore),\n\t\tmenu() {\n\t\t\treturn this.mainStore.getAccounts\n\t\t\t\t.filter(account => account.id !== UNIFIED_ACCOUNT_ID)\n\t\t\t\t.map(account => {\n\t\t\t\t\tconst mailboxes = this.mainStore.getMailboxes(account.id)\n\t\t\t\t\tconst nonSpecialRoleMailboxes = mailboxes.filter(\n\t\t\t\t\t\t(mailbox) => this.isCollapsed(account, mailbox),\n\t\t\t\t\t)\n\t\t\t\t\tconst isCollapsible = nonSpecialRoleMailboxes.length > 1\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: account.id,\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tmailboxes,\n\t\t\t\t\t\tisCollapsible,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t},\n\t\tunifiedAccount() {\n\t\t\treturn this.mainStore.getAccount(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\tunifiedMailboxes() {\n\t\t\treturn this.mainStore.getMailboxes(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\t/**\n\t\t * Whether the current session is using passwordless authentication.\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tpasswordIsUnavailable() {\n\t\t\treturn this.mainStore.getPreference('password-is-unavailable', false)\n\t\t},\n\t\toutboxMessages() {\n\t\t\treturn this.outboxStore.getAllMessages\n\t\t},\n\t},\n\tmethods: {\n\t\tshowMailSettings() {\n\t\t\tthis.showSettings = true\n\t\t},\n\t\tisCollapsed(account, mailbox) {\n\t\t\tif (mailbox.specialRole === 'inbox') {\n\t\t\t\t// INBOX is always visible\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tif (mailbox.databaseId === account.draftsMailboxId\n\t\t\t\t|| mailbox.databaseId === account.sentMailboxId\n\t\t\t\t|| mailbox.databaseId === account.trashMailboxId) {\n\t\t\t\t// Special folders are always visible\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn true\n\t\t},\n\t\tisFirst(account) {\n\t\t\tconst accounts = this.mainStore.getAccounts\n\t\t\treturn account === accounts[1]\n\t\t},\n\t\tisLast(account) {\n\t\t\tconst accounts = this.mainStore.getAccounts\n\t\t\treturn account === accounts[accounts.length - 1]\n\t\t},\n\t\t/**\n\t\t * Disable provisioned accounts when no password is available.\n\t\t * Loading messages of those accounts will fail and an endless spinner will be shown.\n\t\t *\n\t\t * @param {object} account Account object\n\t\t * @return {boolean} True if the account should be disabled\n\t\t */\n\t\tisDisabled(account) {\n\n\t\t\treturn (this.passwordIsUnavailable && !!account.provisioningId) && !!this.mainStore.masterPasswordEnabled\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@keyframes rotation {\nfrom {\n\ttransform: rotate(-0deg);\n}\nto {\n\t\ttransform: rotate(-360deg);\n\t}\n}\n\n.mail-navigation {\n\t&__new-message-button {\n\t\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\n\t}\n}\n\n.outbox {\n\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\n\tpadding-bottom: 0;\n\n\twidth: auto;\n\t&__border {\n\t\tborder-top: 1px solid var(--color-background-darker);\n\t}\n}\n\n.mail-settings {\n\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\n\tpadding-top: 0;\n\n\t&__button {\n\t\tdisplay: flex;\n\t\twidth: 100% !important;\n\t\tjustify-content: start !important;\n\t}\n}\n\n.v-popper__inner {\n\theight: unset !important;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=0&id=40b484c6&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=0&id=40b484c6&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=40b484c6&scoped=true\"\nimport script from \"./Navigation.vue?vue&type=script&lang=js\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js\"\nimport style0 from \"./Navigation.vue?vue&type=style&index=0&id=40b484c6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40b484c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('ButtonVue',{attrs:{\"aria-label\":_vm.t('mail', 'New message'),\"type\":\"secondary\",\"button-id\":\"mail_new_message\",\"wide\":true},on:{\"click\":_vm.onNewMessage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'New message'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.showRefresh && _vm.currentMailbox)?_c('ButtonVue',{staticClass:\"refresh__button\",attrs:{\"aria-label\":_vm.t('mail', 'Refresh'),\"type\":\"tertiary-no-background\",\"disabled\":_vm.refreshing},on:{\"click\":_vm.refreshMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.refreshing)?_c('IconRefresh',{attrs:{\"size\":20}}):_vm._e(),_vm._v(\" \"),(_vm.refreshing)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}],null,false,2669673868)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"header\">\n\t\t<ButtonVue :aria-label=\"t('mail', 'New message')\"\n\t\t\ttype=\"secondary\"\n\t\t\tbutton-id=\"mail_new_message\"\n\t\t\t:wide=\"true\"\n\t\t\t@click=\"onNewMessage\">\n\t\t\t<template #icon>\n\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'New message') }}\n\t\t</ButtonVue>\n\t\t<ButtonVue v-if=\"showRefresh && currentMailbox\"\n\t\t\t:aria-label=\"t('mail', 'Refresh')\"\n\t\t\ttype=\"tertiary-no-background\"\n\t\t\tclass=\"refresh__button\"\n\t\t\t:disabled=\"refreshing\"\n\t\t\t@click=\"refreshMailbox\">\n\t\t\t<template #icon>\n\t\t\t\t<IconRefresh v-if=\"!refreshing\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconLoading v-if=\"refreshing\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t</template>\n\t\t</ButtonVue>\n\t</div>\n</template>\n\n<script>\nimport { NcButton as ButtonVue } from '@nextcloud/vue'\nimport IconAdd from 'vue-material-design-icons/Plus.vue'\nimport IconRefresh from 'vue-material-design-icons/Refresh.vue'\nimport IconLoading from '@nextcloud/vue/components/NcLoadingIcon'\nimport logger from '../logger.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'NewMessageButtonHeader',\n\tcomponents: {\n\t\tButtonVue,\n\t\tIconAdd,\n\t\tIconRefresh,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\tshowRefresh: {\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trefreshing: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\tcurrentMailbox() {\n\t\t\tif (this.$route.name === 'message' || this.$route.name === 'mailbox') {\n\t\t\t\treturn this.mainStore.getMailbox(this.$route.params.mailboxId)\n\t\t\t}\n\t\t\treturn undefined\n\t\t},\n\t},\n\tmethods: {\n\t\tasync refreshMailbox() {\n\t\t\tif (this.refreshing === true) {\n\t\t\t\tlogger.debug('already sync\\'ing mailbox.. aborting')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.refreshing = true\n\t\t\ttry {\n\t\t\t\tawait this.mainStore.syncEnvelopes({ mailboxId: this.currentMailbox.databaseId })\n\t\t\t\tlogger.debug('Current folder is sync\\'ing ')\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not sync current folder', { error })\n\t\t\t} finally {\n\t\t\t\tthis.refreshing = false\n\t\t\t}\n\t\t},\n\t\tasync onNewMessage() {\n\t\t\tawait this.mainStore.startComposerSession({\n\t\t\t\tisBlankMessage: true,\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: var(--default-grid-baseline);\n}\n\n.refresh__button {\n\tbackground-color: transparent;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=style&index=0&id=2d5c36ea&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=style&index=0&id=2d5c36ea&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NewMessageButtonHeader.vue?vue&type=template&id=2d5c36ea&scoped=true\"\nimport script from \"./NewMessageButtonHeader.vue?vue&type=script&lang=js\"\nexport * from \"./NewMessageButtonHeader.vue?vue&type=script&lang=js\"\nimport style0 from \"./NewMessageButtonHeader.vue?vue&type=style&index=0&id=2d5c36ea&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d5c36ea\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.editor-wrapper--bordered[data-v-b546fe84]{--border-offset: calc(var(--border-width-input-focused, 2px) - var(--border-width-input, 2px));margin-top:var(--default-grid-baseline);border:var(--border-width-input, 2px) solid var(--color-border-maxcontrast);border-radius:var(--border-radius-large);height:200px;padding:9px}.editor-wrapper--bordered[data-v-b546fe84] .ck.ck-editor__editable_inline{padding:0 !important}.editor-wrapper--bordered[data-v-b546fe84]:focus{padding:calc(9px - var(--border-offset));border-color:var(--color-main-text);border-width:var(--border-width-input-focused, 2px)}.editor-wrapper--bordered[data-v-b546fe84]:hover{padding:calc(9px - var(--border-offset));border-color:var(--color-main-text);border-width:var(--border-width-input-focused, 2px)}.editor[data-v-b546fe84]{width:100%;height:calc(100% - 75px);overflow:scroll;margin-bottom:10px}.editor.ck[data-v-b546fe84]{border:none !important;box-shadow:none !important;padding:0}[data-v-b546fe84] a{color:#07d}[data-v-b546fe84] p{cursor:text;margin:0 !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\"AACA,2CACC,8FAAA,CACA,uCAAA,CACA,2EAAA,CACA,wCAAA,CACA,YAAA,CAEA,WAAA,CAEA,0EACC,oBAAA,CAED,iDACC,wCAAA,CACA,mCAAA,CACA,mDAAA,CAED,iDACC,wCAAA,CACA,mCAAA,CACA,mDAAA,CAIF,yBACC,UAAA,CACA,wBAAA,CACA,eAAA,CACA,kBAAA,CAEA,4BACC,sBAAA,CACA,0BAAA,CACA,SAAA,CAIF,oBACC,UAAA,CAGD,oBACC,WAAA,CACA,mBAAA\",\"sourcesContent\":[\"\\n.editor-wrapper--bordered{\\n\\t--border-offset: calc(var(--border-width-input-focused, 2px) - var(--border-width-input, 2px));\\n\\tmargin-top: var(--default-grid-baseline);\\n\\tborder: var(--border-width-input, 2px) solid var(--color-border-maxcontrast);\\n\\tborder-radius:var(--border-radius-large);\\n\\theight: 200px;\\n\\t// to align with the text input in the text block modal\\n\\tpadding: 9px;\\n\\n\\t:deep(.ck.ck-editor__editable_inline) {\\n\\t\\tpadding:0 !important;\\n\\t}\\n\\t&:focus {\\n\\t\\tpadding: calc(9px - var(--border-offset));\\n\\t\\tborder-color: var(--color-main-text);\\n\\t\\tborder-width: var(--border-width-input-focused, 2px);\\n\\t}\\n\\t&:hover {\\n\\t\\tpadding: calc(9px - var(--border-offset));\\n\\t\\tborder-color: var(--color-main-text);\\n\\t\\tborder-width: var(--border-width-input-focused, 2px);\\n\\t}\\n}\\n\\n.editor {\\n\\twidth: 100%;\\n\\theight: calc(100% - 75px);\\n\\toverflow: scroll;\\n\\tmargin-bottom: 10px;\\n\\n\\t&.ck {\\n\\t\\tborder: none !important;\\n\\t\\tbox-shadow: none !important;\\n\\t\\tpadding: 0;\\n\\t}\\n}\\n\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.text-block-list-item[data-v-51280ad6]{padding-inline-start:0px !important;padding-inline-end:0px !important}.text-block-list-item[data-v-51280ad6] .list-item-content{padding:0px !important}.text-block-buttons[data-v-51280ad6]{width:100%;justify-self:end;display:flex;justify-content:flex-end}.text-block-buttons__button[data-v-51280ad6]{margin:var(--default-grid-baseline)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/textBlocks/ListItem.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,mCAAA,CACA,iCAAA,CACA,0DACC,sBAAA,CAIF,qCACC,UAAA,CACA,gBAAA,CACA,YAAA,CACA,wBAAA,CACA,6CACC,mCAAA\",\"sourcesContent\":[\"\\n.text-block-list-item {\\n\\tpadding-inline-start: 0px !important;\\n\\tpadding-inline-end: 0px !important;\\n\\t:deep(.list-item-content) {\\n\\t\\tpadding: 0px !important;\\n\\t}\\n}\\n\\n.text-block-buttons {\\n\\twidth: 100%;\\n\\tjustify-self: end;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\t&__button {\\n\\t\\tmargin: var(--default-grid-baseline);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n.ck .ck-reset {\n\tbackground: var(--color-main-background) !important;\n}\n/* Default ckeditor value of padding-inline-start, to overwrite the global styling from server */\n.ck-content ul, .ck-content ol {\n\tpadding-inline-start: 40px;\n}\n.ck-read-only {\n\tcolor: var(--color-main-text) !important;\n\tbackground-color: var(--color-main-background) !important;\n\topacity: 1 !important;\n\tfont-size: 100% !important;\n}\n.ck-list__item {\n.ck-off {\n\t\tbackground:var(--color-main-background) !important;\n}\n.ck-on {\n\t\tbackground:var(--color-primary-element-light) !important;\n}\n}\n.custom-item-username {\n\tcolor: var(--color-main-text) !important;\n}\n.link-title {\n\tcolor: var(--color-main-text) !important;\n\tmargin-inline-start: var(--default-grid-baseline) !important;\n}\n.custom-item {\n\twidth : 100% !important;\n\tborder-radius : 8px !important;\n\tpadding : 4px 8px !important;\n\tdisplay :block;\n\tbackground:var(--color-main-background)!important;\n}\n.custom-item:hover {\n\tbackground:var(--color-primary-element-light)!important;\n}\n.link-container{\n\tborder-radius :8px !important;\n\tpadding :4px 8px !important;\n\tdisplay : block;\n\twidth : 100% !important;\n\tbackground:var(--color-main-background)!important;\nimg.link-icon {\n\t\twidth: 16px;\n\t\theight: 16px;\n}\n}\n.link-container:hover {\n\tbackground:var(--color-primary-element-light)!important;\n}\n:root {\n\t--ck-z-default: 10000;\n\t--ck-balloon-border-width:  0;\n}\n.ck.ck-toolbar {\n\tborder-radius: var(--border-radius-large) !important;\n\tbackground: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n\tborder: 1px solid var(--color-text-maxcontrast) !important;\n}\n.ck-rounded-corners .ck.ck-dropdown__panel, .ck.ck-dropdown__panel.ck-rounded-corners {\n\tborder-radius: var(--border-radius-large) !important;\n\toverflow: visible;\n}\n.ck.ck-list-styles-list {\n/* our composer is very small, having menus vertically shown is better */\n\tgrid-template-rows: repeat(3,auto) !important;\n\tgrid-template-columns: unset !important;\n}\n.ck.ck-button {\n\tborder-radius: var(--border-radius-element) !important;\n}\n.ck-powered-by-balloon {\n\tdisplay: none !important;\n}\n.editor-wrapper {\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\theight: 100%;\n.toolbar {\n\t\tposition: sticky;\n\t\tbottom: 0;\n\t\tz-index: 10;\n}\n.editable {\n\t\tflex-grow: 1;\n\t\toverflow-y: auto;\n}\n}\n.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable) {\n\tborder: none;\n\tbox-shadow: none;\n\twidth: 99%;\n\theight: 97%;\n}\n.ck.ck-button, a.ck.ck-button {\n\tfont-size: small;\n\tfont-weight: normal;\n}\n.ck-source-editing-area {\n\theight: 97%;\n\toverflow: scroll;\n}\n.ck-source-editing-area textarea {\n\tborder: 0;\n}\n.ck.ck-editor__editable_inline {\n\twidth: 99%;\n\theight: 97%;\n\tborder: 0;\n}\n.select, button:not(.button-vue,[class^=vs__]), .button, input[type=button], input[type=submit], input[type=reset] {\n\tcolor: var(--color-main-text);\n}\n\n/* We need the paragraph field a bit smaller so it doesnt break the toolbar for signature */\n.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label {\n\twidth: 6em !important;\n}\n.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content {\n\tborder: none;\n}\n.ck.ck-balloon-panel_visible {\n    border-radius: calc(var(--border-radius-large) + 1px) !important;\n    background: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n}\n.ck.ck-tooltip__text{\n\tcolor: var(--color-main-text) !important;\n}\n.ck.ck-toolbar .ck-button {\n\tcolor: var(--color-main-text) !important;\n}\n.ck.ck-toolbar .ck-button:hover,\n.ck.ck-toolbar .ck-button.ck-on,\n.ck.ck-toolbar .ck-button:focus {\n\tbackground: var(--color-primary-element-light) !important;\n    color: var(--color-main-text) !important;\n}\n.ck.ck-toolbar .ck-button .ck-button__label {\n\tcolor: var(--color-main-text) !important;\n}\n.ck.ck-dropdown__panel .ck.ck-list {\n\tborder-radius: var(--border-radius-large) !important;\n}\n.ck-dropdown__panel.ck-dropdown__panel-visible {\n\tborder-radius: var(--border-radius-large) !important;\n}\n\n/* Needs to be set to flex, bececause else it breaks the toolbar - it is shown in 2 lines instead of 1 */\n.ck.ck-splitbutton.ck-dropdown__button{\n\tdisplay: flex !important;\n}\n.ck.ck-input.ck-input-text{\n\tbackground: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n\tcursor: text !important;\n}\n.ck.ck-labeled-field-view__input-wrapper .ck.ck-label {\n\tbackground: var(--color-main-background) !important;\n    color: var(--color-main-text) !important;\n}\n.ck.ck-button.ck-splitbutton__action {\n    margin: 0 !important;\n}\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-button,\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-splitbutton__action,\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-splitbutton__arrow {\n\tbackground: var(--color-primary-element-light) !important;\n\tcolor: var(--color-main-text) !important;\n}\n.ck.ck-splitbutton .ck-button:focus,\n.ck.ck-splitbutton .ck-button:focus-visible,\n.ck.ck-splitbutton .ck-button:active,\n.ck.ck-splitbutton .ck-button.ck-on {\n\tbackground: var(--color-primary-element-light) !important;\n\tcolor: var(--color-main-text) !important;\n\toutline: none !important;\n}\n.ck.ck-splitbutton.ck-splitbutton_open .ck-button,\n.ck.ck-splitbutton.ck-splitbutton_open .ck-splitbutton__action,\n.ck.ck-splitbutton.ck-splitbutton_open .ck-splitbutton__arrow {\n    background: var(--color-primary-element-light) !important;\n    color: var(--color-main-text) !important;\n}\n\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\";AAkfA;;;EAGA;AACA;CACA,mDAAA;AACA;AACA,gGAAA;AACA;CACA,0BAAA;AACA;AAEA;CACA,wCAAA;CACA,yDAAA;CACA,qBAAA;CACA,0BAAA;AACA;AAEA;AACA;EACA,kDAAA;AACA;AACA;EACA,wDAAA;AACA;AACA;AAEA;CACA,wCAAA;AACA;AAEA;CACA,wCAAA;CACA,4DAAA;AACA;AAEA;CACA,uBAAA;CACA,8BAAA;CACA,4BAAA;CACA,cAAA;CACA,iDAAA;AACA;AAEA;CACA,uDAAA;AACA;AAEA;CACA,6BAAA;CACA,2BAAA;CACA,eAAA;CACA,uBAAA;CACA,iDAAA;AACA;EACA,WAAA;EACA,YAAA;AACA;AACA;AAEA;CACA,uDAAA;AACA;AAEA;CACA,qBAAA;CACA,6BAAA;AACA;AAEA;CACA,oDAAA;CACA,mDAAA;IACA,wCAAA;CACA,0DAAA;AACA;AAEA;CACA,oDAAA;CACA,iBAAA;AACA;AAEA;AACA,wEAAA;CACA,6CAAA;CACA,uCAAA;AACA;AAEA;CACA,sDAAA;AACA;AAEA;CACA,wBAAA;AACA;AAEA;CACA,aAAA;CACA,8BAAA;CACA,YAAA;AAEA;EACA,gBAAA;EACA,SAAA;EACA,WAAA;AACA;AAEA;EACA,YAAA;EACA,gBAAA;AACA;AACA;AAEA;CACA,YAAA;CACA,gBAAA;CACA,UAAA;CACA,WAAA;AACA;AAEA;CACA,gBAAA;CACA,mBAAA;AACA;AAEA;CACA,WAAA;CACA,gBAAA;AACA;AAEA;CACA,SAAA;AACA;AAEA;CACA,UAAA;CACA,WAAA;CACA,SAAA;AACA;AAEA;CACA,6BAAA;AACA;;AAEA,2FAAA;AACA;CACA,qBAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;IACA,gEAAA;IACA,mDAAA;IACA,wCAAA;IACA,sCAAA;AACA;AAEA;CACA,wCAAA;AACA;AAEA;CACA,wCAAA;AACA;AAEA;;;CAGA,yDAAA;IACA,wCAAA;AACA;AAEA;CACA,wCAAA;AACA;AAEA;CACA,oDAAA;AACA;AAEA;CACA,oDAAA;AACA;;AAEA,wGAAA;AACA;CACA,wBAAA;AACA;AAEA;CACA,mDAAA;IACA,wCAAA;CACA,uBAAA;AACA;AAEA;CACA,mDAAA;IACA,wCAAA;AACA;AAEA;IACA,oBAAA;AACA;AAEA;;;CAGA,yDAAA;CACA,wCAAA;AACA;AAEA;;;;CAIA,yDAAA;CACA,wCAAA;CACA,wBAAA;AACA;AAEA;;;IAGA,yDAAA;IACA,wCAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div :class=\\\"{ 'editor-wrapper--bordered': isBordered }\\\" class=\\\"editor-wrapper\\\">\\n\\t\\t<div ref=\\\"toolbarContainer\\\" class=\\\"toolbar\\\" />\\n\\n\\t\\t<div ref=\\\"editableContainer\\\" class=\\\"editable\\\" />\\n\\n\\t\\t<ckeditor v-if=\\\"ready\\\"\\n\\t\\t\\t:value=\\\"value\\\"\\n\\t\\t\\t:config=\\\"config\\\"\\n\\t\\t\\t:editor=\\\"editor\\\"\\n\\t\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t\\tclass=\\\"editor\\\"\\n\\t\\t\\t@input=\\\"onEditorInput\\\"\\n\\t\\t\\t@ready=\\\"onEditorReady\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment.js'\\nimport { Mention } from '@ckeditor/ckeditor5-mention'\\nimport Editor from '@ckeditor/ckeditor5-editor-classic/src/classiceditor.js'\\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials.js'\\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote.js'\\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold.js'\\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font.js'\\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph.js'\\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading.js'\\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic.js'\\nimport Underline from '@ckeditor/ckeditor5-basic-styles/src/underline.js'\\nimport Superscript from '@ckeditor/ckeditor5-basic-styles/src/superscript.js'\\nimport Subscript from '@ckeditor/ckeditor5-basic-styles/src/subscript.js'\\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link.js'\\nimport ListPlugin from '@ckeditor/ckeditor5-list/src/list.js'\\nimport ListProperties from '@ckeditor/ckeditor5-list/src/listproperties.js'\\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat.js'\\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin.js'\\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough.js'\\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin.js'\\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter.js'\\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image.js'\\nimport FindAndReplace from '@ckeditor/ckeditor5-find-and-replace/src/findandreplace.js'\\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize.js'\\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload.js'\\nimport GeneralHtmlSupport from '@ckeditor/ckeditor5-html-support/src/generalhtmlsupport.js'\\nimport { DropdownView } from '@ckeditor/ckeditor5-ui'\\nimport MailPlugin from '../ckeditor/mail/MailPlugin.js'\\nimport { searchProvider, getLinkWithPicker } from '@nextcloud/vue/components/NcRichText'\\nimport { getLanguage } from '@nextcloud/l10n'\\nimport logger from '../logger.js'\\nimport PickerPlugin from '../ckeditor/smartpicker/PickerPlugin.js'\\nimport { autoCompleteByName } from '../service/ContactIntegrationService.js'\\nimport { emojiSearch, emojiAddRecent } from '@nextcloud/vue'\\nimport { toPlain, Text } from '../util/text.js'\\nexport default {\\n\\tname: 'TextEditor',\\n\\tcomponents: {\\n\\t\\tckeditor: CKEditor.component,\\n\\t},\\n\\tprops: {\\n\\t\\tvalue: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\thtml: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tplaceholder: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\tfocus: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tbus: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tdisabled: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\ttextBlocks: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\tdefault: () => [],\\n\\t\\t},\\n\\t\\tisBordered: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\treadOnly: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\tconst plugins = [\\n\\t\\t\\tEssentialsPlugin,\\n\\t\\t\\tParagraphPlugin,\\n\\t\\t\\tSignaturePlugin,\\n\\t\\t\\tQuotePlugin,\\n\\t\\t\\tPickerPlugin,\\n\\t\\t\\tMention,\\n\\t\\t\\tLinkPlugin,\\n\\t\\t\\tFindAndReplace,\\n\\t\\t\\tGeneralHtmlSupport,\\n\\t\\t]\\n\\t\\tconst toolbar = ['undo', 'redo']\\n\\n\\t\\tif (this.html) {\\n\\t\\t\\tplugins.push(...[\\n\\t\\t\\t\\tHeadingPlugin,\\n\\t\\t\\t\\tAlignmentPlugin,\\n\\t\\t\\t\\tBoldPlugin,\\n\\t\\t\\t\\tItalicPlugin,\\n\\t\\t\\t\\tUnderline,\\n\\t\\t\\t\\tStrikethroughPlugin,\\n\\t\\t\\t\\tSubscript,\\n\\t\\t\\t\\tSuperscript,\\n\\t\\t\\t\\tBlockQuotePlugin,\\n\\t\\t\\t\\tListPlugin,\\n\\t\\t\\t\\tImagePlugin,\\n\\t\\t\\t\\tImageUploadPlugin,\\n\\t\\t\\t\\tImageResizePlugin,\\n\\t\\t\\t\\tListProperties,\\n\\t\\t\\t\\tFontPlugin,\\n\\t\\t\\t\\tRemoveFormat,\\n\\t\\t\\t\\tBase64UploadAdapter,\\n\\t\\t\\t\\tMailPlugin,\\n\\t\\t\\t])\\n\\t\\t\\ttoolbar.unshift(...[\\n\\t\\t\\t\\t'heading',\\n\\t\\t\\t\\t'fontFamily',\\n\\t\\t\\t\\t'fontSize',\\n\\t\\t\\t\\t'bold',\\n\\t\\t\\t\\t'italic',\\n\\t\\t\\t\\t'underline',\\n\\t\\t\\t\\t'strikethrough',\\n\\t\\t\\t\\t'fontColor',\\n\\t\\t\\t\\t'subscript',\\n\\t\\t\\t\\t'superscript',\\n\\t\\t\\t\\t'fontBackgroundColor',\\n\\t\\t\\t\\t'insertImage',\\n\\t\\t\\t\\t'alignment',\\n\\t\\t\\t\\t'bulletedList',\\n\\t\\t\\t\\t'numberedList',\\n\\t\\t\\t\\t'blockquote',\\n\\t\\t\\t\\t'link',\\n\\t\\t\\t\\t'removeFormat',\\n\\t\\t\\t\\t'findAndReplace',\\n\\t\\t\\t])\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tlinkTribute: null,\\n\\t\\t\\temojiTribute: null,\\n\\t\\t\\ttextSmiles: [],\\n\\t\\t\\tready: false,\\n\\t\\t\\teditor: Editor,\\n\\t\\t\\tconfig: {\\n\\t\\t\\t\\tlicenseKey: 'GPL',\\n\\t\\t\\t\\tplaceholder: this.placeholder,\\n\\t\\t\\t\\tplugins,\\n\\t\\t\\t\\ttoolbar: {\\n\\t\\t\\t\\t\\titems: toolbar,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tlanguage: 'en',\\n\\t\\t\\t\\tmention: {\\n\\t\\t\\t\\t\\tfeeds: [\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tmarker: ':',\\n\\t\\t\\t\\t\\t\\t\\tfeed: this.getEmoji,\\n\\t\\t\\t\\t\\t\\t\\titemRenderer: this.customEmojiRenderer,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tmarker: '/',\\n\\t\\t\\t\\t\\t\\t\\tfeed: this.getLink,\\n\\t\\t\\t\\t\\t\\t\\titemRenderer: this.customLinkRenderer,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tmarker: '@',\\n\\t\\t\\t\\t\\t\\t\\tfeed: this.getContact,\\n\\t\\t\\t\\t\\t\\t\\titemRenderer: this.customRenderer,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tmarker: '!',\\n\\t\\t\\t\\t\\t\\t\\tfeed: this.getTextBlock,\\n\\t\\t\\t\\t\\t\\t\\titemRenderer: this.customRenderer,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t],\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t}\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tthis.loadEditorTranslations(getLanguage())\\n\\t},\\n\\tmethods: {\\n\\t\\tgetLink(text) {\\n\\t\\t\\tconst results = searchProvider(text)\\n\\t\\t\\tif (results.length === 1 && !results[0].title.toLowerCase().includes(text.toLowerCase())) {\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\treturn results\\n\\t\\t},\\n\\t\\tgetEmoji(text) {\\n\\t\\t\\t// Disable the emoji picker if a [space] is the first character after the colon ':'\\n\\t\\t\\tif (text[0] === ' ') {\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\tconst emojiResults = emojiSearch(text)\\n\\t\\t\\tif (this.textSmiles.includes(':' + text)) {\\n\\n\\t\\t\\t\\temojiResults.unshift(':' + text)\\n\\t\\t\\t}\\n\\t\\t\\treturn emojiResults\\n\\t\\t},\\n\\t\\tasync getContact(text) {\\n\\t\\t\\tif (text.length === 0) {\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\tlet contactResults = await autoCompleteByName(text)\\n\\t\\t\\tcontactResults = contactResults.filter(result => result.email.length > 0)\\n\\t\\t\\treturn contactResults\\n\\t\\t},\\n\\t\\tgetTextBlock(text) {\\n\\t\\t\\tif (text.length === 0) {\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\treturn this.textBlocks.filter(textBlock => textBlock.title.toLowerCase().includes(text.toLowerCase()))\\n\\t\\t},\\n\\t\\t customEmojiRenderer(item) {\\n\\t\\t\\tconst itemElement = document.createElement('span')\\n\\n\\t\\t\\titemElement.classList.add('custom-item')\\n\\t\\t\\titemElement.id = `mention-list-item-id-${item.colons}`\\n\\t\\t\\titemElement.textContent = `${item.native} `\\n\\t\\t\\tconst usernameElement = document.createElement('span')\\n\\n\\t\\t\\tusernameElement.classList.add('custom-item-username')\\n\\t\\t\\tusernameElement.textContent = item.colons\\n\\n\\t\\t\\titemElement.appendChild(usernameElement)\\n\\n\\t\\t\\treturn itemElement\\n\\t\\t},\\n\\t\\tcustomLinkRenderer(item) {\\n\\t\\t\\tconst itemElement = document.createElement('span')\\n\\t\\t\\titemElement.classList.add('link-container')\\n\\n\\t\\t\\tconst icon = document.createElement('img')\\n\\t\\t\\ticon.classList.add('link-icon')\\n\\t\\t\\ticon.src = `${item.icon_url} `\\n\\n\\t\\t\\tconst usernameElement = document.createElement('span')\\n\\n\\t\\t\\tusernameElement.classList.add('link-title')\\n\\t\\t\\tusernameElement.textContent = `${item.title} `\\n\\t\\t\\titemElement.appendChild(icon)\\n\\t\\t\\titemElement.appendChild(usernameElement)\\n\\n\\t\\t\\treturn itemElement\\n\\t\\t},\\n\\t\\tcustomRenderer(item, type) {\\n\\t\\t\\tconst itemElement = document.createElement('span')\\n\\n\\t\\t\\titemElement.classList.add('custom-item')\\n\\t\\t\\titemElement.id = `mention-list-item-id-${item.id}`\\n\\t\\t\\tconst usernameElement = document.createElement('p')\\n\\t\\t\\tconst label = type === 'contact' ? item.label : item.title\\n\\t\\t\\tusernameElement.classList.add('custom-item-username')\\n\\t\\t\\tusernameElement.textContent = label\\n\\n\\t\\t\\titemElement.appendChild(usernameElement)\\n\\n\\t\\t\\treturn itemElement\\n\\t\\t},\\n\\t\\toverrideDropdownPositionsToNorth(editor, toolbarView) {\\n\\t\\t\\tconst {\\n\\t\\t\\t\\tsouth, north, southEast, southWest, northEast, northWest,\\n\\t\\t\\t\\tsouthMiddleEast, southMiddleWest, northMiddleEast, northMiddleWest,\\n\\t\\t\\t} = DropdownView.defaultPanelPositions\\n\\n\\t\\t\\tlet panelPositions\\n\\n\\t\\t\\tif (editor.locale.uiLanguageDirection !== 'rtl') {\\n\\t\\t\\t\\tpanelPositions = [\\n\\t\\t\\t\\t\\tnorthEast, northWest, northMiddleEast, northMiddleWest, north,\\n\\t\\t\\t\\t\\tsouthEast, southWest, southMiddleEast, southMiddleWest, south,\\n\\t\\t\\t\\t]\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tpanelPositions = [\\n\\t\\t\\t\\t\\tnorthWest, northEast, northMiddleWest, northMiddleEast, north,\\n\\t\\t\\t\\t\\tsouthWest, southEast, southMiddleWest, southMiddleEast, south,\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (const item of toolbarView.items) {\\n\\t\\t\\t\\tif (!(item instanceof DropdownView)) {\\n\\t\\t\\t\\t\\tcontinue\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\titem.on('change:isOpen', () => {\\n\\t\\t\\t\\t\\tif (!item.isOpen) {\\n\\t\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\titem.panelView.position = DropdownView._getOptimalPosition({\\n\\t\\t\\t\\t\\t\\telement: item.panelView.element,\\n\\t\\t\\t\\t\\t\\ttarget: item.buttonView.element,\\n\\t\\t\\t\\t\\t\\tfitInViewport: true,\\n\\t\\t\\t\\t\\t\\tpositions: panelPositions,\\n\\t\\t\\t\\t\\t}).name\\n\\t\\t\\t\\t})\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\toverrideTooltipPositions(toolbarView) {\\n\\t\\t\\tfor (const item of toolbarView.items) {\\n\\t\\t\\t\\tif (item.buttonView) {\\n\\t\\t\\t\\t\\titem.buttonView.tooltipPosition = 'n'\\n\\t\\t\\t\\t} else if (item.tooltipPosition) {\\n\\t\\t\\t\\t\\titem.tooltipPosition = 'n'\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync loadEditorTranslations(language) {\\n\\t\\t\\tif (language === 'en') {\\n\\t\\t\\t\\t// The default, nothing to fetch\\n\\t\\t\\t\\treturn this.showEditor('en')\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tlogger.debug(`loading ${language} translations for CKEditor`)\\n\\t\\t\\t\\tawait import(\\n\\t\\t\\t\\t\\t/* webpackMode: \\\"lazy\\\" */\\n\\t\\t\\t\\t\\t`@ckeditor/ckeditor5-build-decoupled-document/build/translations/${language}`\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\tthis.showEditor(language)\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tlogger.error(`could not find CKEditor translations for \\\"${language}\\\"`, { error })\\n\\t\\t\\t\\tthis.showEditor('en')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tshowEditor(language) {\\n\\t\\t\\tlogger.debug(`using \\\"${language}\\\" as CKEditor language`)\\n\\t\\t\\tthis.config.language = language\\n\\n\\t\\t\\tthis.ready = true\\n\\t\\t},\\n\\t\\t/**\\n\\t\\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\\n\\t\\t */\\n\\t\\tonEditorReady(editor) {\\n\\t\\t\\tlogger.debug('TextEditor is ready', { editor })\\n\\n\\t\\t\\t// https://ckeditor.com/docs/ckeditor5/latest/examples/builds-custom/bottom-toolbar-editor.html\\n\\t\\t\\tthis.$refs.toolbarContainer.appendChild(editor.ui.view.toolbar.element)\\n\\t\\t\\tthis.$refs.editableContainer.appendChild(editor.ui.view.editable.element)\\n\\t\\t\\tif (this.readOnly) {\\n\\t\\t\\t\\teditor.ui.view.toolbar.element.style.display = 'none'\\n\\t\\t\\t\\teditor.enableReadOnlyMode('text-block')\\n\\t\\t\\t}\\n\\t\\t\\tif (editor.ui) {\\n\\t\\t\\t\\tthis.overrideDropdownPositionsToNorth(editor, editor.ui.view.toolbar)\\n\\t\\t\\t\\tthis.overrideTooltipPositions(editor.ui.view.toolbar)\\n\\t\\t\\t}\\n\\t\\t\\teditor.commands.get('mention')?.on('execute', (event, data) => {\\n\\t\\t\\t\\tevent.stop()\\n\\t\\t\\t\\tconst eventData = data[0]\\n\\t\\t\\t\\tconst item = eventData.mention\\n\\t\\t\\t\\tif (eventData.marker === ':') {\\n\\t\\t\\t\\t\\temojiAddRecent(item)\\n\\t\\t\\t\\t\\tthis.editorInstance.execute('insertItem', item.native, ':')\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (eventData.marker === '/') {\\n\\t\\t\\t\\t\\tgetLinkWithPicker(item.id)\\n\\t\\t\\t\\t\\t\\t.then((link) => {\\n\\t\\t\\t\\t\\t\\t\\tthis.editorInstance.execute('insertItem', link, '/')\\n\\t\\t\\t\\t\\t\\t\\tthis.editorInstance.editing.view.focus()\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\t\\t\\tconsole.debug('Smart picker promise rejected:', error)\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (eventData.marker === '@') {\\n\\t\\t\\t\\t\\tthis.editorInstance.execute('insertItem', { email: item.email[0], label: item.label }, '@')\\n\\t\\t\\t\\t\\tthis.$emit('mention', { email: item.email[0], label: item.label })\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (eventData.marker === '!') {\\n\\t\\t\\t\\t\\tthis.insertTextBlock(item, false)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, { priority: 'high' })\\n\\n\\t\\t\\tthis.editorInstance = editor\\n\\n\\t\\t\\tif (this.focus) {\\n\\t\\t\\t\\tlogger.debug('focusing TextEditor')\\n\\t\\t\\t\\teditor.editing.view.focus()\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (this.html) {\\n\\t\\t\\t\\tthis.$emit('show-toolbar', editor.ui._focusableToolbarDefinitions[0].toolbarView.element)\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.bus.on('append-to-body-at-cursor', this.appendToBodyAtCursor)\\n\\t\\t\\tthis.bus.on('insert-text-block', this.insertTextBlock)\\n\\t\\t\\tthis.$emit('ready', editor)\\n\\t\\t},\\n\\t\\tonEditorInput(text) {\\n\\t\\t\\tif (text !== this.value) {\\n\\t\\t\\t\\tlogger.debug(`TextEditor input changed to <${text}>`)\\n\\t\\t\\t\\tthis.$emit('input', text)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tappendToBodyAtCursor(toAppend) {\\n\\t\\t\\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\\n\\t\\t\\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\\n\\t\\t\\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\\n\\t\\t\\tthis.editorInstance.model.insertContent(modelFragment)\\n\\t\\t},\\n\\t\\teditorExecute(commandName, ...args) {\\n\\t\\t\\tif (this.editorInstance) {\\n\\t\\t\\t\\tthis.editorInstance.execute(commandName, ...args)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthrow new Error('Impossible to execute a command before editor is ready.')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tinsertTextBlock(textBlock, addTriggrer = true) {\\n\\t\\t\\tif (addTriggrer) {\\n\\t\\t\\t\\tthis.appendToBodyAtCursor('!')\\n\\t\\t\\t}\\n\\t\\t\\tlet content = textBlock.content\\n\\t\\t\\tif (!this.html) {\\n\\t\\t\\t\\tconst text = new Text('html', content)\\n\\t\\t\\t\\tcontent = toPlain(text).value\\n\\t\\t\\t}\\n\\t\\t\\tthis.editorInstance.execute('insertItem', { content, isHtml: this.html }, '!')\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style lang=\\\"scss\\\" scoped>\\n.editor-wrapper--bordered{\\n\\t--border-offset: calc(var(--border-width-input-focused, 2px) - var(--border-width-input, 2px));\\n\\tmargin-top: var(--default-grid-baseline);\\n\\tborder: var(--border-width-input, 2px) solid var(--color-border-maxcontrast);\\n\\tborder-radius:var(--border-radius-large);\\n\\theight: 200px;\\n\\t// to align with the text input in the text block modal\\n\\tpadding: 9px;\\n\\n\\t:deep(.ck.ck-editor__editable_inline) {\\n\\t\\tpadding:0 !important;\\n\\t}\\n\\t&:focus {\\n\\t\\tpadding: calc(9px - var(--border-offset));\\n\\t\\tborder-color: var(--color-main-text);\\n\\t\\tborder-width: var(--border-width-input-focused, 2px);\\n\\t}\\n\\t&:hover {\\n\\t\\tpadding: calc(9px - var(--border-offset));\\n\\t\\tborder-color: var(--color-main-text);\\n\\t\\tborder-width: var(--border-width-input-focused, 2px);\\n\\t}\\n}\\n\\n.editor {\\n\\twidth: 100%;\\n\\theight: calc(100% - 75px);\\n\\toverflow: scroll;\\n\\tmargin-bottom: 10px;\\n\\n\\t&.ck {\\n\\t\\tborder: none !important;\\n\\t\\tbox-shadow: none !important;\\n\\t\\tpadding: 0;\\n\\t}\\n}\\n\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n</style>\\n\\n<style>\\n/*\\nOverwrite the default z-index for CKEditor\\nhttps://github.com/ckeditor/ckeditor5/issues/1142\\n */\\n .ck .ck-reset {\\n\\tbackground: var(--color-main-background) !important;\\n }\\n/* Default ckeditor value of padding-inline-start, to overwrite the global styling from server */\\n.ck-content ul, .ck-content ol {\\n\\tpadding-inline-start: 40px;\\n}\\n\\n.ck-read-only {\\n\\tcolor: var(--color-main-text) !important;\\n\\tbackground-color: var(--color-main-background) !important;\\n\\topacity: 1 !important;\\n\\tfont-size: 100% !important;\\n}\\n\\n.ck-list__item {\\n\\t.ck-off {\\n\\t\\tbackground:var(--color-main-background) !important;\\n\\t}\\n\\t.ck-on {\\n\\t\\tbackground:var(--color-primary-element-light) !important;\\n\\t}\\n}\\n\\n.custom-item-username {\\n\\tcolor: var(--color-main-text) !important;\\n }\\n\\n.link-title {\\n\\tcolor: var(--color-main-text) !important;\\n\\tmargin-inline-start: var(--default-grid-baseline) !important;\\n}\\n\\n.custom-item {\\n\\twidth : 100% !important;\\n\\tborder-radius : 8px !important;\\n\\tpadding : 4px 8px !important;\\n\\tdisplay :block;\\n\\tbackground:var(--color-main-background)!important;\\n}\\n\\n.custom-item:hover {\\n\\tbackground:var(--color-primary-element-light)!important;\\n}\\n\\n.link-container{\\n\\tborder-radius :8px !important;\\n\\tpadding :4px 8px !important;\\n\\tdisplay : block;\\n\\twidth : 100% !important;\\n\\tbackground:var(--color-main-background)!important;\\n\\timg.link-icon {\\n\\t\\twidth: 16px;\\n\\t\\theight: 16px;\\n\\t}\\n}\\n\\n.link-container:hover {\\n\\tbackground:var(--color-primary-element-light)!important;\\n}\\n\\n:root {\\n\\t--ck-z-default: 10000;\\n\\t--ck-balloon-border-width:  0;\\n}\\n\\n.ck.ck-toolbar {\\n\\tborder-radius: var(--border-radius-large) !important;\\n\\tbackground: var(--color-main-background) !important;\\n    color: var(--color-main-text) !important;\\n\\tborder: 1px solid var(--color-text-maxcontrast) !important;\\n}\\n\\n.ck-rounded-corners .ck.ck-dropdown__panel, .ck.ck-dropdown__panel.ck-rounded-corners {\\n\\tborder-radius: var(--border-radius-large) !important;\\n\\toverflow: visible;\\n}\\n\\n.ck.ck-list-styles-list {\\n/* our composer is very small, having menus vertically shown is better */\\n\\tgrid-template-rows: repeat(3,auto) !important;\\n\\tgrid-template-columns: unset !important;\\n}\\n\\n.ck.ck-button {\\n\\tborder-radius: var(--border-radius-element) !important;\\n}\\n\\n.ck-powered-by-balloon {\\n\\tdisplay: none !important;\\n}\\n\\n.editor-wrapper {\\n\\tdisplay: flex;\\n\\tflex-direction: column-reverse;\\n\\theight: 100%;\\n\\n\\t.toolbar {\\n\\t\\tposition: sticky;\\n\\t\\tbottom: 0;\\n\\t\\tz-index: 10;\\n\\t}\\n\\n\\t.editable {\\n\\t\\tflex-grow: 1;\\n\\t\\toverflow-y: auto;\\n\\t}\\n}\\n\\n.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable) {\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\twidth: 99%;\\n\\theight: 97%;\\n}\\n\\n.ck.ck-button, a.ck.ck-button {\\n\\tfont-size: small;\\n\\tfont-weight: normal;\\n}\\n\\n.ck-source-editing-area {\\n\\theight: 97%;\\n\\toverflow: scroll;\\n}\\n\\n.ck-source-editing-area textarea {\\n\\tborder: 0;\\n}\\n\\n.ck.ck-editor__editable_inline {\\n\\twidth: 99%;\\n\\theight: 97%;\\n\\tborder: 0;\\n}\\n\\n.select, button:not(.button-vue,[class^=vs__]), .button, input[type=button], input[type=submit], input[type=reset] {\\n\\tcolor: var(--color-main-text);\\n}\\n\\n/* We need the paragraph field a bit smaller so it doesnt break the toolbar for signature */\\n.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label {\\n\\twidth: 6em !important;\\n}\\n\\n.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content {\\n\\tborder: none;\\n}\\n\\n.ck.ck-balloon-panel_visible {\\n    border-radius: calc(var(--border-radius-large) + 1px) !important;\\n    background: var(--color-main-background) !important;\\n    color: var(--color-main-text) !important;\\n    box-shadow: 0 2px 8px rgba(0,0,0,0.15);\\n}\\n\\n.ck.ck-tooltip__text{\\n\\tcolor: var(--color-main-text) !important;\\n}\\n\\n.ck.ck-toolbar .ck-button {\\n\\tcolor: var(--color-main-text) !important;\\n}\\n\\n.ck.ck-toolbar .ck-button:hover,\\n.ck.ck-toolbar .ck-button.ck-on,\\n.ck.ck-toolbar .ck-button:focus {\\n\\tbackground: var(--color-primary-element-light) !important;\\n    color: var(--color-main-text) !important;\\n}\\n\\n.ck.ck-toolbar .ck-button .ck-button__label {\\n\\tcolor: var(--color-main-text) !important;\\n}\\n\\n.ck.ck-dropdown__panel .ck.ck-list {\\n\\tborder-radius: var(--border-radius-large) !important;\\n}\\n\\n.ck-dropdown__panel.ck-dropdown__panel-visible {\\n\\tborder-radius: var(--border-radius-large) !important;\\n}\\n\\n/* Needs to be set to flex, bececause else it breaks the toolbar - it is shown in 2 lines instead of 1 */\\n.ck.ck-splitbutton.ck-dropdown__button{\\n\\tdisplay: flex !important;\\n}\\n\\n.ck.ck-input.ck-input-text{\\n\\tbackground: var(--color-main-background) !important;\\n    color: var(--color-main-text) !important;\\n\\tcursor: text !important;\\n}\\n\\n.ck.ck-labeled-field-view__input-wrapper .ck.ck-label {\\n\\tbackground: var(--color-main-background) !important;\\n    color: var(--color-main-text) !important;\\n}\\n\\n.ck.ck-button.ck-splitbutton__action {\\n    margin: 0 !important;\\n}\\n\\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-button,\\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-splitbutton__action,\\n.ck.ck-splitbutton.ck-dropdown__button:hover .ck-splitbutton__arrow {\\n\\tbackground: var(--color-primary-element-light) !important;\\n\\tcolor: var(--color-main-text) !important;\\n}\\n\\n.ck.ck-splitbutton .ck-button:focus,\\n.ck.ck-splitbutton .ck-button:focus-visible,\\n.ck.ck-splitbutton .ck-button:active,\\n.ck.ck-splitbutton .ck-button.ck-on {\\n\\tbackground: var(--color-primary-element-light) !important;\\n\\tcolor: var(--color-main-text) !important;\\n\\toutline: none !important;\\n}\\n\\n.ck.ck-splitbutton.ck-splitbutton_open .ck-button,\\n.ck.ck-splitbutton.ck-splitbutton_open .ck-splitbutton__action,\\n.ck.ck-splitbutton.ck-splitbutton_open .ck-splitbutton__arrow {\\n    background: var(--color-primary-element-light) !important;\\n    color: var(--color-main-text) !important;\\n}\\n\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["TRIGGER_CHANGE_ALIAS","TRIGGER_EDITOR_READY","InsertSignatureCommand","Command","removeSignatureElement","editor","writer","range","model","createRangeIn","document","getRoot","value","getWalker","shallow","item","is","name","remove","insertSignatureElement","signature","signatureAboveQuote","length","viewFragment","data","processor","toView","modelFragment","toModel","signatureElement","createElement","append","createText","signaturePosition","this","findPosition","insertContent","createPositionBefore","createPositionAt","hasSignatureElement","execute","trigger","change","refresh","isEnabled","findMatches","mail","url","generateUrl","Axios","get","then","resp","addToContact","id","mailAddr","put","uid","newContact","contactName","autoCompleteByName","term","___CSS_LOADER_EXPORT___","push","module","mailboxHasRights","mailbox","rights","myAcls","acls","right","includes","mitt","async","trustSender","email","type","trustFlag","axios","delete","fetchTrustedSenders","components","ButtonVue","Modal","IconInbox","IconDraft","IconSent","IconArchive","IconTrash","IconFolder","IconBreadcrumb","IconLoading","props","account","Object","required","selected","Number","default","undefined","loading","Boolean","labelSelect","String","t","labelSelectLoading","pickedMailbox","allowRoot","selectedMailboxId","mailboxCrumbs","computed","mapStores","useMainStore","mailboxes","mainStore","getSubMailboxes","getMailboxes","accountId","filteredMailboxes","filter","databaseId","methods","getMailboxIcon","specialRole","getMailboxTitle","translateMailboxName","onClickHome","$emit","onClickCrumb","index","slice","onClickMailbox","onSelect","onClose","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_vm","_c","_self","on","ref","staticClass","_v","_s","$event","preventDefault","apply","arguments","attrs","_l","box","key","scopedSlots","_u","fn","_e","proxy","NcActionButton","NcLoadingIcon","NcSelect","NcDialog","TextEditor","NcButton","NcAvatar","NcInputField","AccountMultiple","IconClose","IconPencil","IconCheck","NcListItem","textBlock","shared","isViewMode","picked","shares","localTextBlock","JSON","parse","stringify","editModalOpen","saveLoading","share","suggestions","bus","suggestion","find","shareWith","getCurrentUser","sortedShares","sort","a","b","mounted","getShares","deleteTextBlock","showSuccess","catch","showError","shareTextBlock","sharee","shareType","ShareType","User","isNoUser","displayName","error","removeShare","unshareTextBlock","asyncFind","query","debounceGetSuggestions","trim","getSuggestions","search","shareTypes","Group","request","generateOcsUrl","params","format","itemType","logger","ocs","exact","rawExactSuggestions","users","concat","groups","rawSuggestions","exactSuggestions","map","formatForMultiselect","allSuggestions","nameCounts","reduce","result","desc","shareWithDisplayNameUnique","info","shareTypeToIcon","icon","iconTitle","user","uuid","label","debounce","handleListItemClick","closeTextBlockDialog","saveTextBlock","patchTextBlock","title","preview","$set","content","callback","$$v","expression","option","translate","specialUse","isPriorityInbox","isUnified","Error","translateSpecial","e","console","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","code","ids","keys","exports","Signature","Plugin","init","_defineSchema","_defineConverters","commands","add","schema","register","inheritAllFrom","conversion","elementToElement","view","classes","Quote","Mail","requires","Paragraph","_overwriteParagraphConversion","styles","margin","converterPriority","InsertItemCommand","insertItem","currentPosition","selection","getLastPosition","walker","createRange","getShiftedBy","direction","text","lastSlash","lastIndexOf","textElement","insertText","substring","mailtoHref","anchorText","linkHref","isHtml","itemElement","PickerPlugin","ckeditor","CKEditor","html","placeholder","focus","disabled","textBlocks","Array","isBordered","readOnly","plugins","EssentialsPlugin","ParagraphPlugin","SignaturePlugin","QuotePlugin","Mention","LinkPlugin","FindAndReplace","GeneralHtmlSupport","toolbar","HeadingPlugin","AlignmentPlugin","BoldPlugin","ItalicPlugin","Underline","StrikethroughPlugin","Subscript","Superscript","BlockQuotePlugin","ListPlugin","ImagePlugin","ImageUploadPlugin","ImageResizePlugin","ListProperties","FontPlugin","RemoveFormat","Base64UploadAdapter","MailPlugin","unshift","linkTribute","emojiTribute","textSmiles","ready","Editor","config","licenseKey","items","language","mention","feeds","marker","feed","getEmoji","itemRenderer","customEmojiRenderer","getLink","customLinkRenderer","getContact","customRenderer","getTextBlock","beforeMount","loadEditorTranslations","getLanguage","results","searchProvider","toLowerCase","emojiResults","emojiSearch","contactResults","classList","colons","textContent","native","usernameElement","appendChild","src","icon_url","overrideDropdownPositionsToNorth","toolbarView","south","north","southEast","southWest","northEast","northWest","southMiddleEast","southMiddleWest","northMiddleEast","northMiddleWest","DropdownView","defaultPanelPositions","panelPositions","locale","uiLanguageDirection","isOpen","panelView","position","_getOptimalPosition","element","target","buttonView","fitInViewport","positions","overrideTooltipPositions","tooltipPosition","showEditor","debug","onEditorReady","$refs","toolbarContainer","ui","editableContainer","editable","style","display","enableReadOnlyMode","event","stop","eventData","emojiAddRecent","editorInstance","getLinkWithPicker","link","editing","insertTextBlock","priority","_focusableToolbarDefinitions","appendToBodyAtCursor","onEditorInput","toAppend","editorExecute","commandName","_len","args","_key","Text","toPlain","class","NcAppNavigationCaption","Fragment","ActionButton","ActionCheckbox","ActionInput","ActionText","AccountSettings","IconInfo","IconSettings","IconFolderAdd","MenuDown","MenuUp","IconDelete","firstMailbox","isFirst","isLast","isDisabled","menuOpen","savingShowOnlySubscribed","quota","showSaving","createMailboxName","showMailboxes","nameInput","nameLabel","showSettings","showSettingsForAccount","visible","quotaText","Math","ceil","usage","limit","formatFileSize","quotaPercentage","createMailbox","openCreateMailbox","removeAccount","dialog","DialogBuilder","setName","setText","emailAddress","setButtons","deleteAccount","location","href","build","show","changeAccountOrderUp","moveAccount","up","changeAccountOrderDown","changeShowSubscribedOnly","onlySubscribed","patchAccount","showSubscribedOnly","onMenuToggle","open","fetchQuota","showAccountSettings","showSettingsForAccountMutation","stopPropagation","provisioningId","AppNavigationItem","collapsed","toggleCollapse","toggleAccountCollapsedMutation","setAccountSetting","MailboxPicker","moving","destMailboxId","onMove","newName","getMailbox","delimiter","renameMailbox","genId","DroppableMailbox","constructor","el","componentInstance","registerListeners","bind","setInitialAttributes","draggableInfo","setStatus","update","instance","dragEventBus","onDragStart","onDragEnd","firstChild","addEventListener","onDragOver","onDragLeave","onDrop","removeListeners","off","removeEventListener","status","setAttribute","canBeDropped","isSameAccount","isValidDropTarget","isCurrentlyDragging","mailboxId","dataTransfer","dropEffect","envelopesBeingDragged","getData","emit","envelopes","processedEnvelopes","processDroppedItem","envelope","all","movedEnvelopes","querySelector","getPreference","moveThread","moveMessage","removeAttribute","DroppableMailboxDirective","binding","vnode","context","componentUpdated","CounterBubble","IconSend","IconSendOutline","IconDeleteOutline","IconEmailCheck","IconExternal","IconFolderRename","IconFolderSync","IconAllInboxes","IconAllInboxesOutline","IconFavorite","IconFavoriteOutline","IconFolderOutline","IconFolderShared","IconFolderSharedOutline","IconDraftOutline","IconArchiveOutline","IconJunk","IconInboxOutline","IconWrench","EraserIcon","ImportantIcon","MoveMailboxModal","AlarmIcon","directives","droppableMailbox","window","OC","mailboxStats","loadingMarkAsRead","clearingCache","changeSubscription","changingSyncInBackground","showSubMailboxes","renameLabel","renameInput","mailboxName","showMoveModal","hasDelimiter","UNIFIED_INBOX_ID","repairing","attributes","isUnifiedButOnlyInbox","notInbox","notVirtual","to","hasSubMailboxes","subMailboxes","statsText","unread","n","total","isDroppableSpecialMailbox","draftsMailboxId","sentMailboxId","isActive","$route","hasInsertAcl","getAccounts","showUnreadCounter","subCounter","carry","mb","hasRenameAcl","parent","getParentMailbox","hasSeenAcl","hasSubmailboxActionAcl","hasDeleteAcl","hasClearMailboxAcl","onEnvelopesMoved","beforeDestroy","fetchMailboxStats","stats","getMailboxStatus","withPrefix","markAsRead","markMailboxRead","changeFolderSubscription","subscribed","changeMailboxSubscription","changeSyncInBackground","syncInBackground","patchMailbox","clearCache","reload","clearMailbox","dialogs","confirmDestructive","YES_NO_BUTTONS","confirm","confirmClasses","cancel","deleteMailbox","parseInt","$router","PRIORITY_INBOX_ID","path","showInfo","openRenameInput","onOpenMoveModal","onCloseMoveModal","_ref","expandAccountMutation","_ref2","_ref3","openedMessageHasBeenMoved","movedEnvelope","envelopeId","threadId","repair","repairMailbox","response","rawName","active","archiveMailboxId","trashMailboxId","junkMailboxId","snoozeMailboxId","isSubscribed","subMailbox","IconOutbox","useOutboxStore","count","outboxStore","getAllMessages","InvalidPkcs12CertificateError","super","TYPE_PKCS12","NcModal","NcPasswordField","NcEmptyContent","DeleteIcon","TYPE_PEM","moment","showImportScreen","certificateType","certificate","privateKey","password","mapState","certificates","inputFormIsValid","fetchSmimeCertificates","deleteCertificate","deleteSmimeCertificate","uploadCertificate","files","pkcs12Der","der","forge","ByteBuffer","asn1","fromDer","p12","pkcs12FromAsn1","getBags","bagType","certBags","oids","certBag","keyBags","pkcs8ShroudedKeyBag","certificateToPem","cert","join","privateKeyToPem","convertPkcs12ToPem","arrayBuffer","Blob","createSmimeCertificate","resetImportForm","domProps","_q","commonName","unix","notAfter","sortByEmail","sortBy","prop","list","sortedSenders","removeSender","sender","s","senderType","sortByAddress","NcTextField","IconAdd","openDialog","newAddress","buttons","IconCancel","addInternalAddress","getInternalAddresses","sortedDomains","sortedEmails","removeInternalAddress","address","checkType","parts","split","domain","ListItem","TrustedSenders","InternalAddress","IconEmail","IconLock","SmimeCertificateModal","NcCheckboxRadioSwitch","NcAppSettingsDialog","NcAppSettingsSection","NcKbd","CompactMode","VerticalSplit","HorizontalSplit","List","mixins","isMobile","loadingAvatarSettings","prioritySettingsText","loadingPrioritySettings","optOutSettingsText","loadingOptOutSettings","loadingInternalAddresses","replySettingsText","loadingReplySettings","autoTaggingText","followUpReminderText","internalAddressText","toggleAutoTagging","loadingFollowUpReminders","displaySmimeCertificateModal","sortOrder","showMailSettings","selectedAccount","mailvelopeIsAvailable","trapElements","textBlockDialogOpen","searchPriorityBody","useBottomReplies","useExternalAvatars","useDataCollection","useAutoTagging","useInternalAddresses","useFollowUpReminders","allowNewMailAccounts","layoutMode","layoutMessageView","watch","onOpen","call","checkMailvelope","areTextBlocksFetched","fetchMyTextBlocks","fetchSharedTextBlocks","updated","closeAccountSettings","openAccountSettings","mailvelope","setLayout","savePreference","Logger","setLayoutMessageView","onToggleButtonReplies","atBottom","onToggleExternalAvatars","enabled","onToggleSearchPriorityBody","onToggleCollectData","collect","onSortByDate","previousValue","removeAllEnvelopesMutation","onToggleAutoTagging","onToggleFollowUpReminders","onToggleInternalAddress","registerProtocolHandler","navigator","protocol","host","theme","err","mailvelopeAuthorizeDomain","iframe","body","handleShowToolbar","newTextBlock","createTextBlock","getMyTextBlocks","click","getSharedTextBlocks","followUpFeatureAvailable","AppNavigation","AppSettingsMenu","NavigationAccount","NavigationAccountExpandCollapse","NavigationMailbox","NavigationOutbox","NewMessageButtonHeader","IconSetting","refreshing","menu","UNIFIED_ACCOUNT_ID","isCollapsible","isCollapsed","unifiedAccount","getAccount","unifiedMailboxes","passwordIsUnavailable","outboxMessages","accounts","masterPasswordEnabled","group","IconRefresh","showRefresh","currentMailbox","refreshMailbox","syncEnvelopes","onNewMessage","startComposerSession","isBlankMessage"],"sourceRoot":""}